var p$=Object.defineProperty;var m$=(t,e,n)=>e in t?p$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var G_=(t,e,n)=>m$(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ki(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j_={exports:{}},df={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI;function g$(){if(UI)return df;UI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:o}}return df.Fragment=e,df.jsx=n,df.jsxs=n,df}var BI;function v$(){return BI||(BI=1,j_.exports=g$()),j_.exports}var I=v$(),W_={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FI;function y$(){if(FI)return Fe;FI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.iterator;function _(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function w(D,K,Y){this.props=D,this.context=K,this.refs=S,this.updater=Y||T}w.prototype.isReactComponent={},w.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},w.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function x(){}x.prototype=w.prototype;function N(D,K,Y){this.props=D,this.context=K,this.refs=S,this.updater=Y||T}var P=N.prototype=new x;P.constructor=N,E(P,w.prototype),P.isPureReactComponent=!0;var k=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function F(D,K,Y,ie,ve,Se){return Y=Se.ref,{$$typeof:t,type:D,key:K,ref:Y!==void 0?Y:null,props:Se}}function X(D,K){return F(D.type,K,void 0,void 0,void 0,D.props)}function G(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function ae(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Y){return K[Y]})}var Q=/\/+/g;function W(D,K){return typeof D=="object"&&D!==null&&D.key!=null?ae(""+D.key):K.toString(36)}function Ae(){}function ke(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Ae,Ae):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Ee(D,K,Y,ie,ve){var Se=typeof D;(Se==="undefined"||Se==="boolean")&&(D=null);var ue=!1;if(D===null)ue=!0;else switch(Se){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(D.$$typeof){case t:case e:ue=!0;break;case h:return ue=D._init,Ee(ue(D._payload),K,Y,ie,ve)}}if(ue)return ve=ve(D),ue=ie===""?"."+W(D,0):ie,k(ve)?(Y="",ue!=null&&(Y=ue.replace(Q,"$&/")+"/"),Ee(ve,K,Y,"",function(le){return le})):ve!=null&&(G(ve)&&(ve=X(ve,Y+(ve.key==null||D&&D.key===ve.key?"":(""+ve.key).replace(Q,"$&/")+"/")+ue)),K.push(ve)),1;ue=0;var De=ie===""?".":ie+":";if(k(D))for(var ot=0;ot<D.length;ot++)ie=D[ot],Se=De+W(ie,ot),ue+=Ee(ie,K,Y,Se,ve);else if(ot=_(D),typeof ot=="function")for(D=ot.call(D),ot=0;!(ie=D.next()).done;)ie=ie.value,Se=De+W(ie,ot++),ue+=Ee(ie,K,Y,Se,ve);else if(Se==="object"){if(typeof D.then=="function")return Ee(ke(D),K,Y,ie,ve);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ue}function $(D,K,Y){if(D==null)return D;var ie=[],ve=0;return Ee(D,ie,"","",function(Se){return K.call(Y,Se,ve++)}),ie}function te(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(Y){(D._status===0||D._status===-1)&&(D._status=1,D._result=Y)},function(Y){(D._status===0||D._status===-1)&&(D._status=2,D._result=Y)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var he=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ie(){}return Fe.Children={map:$,forEach:function(D,K,Y){$(D,function(){K.apply(this,arguments)},Y)},count:function(D){var K=0;return $(D,function(){K++}),K},toArray:function(D){return $(D,function(K){return K})||[]},only:function(D){if(!G(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Fe.Component=w,Fe.Fragment=n,Fe.Profiler=i,Fe.PureComponent=N,Fe.StrictMode=r,Fe.Suspense=c,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return M.H.useMemoCache(D)}},Fe.cache=function(D){return function(){return D.apply(null,arguments)}},Fe.cloneElement=function(D,K,Y){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ie=E({},D.props),ve=D.key,Se=void 0;if(K!=null)for(ue in K.ref!==void 0&&(Se=void 0),K.key!==void 0&&(ve=""+K.key),K)!L.call(K,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&K.ref===void 0||(ie[ue]=K[ue]);var ue=arguments.length-2;if(ue===1)ie.children=Y;else if(1<ue){for(var De=Array(ue),ot=0;ot<ue;ot++)De[ot]=arguments[ot+2];ie.children=De}return F(D.type,ve,void 0,void 0,Se,ie)},Fe.createContext=function(D){return D={$$typeof:a,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},Fe.createElement=function(D,K,Y){var ie,ve={},Se=null;if(K!=null)for(ie in K.key!==void 0&&(Se=""+K.key),K)L.call(K,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ve[ie]=K[ie]);var ue=arguments.length-2;if(ue===1)ve.children=Y;else if(1<ue){for(var De=Array(ue),ot=0;ot<ue;ot++)De[ot]=arguments[ot+2];ve.children=De}if(D&&D.defaultProps)for(ie in ue=D.defaultProps,ue)ve[ie]===void 0&&(ve[ie]=ue[ie]);return F(D,Se,void 0,void 0,null,ve)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(D){return{$$typeof:u,render:D}},Fe.isValidElement=G,Fe.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:te}},Fe.memo=function(D,K){return{$$typeof:d,type:D,compare:K===void 0?null:K}},Fe.startTransition=function(D){var K=M.T,Y={};M.T=Y;try{var ie=D(),ve=M.S;ve!==null&&ve(Y,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Ie,he)}catch(Se){he(Se)}finally{M.T=K}},Fe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Fe.use=function(D){return M.H.use(D)},Fe.useActionState=function(D,K,Y){return M.H.useActionState(D,K,Y)},Fe.useCallback=function(D,K){return M.H.useCallback(D,K)},Fe.useContext=function(D){return M.H.useContext(D)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(D,K){return M.H.useDeferredValue(D,K)},Fe.useEffect=function(D,K,Y){var ie=M.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(D,K)},Fe.useId=function(){return M.H.useId()},Fe.useImperativeHandle=function(D,K,Y){return M.H.useImperativeHandle(D,K,Y)},Fe.useInsertionEffect=function(D,K){return M.H.useInsertionEffect(D,K)},Fe.useLayoutEffect=function(D,K){return M.H.useLayoutEffect(D,K)},Fe.useMemo=function(D,K){return M.H.useMemo(D,K)},Fe.useOptimistic=function(D,K){return M.H.useOptimistic(D,K)},Fe.useReducer=function(D,K,Y){return M.H.useReducer(D,K,Y)},Fe.useRef=function(D){return M.H.useRef(D)},Fe.useState=function(D){return M.H.useState(D)},Fe.useSyncExternalStore=function(D,K,Y){return M.H.useSyncExternalStore(D,K,Y)},Fe.useTransition=function(){return M.H.useTransition()},Fe.version="19.1.0",Fe}var VI;function Gu(){return VI||(VI=1,W_.exports=y$()),W_.exports}var A=Gu();const _$=Ki(A);var K_={exports:{}},hf={},Y_={exports:{}},J_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qI;function b$(){return qI||(qI=1,function(t){function e($,te){var he=$.length;$.push(te);e:for(;0<he;){var Ie=he-1>>>1,D=$[Ie];if(0<i(D,te))$[Ie]=te,$[he]=D,he=Ie;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var te=$[0],he=$.pop();if(he!==te){$[0]=he;e:for(var Ie=0,D=$.length,K=D>>>1;Ie<K;){var Y=2*(Ie+1)-1,ie=$[Y],ve=Y+1,Se=$[ve];if(0>i(ie,he))ve<D&&0>i(Se,ie)?($[Ie]=Se,$[ve]=he,Ie=ve):($[Ie]=ie,$[Y]=he,Ie=Y);else if(ve<D&&0>i(Se,he))$[Ie]=Se,$[ve]=he,Ie=ve;else break e}}return te}function i($,te){var he=$.sortIndex-te.sortIndex;return he!==0?he:$.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],d=[],h=1,v=null,_=3,T=!1,E=!1,S=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function k($){for(var te=n(d);te!==null;){if(te.callback===null)r(d);else if(te.startTime<=$)r(d),te.sortIndex=te.expirationTime,e(c,te);else break;te=n(d)}}function M($){if(S=!1,k($),!E)if(n(c)!==null)E=!0,L||(L=!0,W());else{var te=n(d);te!==null&&Ee(M,te.startTime-$)}}var L=!1,F=-1,X=5,G=-1;function ae(){return w?!0:!(t.unstable_now()-G<X)}function Q(){if(w=!1,L){var $=t.unstable_now();G=$;var te=!0;try{e:{E=!1,S&&(S=!1,N(F),F=-1),T=!0;var he=_;try{t:{for(k($),v=n(c);v!==null&&!(v.expirationTime>$&&ae());){var Ie=v.callback;if(typeof Ie=="function"){v.callback=null,_=v.priorityLevel;var D=Ie(v.expirationTime<=$);if($=t.unstable_now(),typeof D=="function"){v.callback=D,k($),te=!0;break t}v===n(c)&&r(c),k($)}else r(c);v=n(c)}if(v!==null)te=!0;else{var K=n(d);K!==null&&Ee(M,K.startTime-$),te=!1}}break e}finally{v=null,_=he,T=!1}te=void 0}}finally{te?W():L=!1}}}var W;if(typeof P=="function")W=function(){P(Q)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,ke=Ae.port2;Ae.port1.onmessage=Q,W=function(){ke.postMessage(null)}}else W=function(){x(Q,0)};function Ee($,te){F=x(function(){$(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function($){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var he=_;_=te;try{return $()}finally{_=he}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var he=_;_=$;try{return te()}finally{_=he}},t.unstable_scheduleCallback=function($,te,he){var Ie=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ie+he:Ie):he=Ie,$){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=he+D,$={id:h++,callback:te,priorityLevel:$,startTime:he,expirationTime:D,sortIndex:-1},he>Ie?($.sortIndex=he,e(d,$),n(c)===null&&$===n(d)&&(S?(N(F),F=-1):S=!0,Ee(M,he-Ie))):($.sortIndex=D,e(c,$),E||T||(E=!0,L||(L=!0,W()))),$},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function($){var te=_;return function(){var he=_;_=te;try{return $.apply(this,arguments)}finally{_=he}}}}(J_)),J_}var $I;function T$(){return $I||($I=1,Y_.exports=b$()),Y_.exports}var X_={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zI;function E$(){if(zI)return Dn;zI=1;var t=Gu();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,d,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:c,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Dn.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(c,d,null,h)},Dn.flushSync=function(c){var d=a.T,h=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=d,r.p=h,r.d.f()}},Dn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Dn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Dn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,v=u(h,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:T}):h==="script"&&r.d.X(c,{crossOrigin:v,integrity:_,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Dn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Dn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,v=u(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Dn.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Dn.requestFormReset=function(c){r.d.r(c)},Dn.unstable_batchedUpdates=function(c,d){return c(d)},Dn.useFormState=function(c,d,h){return a.H.useFormState(c,d,h)},Dn.useFormStatus=function(){return a.H.useHostTransitionStatus()},Dn.version="19.1.0",Dn}var HI;function WD(){if(HI)return X_.exports;HI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),X_.exports=E$(),X_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI;function S$(){if(GI)return hf;GI=1;var t=T$(),e=Gu(),n=WD();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,f=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(f=l.return),s=l.return;while(s)}return l.tag===3?f:null}function a(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(r(188))}function c(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(r(188));return l!==s?null:s}for(var f=s,g=l;;){var y=f.return;if(y===null)break;var b=y.alternate;if(b===null){if(g=y.return,g!==null){f=g;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===f)return u(y),s;if(b===g)return u(y),l;b=b.sibling}throw Error(r(188))}if(f.return!==g.return)f=y,g=b;else{for(var C=!1,R=y.child;R;){if(R===f){C=!0,f=y,g=b;break}if(R===g){C=!0,g=y,f=b;break}R=R.sibling}if(!C){for(R=b.child;R;){if(R===f){C=!0,f=b,g=y;break}if(R===g){C=!0,g=b,f=y;break}R=R.sibling}if(!C)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:l}function d(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=d(s),l!==null)return l;s=s.sibling}return null}var h=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),P=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function W(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var Ae=Symbol.for("react.client.reference");function ke(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Ae?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case w:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case L:return"SuspenseList";case G:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case P:return(s.displayName||"Context")+".Provider";case N:return(s._context.displayName||"Context")+".Consumer";case k:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case F:return l=s.displayName||null,l!==null?l:ke(s.type)||"Memo";case X:l=s._payload,s=s._init;try{return ke(s(l))}catch{}}return null}var Ee=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ie=[],D=-1;function K(s){return{current:s}}function Y(s){0>D||(s.current=Ie[D],Ie[D]=null,D--)}function ie(s,l){D++,Ie[D]=s.current,s.current=l}var ve=K(null),Se=K(null),ue=K(null),De=K(null);function ot(s,l){switch(ie(ue,l),ie(Se,s),ie(ve,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?fI(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=fI(l),s=dI(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Y(ve),ie(ve,s)}function le(){Y(ve),Y(Se),Y(ue)}function Le(s){s.memoizedState!==null&&ie(De,s);var l=ve.current,f=dI(l,s.type);l!==f&&(ie(Se,s),ie(ve,f))}function Ve(s){Se.current===s&&(Y(ve),Y(Se)),De.current===s&&(Y(De),af._currentValue=he)}var re=Object.prototype.hasOwnProperty,Gt=t.unstable_scheduleCallback,Xe=t.unstable_cancelCallback,Tn=t.unstable_shouldYield,En=t.unstable_requestPaint,jt=t.unstable_now,fl=t.unstable_getCurrentPriorityLevel,lh=t.unstable_ImmediatePriority,uh=t.unstable_UserBlockingPriority,dl=t.unstable_NormalPriority,Nv=t.unstable_LowPriority,mc=t.unstable_IdlePriority,Mv=t.log,kv=t.unstable_setDisableYieldValue,Js=null,ce=null;function fe(s){if(typeof Mv=="function"&&kv(s),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(Js,s)}catch{}}var we=Math.clz32?Math.clz32:Jn,Ut=Math.log,st=Math.LN2;function Jn(s){return s>>>=0,s===0?32:31-(Ut(s)/st|0)|0}var It=256,kr=4194304;function Yi(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function $o(s,l,f){var g=s.pendingLanes;if(g===0)return 0;var y=0,b=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var R=g&134217727;return R!==0?(g=R&~b,g!==0?y=Yi(g):(C&=R,C!==0?y=Yi(C):f||(f=R&~s,f!==0&&(y=Yi(f))))):(R=g&~b,R!==0?y=Yi(R):C!==0?y=Yi(C):f||(f=g&~s,f!==0&&(y=Yi(f)))),y===0?0:l!==0&&l!==y&&(l&b)===0&&(b=y&-y,f=l&-l,b>=f||b===32&&(f&4194048)!==0)?l:y}function Sn(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function hl(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KC(){var s=It;return It<<=1,(It&4194048)===0&&(It=256),s}function YC(){var s=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),s}function Ov(s){for(var l=[],f=0;31>f;f++)l.push(s);return l}function gc(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function nq(s,l,f,g,y,b){var C=s.pendingLanes;s.pendingLanes=f,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=f,s.entangledLanes&=f,s.errorRecoveryDisabledLanes&=f,s.shellSuspendCounter=0;var R=s.entanglements,O=s.expirationTimes,q=s.hiddenUpdates;for(f=C&~f;0<f;){var j=31-we(f),ee=1<<j;R[j]=0,O[j]=-1;var z=q[j];if(z!==null)for(q[j]=null,j=0;j<z.length;j++){var H=z[j];H!==null&&(H.lane&=-536870913)}f&=~ee}g!==0&&JC(s,g,0),b!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=b&~(C&~l))}function JC(s,l,f){s.pendingLanes|=l,s.suspendedLanes&=~l;var g=31-we(l);s.entangledLanes|=l,s.entanglements[g]=s.entanglements[g]|1073741824|f&4194090}function XC(s,l){var f=s.entangledLanes|=l;for(s=s.entanglements;f;){var g=31-we(f),y=1<<g;y&l|s[g]&l&&(s[g]|=l),f&=~y}}function Dv(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Lv(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ZC(){var s=te.p;return s!==0?s:(s=window.event,s===void 0?32:NI(s.type))}function rq(s,l){var f=te.p;try{return te.p=s,l()}finally{te.p=f}}var zo=Math.random().toString(36).slice(2),kn="__reactFiber$"+zo,Xn="__reactProps$"+zo,pl="__reactContainer$"+zo,Uv="__reactEvents$"+zo,iq="__reactListeners$"+zo,oq="__reactHandles$"+zo,QC="__reactResources$"+zo,vc="__reactMarker$"+zo;function Bv(s){delete s[kn],delete s[Xn],delete s[Uv],delete s[iq],delete s[oq]}function ml(s){var l=s[kn];if(l)return l;for(var f=s.parentNode;f;){if(l=f[pl]||f[kn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(s=gI(s);s!==null;){if(f=s[kn])return f;s=gI(s)}return l}s=f,f=s.parentNode}return null}function gl(s){if(s=s[kn]||s[pl]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function yc(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function vl(s){var l=s[QC];return l||(l=s[QC]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function an(s){s[vc]=!0}var ex=new Set,tx={};function Xs(s,l){yl(s,l),yl(s+"Capture",l)}function yl(s,l){for(tx[s]=l,s=0;s<l.length;s++)ex.add(l[s])}var sq=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nx={},rx={};function aq(s){return re.call(rx,s)?!0:re.call(nx,s)?!1:sq.test(s)?rx[s]=!0:(nx[s]=!0,!1)}function ch(s,l,f){if(aq(l))if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+f)}}function fh(s,l,f){if(f===null)s.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+f)}}function Ji(s,l,f,g){if(g===null)s.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttributeNS(l,f,""+g)}}var Fv,ix;function _l(s){if(Fv===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Fv=l&&l[1]||"",ix=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fv+s+ix}var Vv=!1;function qv(s,l){if(!s||Vv)return"";Vv=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(H){var z=H}Reflect.construct(s,[],ee)}else{try{ee.call()}catch(H){z=H}s.call(ee.prototype)}}else{try{throw Error()}catch(H){z=H}(ee=s())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=g.DetermineComponentFrameRoot(),C=b[0],R=b[1];if(C&&R){var O=C.split(`
`),q=R.split(`
`);for(y=g=0;g<O.length&&!O[g].includes("DetermineComponentFrameRoot");)g++;for(;y<q.length&&!q[y].includes("DetermineComponentFrameRoot");)y++;if(g===O.length||y===q.length)for(g=O.length-1,y=q.length-1;1<=g&&0<=y&&O[g]!==q[y];)y--;for(;1<=g&&0<=y;g--,y--)if(O[g]!==q[y]){if(g!==1||y!==1)do if(g--,y--,0>y||O[g]!==q[y]){var j=`
`+O[g].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=g&&0<=y);break}}}finally{Vv=!1,Error.prepareStackTrace=f}return(f=s?s.displayName||s.name:"")?_l(f):""}function lq(s){switch(s.tag){case 26:case 27:case 5:return _l(s.type);case 16:return _l("Lazy");case 13:return _l("Suspense");case 19:return _l("SuspenseList");case 0:case 15:return qv(s.type,!1);case 11:return qv(s.type.render,!1);case 1:return qv(s.type,!0);case 31:return _l("Activity");default:return""}}function ox(s){try{var l="";do l+=lq(s),s=s.return;while(s);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Or(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function sx(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function uq(s){var l=sx(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),g=""+s[l];if(!s.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,b=f.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return y.call(this)},set:function(C){g=""+C,b.call(this,C)}}),Object.defineProperty(s,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(C){g=""+C},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function dh(s){s._valueTracker||(s._valueTracker=uq(s))}function ax(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return s&&(g=sx(s)?s.checked?"true":"false":s.value),s=g,s!==f?(l.setValue(s),!0):!1}function hh(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var cq=/[\n"\\]/g;function Dr(s){return s.replace(cq,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function $v(s,l,f,g,y,b,C,R){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),l!=null?C==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Or(l)):s.value!==""+Or(l)&&(s.value=""+Or(l)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),l!=null?zv(s,C,Or(l)):f!=null?zv(s,C,Or(f)):g!=null&&s.removeAttribute("value"),y==null&&b!=null&&(s.defaultChecked=!!b),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+Or(R):s.removeAttribute("name")}function lx(s,l,f,g,y,b,C,R){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),l!=null||f!=null){if(!(b!=="submit"&&b!=="reset"||l!=null))return;f=f!=null?""+Or(f):"",l=l!=null?""+Or(l):f,R||l===s.value||(s.value=l),s.defaultValue=l}g=g??y,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=R?s.checked:!!g,s.defaultChecked=!!g,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function zv(s,l,f){l==="number"&&hh(s.ownerDocument)===s||s.defaultValue===""+f||(s.defaultValue=""+f)}function bl(s,l,f,g){if(s=s.options,l){l={};for(var y=0;y<f.length;y++)l["$"+f[y]]=!0;for(f=0;f<s.length;f++)y=l.hasOwnProperty("$"+s[f].value),s[f].selected!==y&&(s[f].selected=y),y&&g&&(s[f].defaultSelected=!0)}else{for(f=""+Or(f),l=null,y=0;y<s.length;y++){if(s[y].value===f){s[y].selected=!0,g&&(s[y].defaultSelected=!0);return}l!==null||s[y].disabled||(l=s[y])}l!==null&&(l.selected=!0)}}function ux(s,l,f){if(l!=null&&(l=""+Or(l),l!==s.value&&(s.value=l),f==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=f!=null?""+Or(f):""}function cx(s,l,f,g){if(l==null){if(g!=null){if(f!=null)throw Error(r(92));if(Ee(g)){if(1<g.length)throw Error(r(93));g=g[0]}f=g}f==null&&(f=""),l=f}f=Or(l),s.defaultValue=f,g=s.textContent,g===f&&g!==""&&g!==null&&(s.value=g)}function Tl(s,l){if(l){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=l;return}}s.textContent=l}var fq=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fx(s,l,f){var g=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":g?s.setProperty(l,f):typeof f!="number"||f===0||fq.has(l)?l==="float"?s.cssFloat=f:s[l]=(""+f).trim():s[l]=f+"px"}function dx(s,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var y in l)g=l[y],l.hasOwnProperty(y)&&f[y]!==g&&fx(s,y,g)}else for(var b in l)l.hasOwnProperty(b)&&fx(s,b,l[b])}function Hv(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dq=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hq=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ph(s){return hq.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Gv=null;function jv(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var El=null,Sl=null;function hx(s){var l=gl(s);if(l&&(s=l.stateNode)){var f=s[Xn]||null;e:switch(s=l.stateNode,l.type){case"input":if($v(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Dr(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==s&&g.form===s.form){var y=g[Xn]||null;if(!y)throw Error(r(90));$v(g,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<f.length;l++)g=f[l],g.form===s.form&&ax(g)}break e;case"textarea":ux(s,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&bl(s,!!f.multiple,l,!1)}}}var Wv=!1;function px(s,l,f){if(Wv)return s(l,f);Wv=!0;try{var g=s(l);return g}finally{if(Wv=!1,(El!==null||Sl!==null)&&(Qh(),El&&(l=El,s=Sl,Sl=El=null,hx(l),s)))for(l=0;l<s.length;l++)hx(s[l])}}function _c(s,l){var f=s.stateNode;if(f===null)return null;var g=f[Xn]||null;if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kv=!1;if(Xi)try{var bc={};Object.defineProperty(bc,"passive",{get:function(){Kv=!0}}),window.addEventListener("test",bc,bc),window.removeEventListener("test",bc,bc)}catch{Kv=!1}var Ho=null,Yv=null,mh=null;function mx(){if(mh)return mh;var s,l=Yv,f=l.length,g,y="value"in Ho?Ho.value:Ho.textContent,b=y.length;for(s=0;s<f&&l[s]===y[s];s++);var C=f-s;for(g=1;g<=C&&l[f-g]===y[b-g];g++);return mh=y.slice(s,1<g?1-g:void 0)}function gh(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function vh(){return!0}function gx(){return!1}function Zn(s){function l(f,g,y,b,C){this._reactName=f,this._targetInst=y,this.type=g,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(f=s[R],this[R]=f?f(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?vh:gx,this.isPropagationStopped=gx,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),l}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yh=Zn(Zs),Tc=h({},Zs,{view:0,detail:0}),pq=Zn(Tc),Jv,Xv,Ec,_h=h({},Tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qv,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ec&&(Ec&&s.type==="mousemove"?(Jv=s.screenX-Ec.screenX,Xv=s.screenY-Ec.screenY):Xv=Jv=0,Ec=s),Jv)},movementY:function(s){return"movementY"in s?s.movementY:Xv}}),vx=Zn(_h),mq=h({},_h,{dataTransfer:0}),gq=Zn(mq),vq=h({},Tc,{relatedTarget:0}),Zv=Zn(vq),yq=h({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),_q=Zn(yq),bq=h({},Zs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Tq=Zn(bq),Eq=h({},Zs,{data:0}),yx=Zn(Eq),Sq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xq(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Cq[s])?!!l[s]:!1}function Qv(){return xq}var Aq=h({},Tc,{key:function(s){if(s.key){var l=Sq[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=gh(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?wq[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qv,charCode:function(s){return s.type==="keypress"?gh(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?gh(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Iq=Zn(Aq),Rq=h({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_x=Zn(Rq),Pq=h({},Tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qv}),Nq=Zn(Pq),Mq=h({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),kq=Zn(Mq),Oq=h({},_h,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Dq=Zn(Oq),Lq=h({},Zs,{newState:0,oldState:0}),Uq=Zn(Lq),Bq=[9,13,27,32],ey=Xi&&"CompositionEvent"in window,Sc=null;Xi&&"documentMode"in document&&(Sc=document.documentMode);var Fq=Xi&&"TextEvent"in window&&!Sc,bx=Xi&&(!ey||Sc&&8<Sc&&11>=Sc),Tx=" ",Ex=!1;function Sx(s,l){switch(s){case"keyup":return Bq.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var wl=!1;function Vq(s,l){switch(s){case"compositionend":return wx(l);case"keypress":return l.which!==32?null:(Ex=!0,Tx);case"textInput":return s=l.data,s===Tx&&Ex?null:s;default:return null}}function qq(s,l){if(wl)return s==="compositionend"||!ey&&Sx(s,l)?(s=mx(),mh=Yv=Ho=null,wl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return bx&&l.locale!=="ko"?null:l.data;default:return null}}var $q={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cx(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!$q[s.type]:l==="textarea"}function xx(s,l,f,g){El?Sl?Sl.push(g):Sl=[g]:El=g,l=op(l,"onChange"),0<l.length&&(f=new yh("onChange","change",null,f,g),s.push({event:f,listeners:l}))}var wc=null,Cc=null;function zq(s){sI(s,0)}function bh(s){var l=yc(s);if(ax(l))return s}function Ax(s,l){if(s==="change")return l}var Ix=!1;if(Xi){var ty;if(Xi){var ny="oninput"in document;if(!ny){var Rx=document.createElement("div");Rx.setAttribute("oninput","return;"),ny=typeof Rx.oninput=="function"}ty=ny}else ty=!1;Ix=ty&&(!document.documentMode||9<document.documentMode)}function Px(){wc&&(wc.detachEvent("onpropertychange",Nx),Cc=wc=null)}function Nx(s){if(s.propertyName==="value"&&bh(Cc)){var l=[];xx(l,Cc,s,jv(s)),px(zq,l)}}function Hq(s,l,f){s==="focusin"?(Px(),wc=l,Cc=f,wc.attachEvent("onpropertychange",Nx)):s==="focusout"&&Px()}function Gq(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bh(Cc)}function jq(s,l){if(s==="click")return bh(l)}function Wq(s,l){if(s==="input"||s==="change")return bh(l)}function Kq(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var dr=typeof Object.is=="function"?Object.is:Kq;function xc(s,l){if(dr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var f=Object.keys(s),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var y=f[g];if(!re.call(l,y)||!dr(s[y],l[y]))return!1}return!0}function Mx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function kx(s,l){var f=Mx(s);s=0;for(var g;f;){if(f.nodeType===3){if(g=s+f.textContent.length,s<=l&&g>=l)return{node:f,offset:l-s};s=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Mx(f)}}function Ox(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Ox(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Dx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=hh(s.document);l instanceof s.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)s=l.contentWindow;else break;l=hh(s.document)}return l}function ry(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Yq=Xi&&"documentMode"in document&&11>=document.documentMode,Cl=null,iy=null,Ac=null,oy=!1;function Lx(s,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;oy||Cl==null||Cl!==hh(g)||(g=Cl,"selectionStart"in g&&ry(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ac&&xc(Ac,g)||(Ac=g,g=op(iy,"onSelect"),0<g.length&&(l=new yh("onSelect","select",null,l,f),s.push({event:l,listeners:g}),l.target=Cl)))}function Qs(s,l){var f={};return f[s.toLowerCase()]=l.toLowerCase(),f["Webkit"+s]="webkit"+l,f["Moz"+s]="moz"+l,f}var xl={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},sy={},Ux={};Xi&&(Ux=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function ea(s){if(sy[s])return sy[s];if(!xl[s])return s;var l=xl[s],f;for(f in l)if(l.hasOwnProperty(f)&&f in Ux)return sy[s]=l[f];return s}var Bx=ea("animationend"),Fx=ea("animationiteration"),Vx=ea("animationstart"),Jq=ea("transitionrun"),Xq=ea("transitionstart"),Zq=ea("transitioncancel"),qx=ea("transitionend"),$x=new Map,ay="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ay.push("scrollEnd");function ci(s,l){$x.set(s,l),Xs(l,[s])}var zx=new WeakMap;function Lr(s,l){if(typeof s=="object"&&s!==null){var f=zx.get(s);return f!==void 0?f:(l={value:s,source:l,stack:ox(l)},zx.set(s,l),l)}return{value:s,source:l,stack:ox(l)}}var Ur=[],Al=0,ly=0;function Th(){for(var s=Al,l=ly=Al=0;l<s;){var f=Ur[l];Ur[l++]=null;var g=Ur[l];Ur[l++]=null;var y=Ur[l];Ur[l++]=null;var b=Ur[l];if(Ur[l++]=null,g!==null&&y!==null){var C=g.pending;C===null?y.next=y:(y.next=C.next,C.next=y),g.pending=y}b!==0&&Hx(f,y,b)}}function Eh(s,l,f,g){Ur[Al++]=s,Ur[Al++]=l,Ur[Al++]=f,Ur[Al++]=g,ly|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function uy(s,l,f,g){return Eh(s,l,f,g),Sh(s)}function Il(s,l){return Eh(s,null,null,l),Sh(s)}function Hx(s,l,f){s.lanes|=f;var g=s.alternate;g!==null&&(g.lanes|=f);for(var y=!1,b=s.return;b!==null;)b.childLanes|=f,g=b.alternate,g!==null&&(g.childLanes|=f),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(y=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,y&&l!==null&&(y=31-we(f),s=b.hiddenUpdates,g=s[y],g===null?s[y]=[l]:g.push(l),l.lane=f|536870912),b):null}function Sh(s){if(50<Zc)throw Zc=0,m_=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Rl={};function Qq(s,l,f,g){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(s,l,f,g){return new Qq(s,l,f,g)}function cy(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zi(s,l){var f=s.alternate;return f===null?(f=hr(s.tag,l,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=l,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&65011712,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,l=s.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.refCleanup=s.refCleanup,f}function Gx(s,l){s.flags&=65011714;var f=s.alternate;return f===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,l=f.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function wh(s,l,f,g,y,b){var C=0;if(g=s,typeof s=="function")cy(s)&&(C=1);else if(typeof s=="string")C=t$(s,f,ve.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case G:return s=hr(31,f,l,y),s.elementType=G,s.lanes=b,s;case E:return ta(f.children,y,b,l);case S:C=8,y|=24;break;case w:return s=hr(12,f,l,y|2),s.elementType=w,s.lanes=b,s;case M:return s=hr(13,f,l,y),s.elementType=M,s.lanes=b,s;case L:return s=hr(19,f,l,y),s.elementType=L,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case x:case P:C=10;break e;case N:C=9;break e;case k:C=11;break e;case F:C=14;break e;case X:C=16,g=null;break e}C=29,f=Error(r(130,s===null?"null":typeof s,"")),g=null}return l=hr(C,f,l,y),l.elementType=s,l.type=g,l.lanes=b,l}function ta(s,l,f,g){return s=hr(7,s,g,l),s.lanes=f,s}function fy(s,l,f){return s=hr(6,s,null,l),s.lanes=f,s}function dy(s,l,f){return l=hr(4,s.children!==null?s.children:[],s.key,l),l.lanes=f,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Pl=[],Nl=0,Ch=null,xh=0,Br=[],Fr=0,na=null,Qi=1,eo="";function ra(s,l){Pl[Nl++]=xh,Pl[Nl++]=Ch,Ch=s,xh=l}function jx(s,l,f){Br[Fr++]=Qi,Br[Fr++]=eo,Br[Fr++]=na,na=s;var g=Qi;s=eo;var y=32-we(g)-1;g&=~(1<<y),f+=1;var b=32-we(l)+y;if(30<b){var C=y-y%5;b=(g&(1<<C)-1).toString(32),g>>=C,y-=C,Qi=1<<32-we(l)+y|f<<y|g,eo=b+s}else Qi=1<<b|f<<y|g,eo=s}function hy(s){s.return!==null&&(ra(s,1),jx(s,1,0))}function py(s){for(;s===Ch;)Ch=Pl[--Nl],Pl[Nl]=null,xh=Pl[--Nl],Pl[Nl]=null;for(;s===na;)na=Br[--Fr],Br[Fr]=null,eo=Br[--Fr],Br[Fr]=null,Qi=Br[--Fr],Br[Fr]=null}var zn=null,Bt=null,nt=!1,ia=null,wi=!1,my=Error(r(519));function oa(s){var l=Error(r(418,""));throw Pc(Lr(l,s)),my}function Wx(s){var l=s.stateNode,f=s.type,g=s.memoizedProps;switch(l[kn]=s,l[Xn]=g,f){case"dialog":Ke("cancel",l),Ke("close",l);break;case"iframe":case"object":case"embed":Ke("load",l);break;case"video":case"audio":for(f=0;f<ef.length;f++)Ke(ef[f],l);break;case"source":Ke("error",l);break;case"img":case"image":case"link":Ke("error",l),Ke("load",l);break;case"details":Ke("toggle",l);break;case"input":Ke("invalid",l),lx(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),dh(l);break;case"select":Ke("invalid",l);break;case"textarea":Ke("invalid",l),cx(l,g.value,g.defaultValue,g.children),dh(l)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||g.suppressHydrationWarning===!0||cI(l.textContent,f)?(g.popover!=null&&(Ke("beforetoggle",l),Ke("toggle",l)),g.onScroll!=null&&Ke("scroll",l),g.onScrollEnd!=null&&Ke("scrollend",l),g.onClick!=null&&(l.onclick=sp),l=!0):l=!1,l||oa(s)}function Kx(s){for(zn=s.return;zn;)switch(zn.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:zn=zn.return}}function Ic(s){if(s!==zn)return!1;if(!nt)return Kx(s),nt=!0,!1;var l=s.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=s.type,f=!(f!=="form"&&f!=="button")||N_(s.type,s.memoizedProps)),f=!f),f&&Bt&&oa(s),Kx(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(f=s.data,f==="/$"){if(l===0){Bt=di(s.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;s=s.nextSibling}Bt=null}}else l===27?(l=Bt,ss(s.type)?(s=D_,D_=null,Bt=s):Bt=l):Bt=zn?di(s.stateNode.nextSibling):null;return!0}function Rc(){Bt=zn=null,nt=!1}function Yx(){var s=ia;return s!==null&&(tr===null?tr=s:tr.push.apply(tr,s),ia=null),s}function Pc(s){ia===null?ia=[s]:ia.push(s)}var gy=K(null),sa=null,to=null;function Go(s,l,f){ie(gy,l._currentValue),l._currentValue=f}function no(s){s._currentValue=gy.current,Y(gy)}function vy(s,l,f){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===f)break;s=s.return}}function yy(s,l,f,g){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var b=y.dependencies;if(b!==null){var C=y.child;b=b.firstContext;e:for(;b!==null;){var R=b;b=y;for(var O=0;O<l.length;O++)if(R.context===l[O]){b.lanes|=f,R=b.alternate,R!==null&&(R.lanes|=f),vy(b.return,f,s),g||(C=null);break e}b=R.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=f,b=C.alternate,b!==null&&(b.lanes|=f),vy(C,f,s),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===s){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function Nc(s,l,f,g){s=null;for(var y=l,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var R=y.type;dr(y.pendingProps.value,C.value)||(s!==null?s.push(R):s=[R])}}else if(y===De.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(af):s=[af])}y=y.return}s!==null&&yy(l,s,f,g),l.flags|=262144}function Ah(s){for(s=s.firstContext;s!==null;){if(!dr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function aa(s){sa=s,to=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function On(s){return Jx(sa,s)}function Ih(s,l){return sa===null&&aa(s),Jx(s,l)}function Jx(s,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},to===null){if(s===null)throw Error(r(308));to=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else to=to.next=l;return f}var e6=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(f,g){s.push(g)}};this.abort=function(){l.aborted=!0,s.forEach(function(f){return f()})}},t6=t.unstable_scheduleCallback,n6=t.unstable_NormalPriority,Qt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _y(){return{controller:new e6,data:new Map,refCount:0}}function Mc(s){s.refCount--,s.refCount===0&&t6(n6,function(){s.controller.abort()})}var kc=null,by=0,Ml=0,kl=null;function r6(s,l){if(kc===null){var f=kc=[];by=0,Ml=E_(),kl={status:"pending",value:void 0,then:function(g){f.push(g)}}}return by++,l.then(Xx,Xx),l}function Xx(){if(--by===0&&kc!==null){kl!==null&&(kl.status="fulfilled");var s=kc;kc=null,Ml=0,kl=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function i6(s,l){var f=[],g={status:"pending",value:null,reason:null,then:function(y){f.push(y)}};return s.then(function(){g.status="fulfilled",g.value=l;for(var y=0;y<f.length;y++)(0,f[y])(l)},function(y){for(g.status="rejected",g.reason=y,y=0;y<f.length;y++)(0,f[y])(void 0)}),g}var Zx=$.S;$.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&r6(s,l),Zx!==null&&Zx(s,l)};var la=K(null);function Ty(){var s=la.current;return s!==null?s:_t.pooledCache}function Rh(s,l){l===null?ie(la,la.current):ie(la,l.pool)}function Qx(){var s=Ty();return s===null?null:{parent:Qt._currentValue,pool:s}}var Oc=Error(r(460)),eA=Error(r(474)),Ph=Error(r(542)),Ey={then:function(){}};function tA(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Nh(){}function nA(s,l,f){switch(f=s[f],f===void 0?s.push(l):f!==l&&(l.then(Nh,Nh),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,iA(s),s;default:if(typeof l.status=="string")l.then(Nh,Nh);else{if(s=_t,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(g){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=g}},function(g){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,iA(s),s}throw Dc=l,Oc}}var Dc=null;function rA(){if(Dc===null)throw Error(r(459));var s=Dc;return Dc=null,s}function iA(s){if(s===Oc||s===Ph)throw Error(r(483))}var jo=!1;function Sy(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wy(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Wo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ko(s,l,f){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(at&2)!==0){var y=g.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),g.pending=l,l=Sh(s),Hx(s,null,f),l}return Eh(s,g,l,f),Sh(s)}function Lc(s,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var g=l.lanes;g&=s.pendingLanes,f|=g,l.lanes=f,XC(s,f)}}function Cy(s,l){var f=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var y=null,b=null;if(f=f.firstBaseUpdate,f!==null){do{var C={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};b===null?y=b=C:b=b.next=C,f=f.next}while(f!==null);b===null?y=b=l:b=b.next=l}else y=b=l;f={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:g.shared,callbacks:g.callbacks},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=l:s.next=l,f.lastBaseUpdate=l}var xy=!1;function Uc(){if(xy){var s=kl;if(s!==null)throw s}}function Bc(s,l,f,g){xy=!1;var y=s.updateQueue;jo=!1;var b=y.firstBaseUpdate,C=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var O=R,q=O.next;O.next=null,C===null?b=q:C.next=q,C=O;var j=s.alternate;j!==null&&(j=j.updateQueue,R=j.lastBaseUpdate,R!==C&&(R===null?j.firstBaseUpdate=q:R.next=q,j.lastBaseUpdate=O))}if(b!==null){var ee=y.baseState;C=0,j=q=O=null,R=b;do{var z=R.lane&-536870913,H=z!==R.lane;if(H?(Je&z)===z:(g&z)===z){z!==0&&z===Ml&&(xy=!0),j!==null&&(j=j.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Oe=s,Re=R;z=l;var ht=f;switch(Re.tag){case 1:if(Oe=Re.payload,typeof Oe=="function"){ee=Oe.call(ht,ee,z);break e}ee=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Re.payload,z=typeof Oe=="function"?Oe.call(ht,ee,z):Oe,z==null)break e;ee=h({},ee,z);break e;case 2:jo=!0}}z=R.callback,z!==null&&(s.flags|=64,H&&(s.flags|=8192),H=y.callbacks,H===null?y.callbacks=[z]:H.push(z))}else H={lane:z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},j===null?(q=j=H,O=ee):j=j.next=H,C|=z;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;H=R,R=H.next,H.next=null,y.lastBaseUpdate=H,y.shared.pending=null}}while(!0);j===null&&(O=ee),y.baseState=O,y.firstBaseUpdate=q,y.lastBaseUpdate=j,b===null&&(y.shared.lanes=0),ns|=C,s.lanes=C,s.memoizedState=ee}}function oA(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function sA(s,l){var f=s.callbacks;if(f!==null)for(s.callbacks=null,s=0;s<f.length;s++)oA(f[s],l)}var Ol=K(null),Mh=K(0);function aA(s,l){s=uo,ie(Mh,s),ie(Ol,l),uo=s|l.baseLanes}function Ay(){ie(Mh,uo),ie(Ol,Ol.current)}function Iy(){uo=Mh.current,Y(Ol),Y(Mh)}var Yo=0,$e=null,ft=null,Wt=null,kh=!1,Dl=!1,ua=!1,Oh=0,Fc=0,Ll=null,o6=0;function $t(){throw Error(r(321))}function Ry(s,l){if(l===null)return!1;for(var f=0;f<l.length&&f<s.length;f++)if(!dr(s[f],l[f]))return!1;return!0}function Py(s,l,f,g,y,b){return Yo=b,$e=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$.H=s===null||s.memoizedState===null?HA:GA,ua=!1,b=f(g,y),ua=!1,Dl&&(b=uA(l,f,g,y)),lA(s),b}function lA(s){$.H=Vh;var l=ft!==null&&ft.next!==null;if(Yo=0,Wt=ft=$e=null,kh=!1,Fc=0,Ll=null,l)throw Error(r(300));s===null||ln||(s=s.dependencies,s!==null&&Ah(s)&&(ln=!0))}function uA(s,l,f,g){$e=s;var y=0;do{if(Dl&&(Ll=null),Fc=0,Dl=!1,25<=y)throw Error(r(301));if(y+=1,Wt=ft=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}$.H=d6,b=l(f,g)}while(Dl);return b}function s6(){var s=$.H,l=s.useState()[0];return l=typeof l.then=="function"?Vc(l):l,s=s.useState()[0],(ft!==null?ft.memoizedState:null)!==s&&($e.flags|=1024),l}function Ny(){var s=Oh!==0;return Oh=0,s}function My(s,l,f){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~f}function ky(s){if(kh){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}kh=!1}Yo=0,Wt=ft=$e=null,Dl=!1,Fc=Oh=0,Ll=null}function Qn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?$e.memoizedState=Wt=s:Wt=Wt.next=s,Wt}function Kt(){if(ft===null){var s=$e.alternate;s=s!==null?s.memoizedState:null}else s=ft.next;var l=Wt===null?$e.memoizedState:Wt.next;if(l!==null)Wt=l,ft=s;else{if(s===null)throw $e.alternate===null?Error(r(467)):Error(r(310));ft=s,s={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Wt===null?$e.memoizedState=Wt=s:Wt=Wt.next=s}return Wt}function Oy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vc(s){var l=Fc;return Fc+=1,Ll===null&&(Ll=[]),s=nA(Ll,s,l),l=$e,(Wt===null?l.memoizedState:Wt.next)===null&&(l=l.alternate,$.H=l===null||l.memoizedState===null?HA:GA),s}function Dh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Vc(s);if(s.$$typeof===P)return On(s)}throw Error(r(438,String(s)))}function Dy(s){var l=null,f=$e.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var g=$e.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=Oy(),$e.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(s),g=0;g<s;g++)f[g]=ae;return l.index++,f}function ro(s,l){return typeof l=="function"?l(s):l}function Lh(s){var l=Kt();return Ly(l,ft,s)}function Ly(s,l,f){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=f;var y=s.baseQueue,b=g.pending;if(b!==null){if(y!==null){var C=y.next;y.next=b.next,b.next=C}l.baseQueue=y=b,g.pending=null}if(b=s.baseState,y===null)s.memoizedState=b;else{l=y.next;var R=C=null,O=null,q=l,j=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Je&ee)===ee:(Yo&ee)===ee){var z=q.revertLane;if(z===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===Ml&&(j=!0);else if((Yo&z)===z){q=q.next,z===Ml&&(j=!0);continue}else ee={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(R=O=ee,C=b):O=O.next=ee,$e.lanes|=z,ns|=z;ee=q.action,ua&&f(b,ee),b=q.hasEagerState?q.eagerState:f(b,ee)}else z={lane:ee,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(R=O=z,C=b):O=O.next=z,$e.lanes|=ee,ns|=ee;q=q.next}while(q!==null&&q!==l);if(O===null?C=b:O.next=R,!dr(b,s.memoizedState)&&(ln=!0,j&&(f=kl,f!==null)))throw f;s.memoizedState=b,s.baseState=C,s.baseQueue=O,g.lastRenderedState=b}return y===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Uy(s){var l=Kt(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var g=f.dispatch,y=f.pending,b=l.memoizedState;if(y!==null){f.pending=null;var C=y=y.next;do b=s(b,C.action),C=C.next;while(C!==y);dr(b,l.memoizedState)||(ln=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),f.lastRenderedState=b}return[b,g]}function cA(s,l,f){var g=$e,y=Kt(),b=nt;if(b){if(f===void 0)throw Error(r(407));f=f()}else f=l();var C=!dr((ft||y).memoizedState,f);C&&(y.memoizedState=f,ln=!0),y=y.queue;var R=hA.bind(null,g,y,s);if(qc(2048,8,R,[s]),y.getSnapshot!==l||C||Wt!==null&&Wt.memoizedState.tag&1){if(g.flags|=2048,Ul(9,Uh(),dA.bind(null,g,y,f,l),null),_t===null)throw Error(r(349));b||(Yo&124)!==0||fA(g,l,f)}return f}function fA(s,l,f){s.flags|=16384,s={getSnapshot:l,value:f},l=$e.updateQueue,l===null?(l=Oy(),$e.updateQueue=l,l.stores=[s]):(f=l.stores,f===null?l.stores=[s]:f.push(s))}function dA(s,l,f,g){l.value=f,l.getSnapshot=g,pA(l)&&mA(s)}function hA(s,l,f){return f(function(){pA(l)&&mA(s)})}function pA(s){var l=s.getSnapshot;s=s.value;try{var f=l();return!dr(s,f)}catch{return!0}}function mA(s){var l=Il(s,2);l!==null&&yr(l,s,2)}function By(s){var l=Qn();if(typeof s=="function"){var f=s;if(s=f(),ua){fe(!0);try{f()}finally{fe(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:s},l}function gA(s,l,f,g){return s.baseState=f,Ly(s,ft,typeof g=="function"?g:ro)}function a6(s,l,f,g,y){if(Fh(s))throw Error(r(485));if(s=l.action,s!==null){var b={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};$.T!==null?f(!0):b.isTransition=!1,g(b),f=l.pending,f===null?(b.next=l.pending=b,vA(l,b)):(b.next=f.next,l.pending=f.next=b)}}function vA(s,l){var f=l.action,g=l.payload,y=s.state;if(l.isTransition){var b=$.T,C={};$.T=C;try{var R=f(y,g),O=$.S;O!==null&&O(C,R),yA(s,l,R)}catch(q){Fy(s,l,q)}finally{$.T=b}}else try{b=f(y,g),yA(s,l,b)}catch(q){Fy(s,l,q)}}function yA(s,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){_A(s,l,g)},function(g){return Fy(s,l,g)}):_A(s,l,f)}function _A(s,l,f){l.status="fulfilled",l.value=f,bA(l),s.state=f,l=s.pending,l!==null&&(f=l.next,f===l?s.pending=null:(f=f.next,l.next=f,vA(s,f)))}function Fy(s,l,f){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=f,bA(l),l=l.next;while(l!==g)}s.action=null}function bA(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function TA(s,l){return l}function EA(s,l){if(nt){var f=_t.formState;if(f!==null){e:{var g=$e;if(nt){if(Bt){t:{for(var y=Bt,b=wi;y.nodeType!==8;){if(!b){y=null;break t}if(y=di(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Bt=di(y.nextSibling),g=y.data==="F!";break e}}oa(g)}g=!1}g&&(l=f[0])}}return f=Qn(),f.memoizedState=f.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:TA,lastRenderedState:l},f.queue=g,f=qA.bind(null,$e,g),g.dispatch=f,g=By(!1),b=Hy.bind(null,$e,!1,g.queue),g=Qn(),y={state:l,dispatch:null,action:s,pending:null},g.queue=y,f=a6.bind(null,$e,y,b,f),y.dispatch=f,g.memoizedState=s,[l,f,!1]}function SA(s){var l=Kt();return wA(l,ft,s)}function wA(s,l,f){if(l=Ly(s,l,TA)[0],s=Lh(ro)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=Vc(l)}catch(C){throw C===Oc?Ph:C}else g=l;l=Kt();var y=l.queue,b=y.dispatch;return f!==l.memoizedState&&($e.flags|=2048,Ul(9,Uh(),l6.bind(null,y,f),null)),[g,b,s]}function l6(s,l){s.action=l}function CA(s){var l=Kt(),f=ft;if(f!==null)return wA(l,f,s);Kt(),l=l.memoizedState,f=Kt();var g=f.queue.dispatch;return f.memoizedState=s,[l,g,!1]}function Ul(s,l,f,g){return s={tag:s,create:f,deps:g,inst:l,next:null},l=$e.updateQueue,l===null&&(l=Oy(),$e.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=s.next=s:(g=f.next,f.next=s,s.next=g,l.lastEffect=s),s}function Uh(){return{destroy:void 0,resource:void 0}}function xA(){return Kt().memoizedState}function Bh(s,l,f,g){var y=Qn();g=g===void 0?null:g,$e.flags|=s,y.memoizedState=Ul(1|l,Uh(),f,g)}function qc(s,l,f,g){var y=Kt();g=g===void 0?null:g;var b=y.memoizedState.inst;ft!==null&&g!==null&&Ry(g,ft.memoizedState.deps)?y.memoizedState=Ul(l,b,f,g):($e.flags|=s,y.memoizedState=Ul(1|l,b,f,g))}function AA(s,l){Bh(8390656,8,s,l)}function IA(s,l){qc(2048,8,s,l)}function RA(s,l){return qc(4,2,s,l)}function PA(s,l){return qc(4,4,s,l)}function NA(s,l){if(typeof l=="function"){s=s();var f=l(s);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function MA(s,l,f){f=f!=null?f.concat([s]):null,qc(4,4,NA.bind(null,l,s),f)}function Vy(){}function kA(s,l){var f=Kt();l=l===void 0?null:l;var g=f.memoizedState;return l!==null&&Ry(l,g[1])?g[0]:(f.memoizedState=[s,l],s)}function OA(s,l){var f=Kt();l=l===void 0?null:l;var g=f.memoizedState;if(l!==null&&Ry(l,g[1]))return g[0];if(g=s(),ua){fe(!0);try{s()}finally{fe(!1)}}return f.memoizedState=[g,l],g}function qy(s,l,f){return f===void 0||(Yo&1073741824)!==0?s.memoizedState=l:(s.memoizedState=f,s=U1(),$e.lanes|=s,ns|=s,f)}function DA(s,l,f,g){return dr(f,l)?f:Ol.current!==null?(s=qy(s,f,g),dr(s,l)||(ln=!0),s):(Yo&42)===0?(ln=!0,s.memoizedState=f):(s=U1(),$e.lanes|=s,ns|=s,l)}function LA(s,l,f,g,y){var b=te.p;te.p=b!==0&&8>b?b:8;var C=$.T,R={};$.T=R,Hy(s,!1,l,f);try{var O=y(),q=$.S;if(q!==null&&q(R,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var j=i6(O,g);$c(s,l,j,vr(s))}else $c(s,l,g,vr(s))}catch(ee){$c(s,l,{then:function(){},status:"rejected",reason:ee},vr())}finally{te.p=b,$.T=C}}function u6(){}function $y(s,l,f,g){if(s.tag!==5)throw Error(r(476));var y=UA(s).queue;LA(s,y,l,he,f===null?u6:function(){return BA(s),f(g)})}function UA(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:he},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:f},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function BA(s){var l=UA(s).next.queue;$c(s,l,{},vr())}function zy(){return On(af)}function FA(){return Kt().memoizedState}function VA(){return Kt().memoizedState}function c6(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var f=vr();s=Wo(f);var g=Ko(l,s,f);g!==null&&(yr(g,l,f),Lc(g,l,f)),l={cache:_y()},s.payload=l;return}l=l.return}}function f6(s,l,f){var g=vr();f={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Fh(s)?$A(l,f):(f=uy(s,l,f,g),f!==null&&(yr(f,s,g),zA(f,l,g)))}function qA(s,l,f){var g=vr();$c(s,l,f,g)}function $c(s,l,f,g){var y={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Fh(s))$A(l,y);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var C=l.lastRenderedState,R=b(C,f);if(y.hasEagerState=!0,y.eagerState=R,dr(R,C))return Eh(s,l,y,0),_t===null&&Th(),!1}catch{}finally{}if(f=uy(s,l,y,g),f!==null)return yr(f,s,g),zA(f,l,g),!0}return!1}function Hy(s,l,f,g){if(g={lane:2,revertLane:E_(),action:g,hasEagerState:!1,eagerState:null,next:null},Fh(s)){if(l)throw Error(r(479))}else l=uy(s,f,g,2),l!==null&&yr(l,s,2)}function Fh(s){var l=s.alternate;return s===$e||l!==null&&l===$e}function $A(s,l){Dl=kh=!0;var f=s.pending;f===null?l.next=l:(l.next=f.next,f.next=l),s.pending=l}function zA(s,l,f){if((f&4194048)!==0){var g=l.lanes;g&=s.pendingLanes,f|=g,l.lanes=f,XC(s,f)}}var Vh={readContext:On,use:Dh,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t},HA={readContext:On,use:Dh,useCallback:function(s,l){return Qn().memoizedState=[s,l===void 0?null:l],s},useContext:On,useEffect:AA,useImperativeHandle:function(s,l,f){f=f!=null?f.concat([s]):null,Bh(4194308,4,NA.bind(null,l,s),f)},useLayoutEffect:function(s,l){return Bh(4194308,4,s,l)},useInsertionEffect:function(s,l){Bh(4,2,s,l)},useMemo:function(s,l){var f=Qn();l=l===void 0?null:l;var g=s();if(ua){fe(!0);try{s()}finally{fe(!1)}}return f.memoizedState=[g,l],g},useReducer:function(s,l,f){var g=Qn();if(f!==void 0){var y=f(l);if(ua){fe(!0);try{f(l)}finally{fe(!1)}}}else y=l;return g.memoizedState=g.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},g.queue=s,s=s.dispatch=f6.bind(null,$e,s),[g.memoizedState,s]},useRef:function(s){var l=Qn();return s={current:s},l.memoizedState=s},useState:function(s){s=By(s);var l=s.queue,f=qA.bind(null,$e,l);return l.dispatch=f,[s.memoizedState,f]},useDebugValue:Vy,useDeferredValue:function(s,l){var f=Qn();return qy(f,s,l)},useTransition:function(){var s=By(!1);return s=LA.bind(null,$e,s.queue,!0,!1),Qn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,f){var g=$e,y=Qn();if(nt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),_t===null)throw Error(r(349));(Je&124)!==0||fA(g,l,f)}y.memoizedState=f;var b={value:f,getSnapshot:l};return y.queue=b,AA(hA.bind(null,g,b,s),[s]),g.flags|=2048,Ul(9,Uh(),dA.bind(null,g,b,f,l),null),f},useId:function(){var s=Qn(),l=_t.identifierPrefix;if(nt){var f=eo,g=Qi;f=(g&~(1<<32-we(g)-1)).toString(32)+f,l="«"+l+"R"+f,f=Oh++,0<f&&(l+="H"+f.toString(32)),l+="»"}else f=o6++,l="«"+l+"r"+f.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:zy,useFormState:EA,useActionState:EA,useOptimistic:function(s){var l=Qn();l.memoizedState=l.baseState=s;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Hy.bind(null,$e,!0,f),f.dispatch=l,[s,l]},useMemoCache:Dy,useCacheRefresh:function(){return Qn().memoizedState=c6.bind(null,$e)}},GA={readContext:On,use:Dh,useCallback:kA,useContext:On,useEffect:IA,useImperativeHandle:MA,useInsertionEffect:RA,useLayoutEffect:PA,useMemo:OA,useReducer:Lh,useRef:xA,useState:function(){return Lh(ro)},useDebugValue:Vy,useDeferredValue:function(s,l){var f=Kt();return DA(f,ft.memoizedState,s,l)},useTransition:function(){var s=Lh(ro)[0],l=Kt().memoizedState;return[typeof s=="boolean"?s:Vc(s),l]},useSyncExternalStore:cA,useId:FA,useHostTransitionStatus:zy,useFormState:SA,useActionState:SA,useOptimistic:function(s,l){var f=Kt();return gA(f,ft,s,l)},useMemoCache:Dy,useCacheRefresh:VA},d6={readContext:On,use:Dh,useCallback:kA,useContext:On,useEffect:IA,useImperativeHandle:MA,useInsertionEffect:RA,useLayoutEffect:PA,useMemo:OA,useReducer:Uy,useRef:xA,useState:function(){return Uy(ro)},useDebugValue:Vy,useDeferredValue:function(s,l){var f=Kt();return ft===null?qy(f,s,l):DA(f,ft.memoizedState,s,l)},useTransition:function(){var s=Uy(ro)[0],l=Kt().memoizedState;return[typeof s=="boolean"?s:Vc(s),l]},useSyncExternalStore:cA,useId:FA,useHostTransitionStatus:zy,useFormState:CA,useActionState:CA,useOptimistic:function(s,l){var f=Kt();return ft!==null?gA(f,ft,s,l):(f.baseState=s,[s,f.queue.dispatch])},useMemoCache:Dy,useCacheRefresh:VA},Bl=null,zc=0;function qh(s){var l=zc;return zc+=1,Bl===null&&(Bl=[]),nA(Bl,s,l)}function Hc(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function $h(s,l){throw l.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function jA(s){var l=s._init;return l(s._payload)}function WA(s){function l(B,U){if(s){var V=B.deletions;V===null?(B.deletions=[U],B.flags|=16):V.push(U)}}function f(B,U){if(!s)return null;for(;U!==null;)l(B,U),U=U.sibling;return null}function g(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function y(B,U){return B=Zi(B,U),B.index=0,B.sibling=null,B}function b(B,U,V){return B.index=V,s?(V=B.alternate,V!==null?(V=V.index,V<U?(B.flags|=67108866,U):V):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function C(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function R(B,U,V,J){return U===null||U.tag!==6?(U=fy(V,B.mode,J),U.return=B,U):(U=y(U,V),U.return=B,U)}function O(B,U,V,J){var me=V.type;return me===E?j(B,U,V.props.children,J,V.key):U!==null&&(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===X&&jA(me)===U.type)?(U=y(U,V.props),Hc(U,V),U.return=B,U):(U=wh(V.type,V.key,V.props,null,B.mode,J),Hc(U,V),U.return=B,U)}function q(B,U,V,J){return U===null||U.tag!==4||U.stateNode.containerInfo!==V.containerInfo||U.stateNode.implementation!==V.implementation?(U=dy(V,B.mode,J),U.return=B,U):(U=y(U,V.children||[]),U.return=B,U)}function j(B,U,V,J,me){return U===null||U.tag!==7?(U=ta(V,B.mode,J,me),U.return=B,U):(U=y(U,V),U.return=B,U)}function ee(B,U,V){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=fy(""+U,B.mode,V),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return V=wh(U.type,U.key,U.props,null,B.mode,V),Hc(V,U),V.return=B,V;case T:return U=dy(U,B.mode,V),U.return=B,U;case X:var J=U._init;return U=J(U._payload),ee(B,U,V)}if(Ee(U)||W(U))return U=ta(U,B.mode,V,null),U.return=B,U;if(typeof U.then=="function")return ee(B,qh(U),V);if(U.$$typeof===P)return ee(B,Ih(B,U),V);$h(B,U)}return null}function z(B,U,V,J){var me=U!==null?U.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return me!==null?null:R(B,U,""+V,J);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return V.key===me?O(B,U,V,J):null;case T:return V.key===me?q(B,U,V,J):null;case X:return me=V._init,V=me(V._payload),z(B,U,V,J)}if(Ee(V)||W(V))return me!==null?null:j(B,U,V,J,null);if(typeof V.then=="function")return z(B,U,qh(V),J);if(V.$$typeof===P)return z(B,U,Ih(B,V),J);$h(B,V)}return null}function H(B,U,V,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(V)||null,R(U,B,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return B=B.get(J.key===null?V:J.key)||null,O(U,B,J,me);case T:return B=B.get(J.key===null?V:J.key)||null,q(U,B,J,me);case X:var Ge=J._init;return J=Ge(J._payload),H(B,U,V,J,me)}if(Ee(J)||W(J))return B=B.get(V)||null,j(U,B,J,me,null);if(typeof J.then=="function")return H(B,U,V,qh(J),me);if(J.$$typeof===P)return H(B,U,V,Ih(U,J),me);$h(U,J)}return null}function Oe(B,U,V,J){for(var me=null,Ge=null,Te=U,Pe=U=0,cn=null;Te!==null&&Pe<V.length;Pe++){Te.index>Pe?(cn=Te,Te=null):cn=Te.sibling;var Ze=z(B,Te,V[Pe],J);if(Ze===null){Te===null&&(Te=cn);break}s&&Te&&Ze.alternate===null&&l(B,Te),U=b(Ze,U,Pe),Ge===null?me=Ze:Ge.sibling=Ze,Ge=Ze,Te=cn}if(Pe===V.length)return f(B,Te),nt&&ra(B,Pe),me;if(Te===null){for(;Pe<V.length;Pe++)Te=ee(B,V[Pe],J),Te!==null&&(U=b(Te,U,Pe),Ge===null?me=Te:Ge.sibling=Te,Ge=Te);return nt&&ra(B,Pe),me}for(Te=g(Te);Pe<V.length;Pe++)cn=H(Te,B,Pe,V[Pe],J),cn!==null&&(s&&cn.alternate!==null&&Te.delete(cn.key===null?Pe:cn.key),U=b(cn,U,Pe),Ge===null?me=cn:Ge.sibling=cn,Ge=cn);return s&&Te.forEach(function(fs){return l(B,fs)}),nt&&ra(B,Pe),me}function Re(B,U,V,J){if(V==null)throw Error(r(151));for(var me=null,Ge=null,Te=U,Pe=U=0,cn=null,Ze=V.next();Te!==null&&!Ze.done;Pe++,Ze=V.next()){Te.index>Pe?(cn=Te,Te=null):cn=Te.sibling;var fs=z(B,Te,Ze.value,J);if(fs===null){Te===null&&(Te=cn);break}s&&Te&&fs.alternate===null&&l(B,Te),U=b(fs,U,Pe),Ge===null?me=fs:Ge.sibling=fs,Ge=fs,Te=cn}if(Ze.done)return f(B,Te),nt&&ra(B,Pe),me;if(Te===null){for(;!Ze.done;Pe++,Ze=V.next())Ze=ee(B,Ze.value,J),Ze!==null&&(U=b(Ze,U,Pe),Ge===null?me=Ze:Ge.sibling=Ze,Ge=Ze);return nt&&ra(B,Pe),me}for(Te=g(Te);!Ze.done;Pe++,Ze=V.next())Ze=H(Te,B,Pe,Ze.value,J),Ze!==null&&(s&&Ze.alternate!==null&&Te.delete(Ze.key===null?Pe:Ze.key),U=b(Ze,U,Pe),Ge===null?me=Ze:Ge.sibling=Ze,Ge=Ze);return s&&Te.forEach(function(h$){return l(B,h$)}),nt&&ra(B,Pe),me}function ht(B,U,V,J){if(typeof V=="object"&&V!==null&&V.type===E&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case _:e:{for(var me=V.key;U!==null;){if(U.key===me){if(me=V.type,me===E){if(U.tag===7){f(B,U.sibling),J=y(U,V.props.children),J.return=B,B=J;break e}}else if(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===X&&jA(me)===U.type){f(B,U.sibling),J=y(U,V.props),Hc(J,V),J.return=B,B=J;break e}f(B,U);break}else l(B,U);U=U.sibling}V.type===E?(J=ta(V.props.children,B.mode,J,V.key),J.return=B,B=J):(J=wh(V.type,V.key,V.props,null,B.mode,J),Hc(J,V),J.return=B,B=J)}return C(B);case T:e:{for(me=V.key;U!==null;){if(U.key===me)if(U.tag===4&&U.stateNode.containerInfo===V.containerInfo&&U.stateNode.implementation===V.implementation){f(B,U.sibling),J=y(U,V.children||[]),J.return=B,B=J;break e}else{f(B,U);break}else l(B,U);U=U.sibling}J=dy(V,B.mode,J),J.return=B,B=J}return C(B);case X:return me=V._init,V=me(V._payload),ht(B,U,V,J)}if(Ee(V))return Oe(B,U,V,J);if(W(V)){if(me=W(V),typeof me!="function")throw Error(r(150));return V=me.call(V),Re(B,U,V,J)}if(typeof V.then=="function")return ht(B,U,qh(V),J);if(V.$$typeof===P)return ht(B,U,Ih(B,V),J);$h(B,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,U!==null&&U.tag===6?(f(B,U.sibling),J=y(U,V),J.return=B,B=J):(f(B,U),J=fy(V,B.mode,J),J.return=B,B=J),C(B)):f(B,U)}return function(B,U,V,J){try{zc=0;var me=ht(B,U,V,J);return Bl=null,me}catch(Te){if(Te===Oc||Te===Ph)throw Te;var Ge=hr(29,Te,null,B.mode);return Ge.lanes=J,Ge.return=B,Ge}finally{}}}var Fl=WA(!0),KA=WA(!1),Vr=K(null),Ci=null;function Jo(s){var l=s.alternate;ie(en,en.current&1),ie(Vr,s),Ci===null&&(l===null||Ol.current!==null||l.memoizedState!==null)&&(Ci=s)}function YA(s){if(s.tag===22){if(ie(en,en.current),ie(Vr,s),Ci===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(Ci=s)}}else Xo()}function Xo(){ie(en,en.current),ie(Vr,Vr.current)}function io(s){Y(Vr),Ci===s&&(Ci=null),Y(en)}var en=K(0);function zh(s){for(var l=s;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||O_(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Gy(s,l,f,g){l=s.memoizedState,f=f(g,l),f=f==null?l:h({},l,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var jy={enqueueSetState:function(s,l,f){s=s._reactInternals;var g=vr(),y=Wo(g);y.payload=l,f!=null&&(y.callback=f),l=Ko(s,y,g),l!==null&&(yr(l,s,g),Lc(l,s,g))},enqueueReplaceState:function(s,l,f){s=s._reactInternals;var g=vr(),y=Wo(g);y.tag=1,y.payload=l,f!=null&&(y.callback=f),l=Ko(s,y,g),l!==null&&(yr(l,s,g),Lc(l,s,g))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var f=vr(),g=Wo(f);g.tag=2,l!=null&&(g.callback=l),l=Ko(s,g,f),l!==null&&(yr(l,s,f),Lc(l,s,f))}};function JA(s,l,f,g,y,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,b,C):l.prototype&&l.prototype.isPureReactComponent?!xc(f,g)||!xc(y,b):!0}function XA(s,l,f,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==s&&jy.enqueueReplaceState(l,l.state,null)}function ca(s,l){var f=l;if("ref"in l){f={};for(var g in l)g!=="ref"&&(f[g]=l[g])}if(s=s.defaultProps){f===l&&(f=h({},f));for(var y in s)f[y]===void 0&&(f[y]=s[y])}return f}var Hh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ZA(s){Hh(s)}function QA(s){console.error(s)}function e1(s){Hh(s)}function Gh(s,l){try{var f=s.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function t1(s,l,f){try{var g=s.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Wy(s,l,f){return f=Wo(f),f.tag=3,f.payload={element:null},f.callback=function(){Gh(s,l)},f}function n1(s){return s=Wo(s),s.tag=3,s}function r1(s,l,f,g){var y=f.type.getDerivedStateFromError;if(typeof y=="function"){var b=g.value;s.payload=function(){return y(b)},s.callback=function(){t1(l,f,g)}}var C=f.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){t1(l,f,g),typeof y!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var R=g.stack;this.componentDidCatch(g.value,{componentStack:R!==null?R:""})})}function h6(s,l,f,g,y){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=f.alternate,l!==null&&Nc(l,f,y,!0),f=Vr.current,f!==null){switch(f.tag){case 13:return Ci===null?v_():f.alternate===null&&Ft===0&&(Ft=3),f.flags&=-257,f.flags|=65536,f.lanes=y,g===Ey?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([g]):l.add(g),__(s,g,y)),!1;case 22:return f.flags|=65536,g===Ey?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([g]):f.add(g)),__(s,g,y)),!1}throw Error(r(435,f.tag))}return __(s,g,y),v_(),!1}if(nt)return l=Vr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,g!==my&&(s=Error(r(422),{cause:g}),Pc(Lr(s,f)))):(g!==my&&(l=Error(r(423),{cause:g}),Pc(Lr(l,f))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,g=Lr(g,f),y=Wy(s.stateNode,g,y),Cy(s,y),Ft!==4&&(Ft=2)),!1;var b=Error(r(520),{cause:g});if(b=Lr(b,f),Xc===null?Xc=[b]:Xc.push(b),Ft!==4&&(Ft=2),l===null)return!0;g=Lr(g,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,s=y&-y,f.lanes|=s,s=Wy(f.stateNode,g,s),Cy(f,s),!1;case 1:if(l=f.type,b=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(rs===null||!rs.has(b))))return f.flags|=65536,y&=-y,f.lanes|=y,y=n1(y),r1(y,s,f,g),Cy(f,y),!1}f=f.return}while(f!==null);return!1}var i1=Error(r(461)),ln=!1;function wn(s,l,f,g){l.child=s===null?KA(l,null,f,g):Fl(l,s.child,f,g)}function o1(s,l,f,g,y){f=f.render;var b=l.ref;if("ref"in g){var C={};for(var R in g)R!=="ref"&&(C[R]=g[R])}else C=g;return aa(l),g=Py(s,l,f,C,b,y),R=Ny(),s!==null&&!ln?(My(s,l,y),oo(s,l,y)):(nt&&R&&hy(l),l.flags|=1,wn(s,l,g,y),l.child)}function s1(s,l,f,g,y){if(s===null){var b=f.type;return typeof b=="function"&&!cy(b)&&b.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=b,a1(s,l,b,g,y)):(s=wh(f.type,null,g,l,l.mode,y),s.ref=l.ref,s.return=l,l.child=s)}if(b=s.child,!t_(s,y)){var C=b.memoizedProps;if(f=f.compare,f=f!==null?f:xc,f(C,g)&&s.ref===l.ref)return oo(s,l,y)}return l.flags|=1,s=Zi(b,g),s.ref=l.ref,s.return=l,l.child=s}function a1(s,l,f,g,y){if(s!==null){var b=s.memoizedProps;if(xc(b,g)&&s.ref===l.ref)if(ln=!1,l.pendingProps=g=b,t_(s,y))(s.flags&131072)!==0&&(ln=!0);else return l.lanes=s.lanes,oo(s,l,y)}return Ky(s,l,f,g,y)}function l1(s,l,f){var g=l.pendingProps,y=g.children,b=s!==null?s.memoizedState:null;if(g.mode==="hidden"){if((l.flags&128)!==0){if(g=b!==null?b.baseLanes|f:f,s!==null){for(y=l.child=s.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;l.childLanes=b&~g}else l.childLanes=0,l.child=null;return u1(s,l,g,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Rh(l,b!==null?b.cachePool:null),b!==null?aA(l,b):Ay(),YA(l);else return l.lanes=l.childLanes=536870912,u1(s,l,b!==null?b.baseLanes|f:f,f)}else b!==null?(Rh(l,b.cachePool),aA(l,b),Xo(),l.memoizedState=null):(s!==null&&Rh(l,null),Ay(),Xo());return wn(s,l,y,f),l.child}function u1(s,l,f,g){var y=Ty();return y=y===null?null:{parent:Qt._currentValue,pool:y},l.memoizedState={baseLanes:f,cachePool:y},s!==null&&Rh(l,null),Ay(),YA(l),s!==null&&Nc(s,l,g,!0),null}function jh(s,l){var f=l.ref;if(f===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(s===null||s.ref!==f)&&(l.flags|=4194816)}}function Ky(s,l,f,g,y){return aa(l),f=Py(s,l,f,g,void 0,y),g=Ny(),s!==null&&!ln?(My(s,l,y),oo(s,l,y)):(nt&&g&&hy(l),l.flags|=1,wn(s,l,f,y),l.child)}function c1(s,l,f,g,y,b){return aa(l),l.updateQueue=null,f=uA(l,g,f,y),lA(s),g=Ny(),s!==null&&!ln?(My(s,l,b),oo(s,l,b)):(nt&&g&&hy(l),l.flags|=1,wn(s,l,f,b),l.child)}function f1(s,l,f,g,y){if(aa(l),l.stateNode===null){var b=Rl,C=f.contextType;typeof C=="object"&&C!==null&&(b=On(C)),b=new f(g,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=jy,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=g,b.state=l.memoizedState,b.refs={},Sy(l),C=f.contextType,b.context=typeof C=="object"&&C!==null?On(C):Rl,b.state=l.memoizedState,C=f.getDerivedStateFromProps,typeof C=="function"&&(Gy(l,f,C,g),b.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&jy.enqueueReplaceState(b,b.state,null),Bc(l,g,b,y),Uc(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(s===null){b=l.stateNode;var R=l.memoizedProps,O=ca(f,R);b.props=O;var q=b.context,j=f.contextType;C=Rl,typeof j=="object"&&j!==null&&(C=On(j));var ee=f.getDerivedStateFromProps;j=typeof ee=="function"||typeof b.getSnapshotBeforeUpdate=="function",R=l.pendingProps!==R,j||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R||q!==C)&&XA(l,b,g,C),jo=!1;var z=l.memoizedState;b.state=z,Bc(l,g,b,y),Uc(),q=l.memoizedState,R||z!==q||jo?(typeof ee=="function"&&(Gy(l,f,ee,g),q=l.memoizedState),(O=jo||JA(l,f,O,g,z,q,C))?(j||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=q),b.props=g,b.state=q,b.context=C,g=O):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{b=l.stateNode,wy(s,l),C=l.memoizedProps,j=ca(f,C),b.props=j,ee=l.pendingProps,z=b.context,q=f.contextType,O=Rl,typeof q=="object"&&q!==null&&(O=On(q)),R=f.getDerivedStateFromProps,(q=typeof R=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==ee||z!==O)&&XA(l,b,g,O),jo=!1,z=l.memoizedState,b.state=z,Bc(l,g,b,y),Uc();var H=l.memoizedState;C!==ee||z!==H||jo||s!==null&&s.dependencies!==null&&Ah(s.dependencies)?(typeof R=="function"&&(Gy(l,f,R,g),H=l.memoizedState),(j=jo||JA(l,f,j,g,z,H,O)||s!==null&&s.dependencies!==null&&Ah(s.dependencies))?(q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(g,H,O),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(g,H,O)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&z===s.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&z===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=H),b.props=g,b.state=H,b.context=O,g=j):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&z===s.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&z===s.memoizedState||(l.flags|=1024),g=!1)}return b=g,jh(s,l),g=(l.flags&128)!==0,b||g?(b=l.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,s!==null&&g?(l.child=Fl(l,s.child,null,y),l.child=Fl(l,null,f,y)):wn(s,l,f,y),l.memoizedState=b.state,s=l.child):s=oo(s,l,y),s}function d1(s,l,f,g){return Rc(),l.flags|=256,wn(s,l,f,g),l.child}var Yy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jy(s){return{baseLanes:s,cachePool:Qx()}}function Xy(s,l,f){return s=s!==null?s.childLanes&~f:0,l&&(s|=qr),s}function h1(s,l,f){var g=l.pendingProps,y=!1,b=(l.flags&128)!==0,C;if((C=b)||(C=s!==null&&s.memoizedState===null?!1:(en.current&2)!==0),C&&(y=!0,l.flags&=-129),C=(l.flags&32)!==0,l.flags&=-33,s===null){if(nt){if(y?Jo(l):Xo(),nt){var R=Bt,O;if(O=R){e:{for(O=R,R=wi;O.nodeType!==8;){if(!R){R=null;break e}if(O=di(O.nextSibling),O===null){R=null;break e}}R=O}R!==null?(l.memoizedState={dehydrated:R,treeContext:na!==null?{id:Qi,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},O=hr(18,null,null,0),O.stateNode=R,O.return=l,l.child=O,zn=l,Bt=null,O=!0):O=!1}O||oa(l)}if(R=l.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return O_(R)?l.lanes=32:l.lanes=536870912,null;io(l)}return R=g.children,g=g.fallback,y?(Xo(),y=l.mode,R=Wh({mode:"hidden",children:R},y),g=ta(g,y,f,null),R.return=l,g.return=l,R.sibling=g,l.child=R,y=l.child,y.memoizedState=Jy(f),y.childLanes=Xy(s,C,f),l.memoizedState=Yy,g):(Jo(l),Zy(l,R))}if(O=s.memoizedState,O!==null&&(R=O.dehydrated,R!==null)){if(b)l.flags&256?(Jo(l),l.flags&=-257,l=Qy(s,l,f)):l.memoizedState!==null?(Xo(),l.child=s.child,l.flags|=128,l=null):(Xo(),y=g.fallback,R=l.mode,g=Wh({mode:"visible",children:g.children},R),y=ta(y,R,f,null),y.flags|=2,g.return=l,y.return=l,g.sibling=y,l.child=g,Fl(l,s.child,null,f),g=l.child,g.memoizedState=Jy(f),g.childLanes=Xy(s,C,f),l.memoizedState=Yy,l=y);else if(Jo(l),O_(R)){if(C=R.nextSibling&&R.nextSibling.dataset,C)var q=C.dgst;C=q,g=Error(r(419)),g.stack="",g.digest=C,Pc({value:g,source:null,stack:null}),l=Qy(s,l,f)}else if(ln||Nc(s,l,f,!1),C=(f&s.childLanes)!==0,ln||C){if(C=_t,C!==null&&(g=f&-f,g=(g&42)!==0?1:Dv(g),g=(g&(C.suspendedLanes|f))!==0?0:g,g!==0&&g!==O.retryLane))throw O.retryLane=g,Il(s,g),yr(C,s,g),i1;R.data==="$?"||v_(),l=Qy(s,l,f)}else R.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=O.treeContext,Bt=di(R.nextSibling),zn=l,nt=!0,ia=null,wi=!1,s!==null&&(Br[Fr++]=Qi,Br[Fr++]=eo,Br[Fr++]=na,Qi=s.id,eo=s.overflow,na=l),l=Zy(l,g.children),l.flags|=4096);return l}return y?(Xo(),y=g.fallback,R=l.mode,O=s.child,q=O.sibling,g=Zi(O,{mode:"hidden",children:g.children}),g.subtreeFlags=O.subtreeFlags&65011712,q!==null?y=Zi(q,y):(y=ta(y,R,f,null),y.flags|=2),y.return=l,g.return=l,g.sibling=y,l.child=g,g=y,y=l.child,R=s.child.memoizedState,R===null?R=Jy(f):(O=R.cachePool,O!==null?(q=Qt._currentValue,O=O.parent!==q?{parent:q,pool:q}:O):O=Qx(),R={baseLanes:R.baseLanes|f,cachePool:O}),y.memoizedState=R,y.childLanes=Xy(s,C,f),l.memoizedState=Yy,g):(Jo(l),f=s.child,s=f.sibling,f=Zi(f,{mode:"visible",children:g.children}),f.return=l,f.sibling=null,s!==null&&(C=l.deletions,C===null?(l.deletions=[s],l.flags|=16):C.push(s)),l.child=f,l.memoizedState=null,f)}function Zy(s,l){return l=Wh({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Wh(s,l){return s=hr(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Qy(s,l,f){return Fl(l,s.child,null,f),s=Zy(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function p1(s,l,f){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),vy(s.return,l,f)}function e_(s,l,f,g,y){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:y}:(b.isBackwards=l,b.rendering=null,b.renderingStartTime=0,b.last=g,b.tail=f,b.tailMode=y)}function m1(s,l,f){var g=l.pendingProps,y=g.revealOrder,b=g.tail;if(wn(s,l,g.children,f),g=en.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&p1(s,f,l);else if(s.tag===19)p1(s,f,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}switch(ie(en,g),y){case"forwards":for(f=l.child,y=null;f!==null;)s=f.alternate,s!==null&&zh(s)===null&&(y=f),f=f.sibling;f=y,f===null?(y=l.child,l.child=null):(y=f.sibling,f.sibling=null),e_(l,!1,y,f,b);break;case"backwards":for(f=null,y=l.child,l.child=null;y!==null;){if(s=y.alternate,s!==null&&zh(s)===null){l.child=y;break}s=y.sibling,y.sibling=f,f=y,y=s}e_(l,!0,f,null,b);break;case"together":e_(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function oo(s,l,f){if(s!==null&&(l.dependencies=s.dependencies),ns|=l.lanes,(f&l.childLanes)===0)if(s!==null){if(Nc(s,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,f=Zi(s,s.pendingProps),l.child=f,f.return=l;s.sibling!==null;)s=s.sibling,f=f.sibling=Zi(s,s.pendingProps),f.return=l;f.sibling=null}return l.child}function t_(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Ah(s)))}function p6(s,l,f){switch(l.tag){case 3:ot(l,l.stateNode.containerInfo),Go(l,Qt,s.memoizedState.cache),Rc();break;case 27:case 5:Le(l);break;case 4:ot(l,l.stateNode.containerInfo);break;case 10:Go(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(Jo(l),l.flags|=128,null):(f&l.child.childLanes)!==0?h1(s,l,f):(Jo(l),s=oo(s,l,f),s!==null?s.sibling:null);Jo(l);break;case 19:var y=(s.flags&128)!==0;if(g=(f&l.childLanes)!==0,g||(Nc(s,l,f,!1),g=(f&l.childLanes)!==0),y){if(g)return m1(s,l,f);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ie(en,en.current),g)break;return null;case 22:case 23:return l.lanes=0,l1(s,l,f);case 24:Go(l,Qt,s.memoizedState.cache)}return oo(s,l,f)}function g1(s,l,f){if(s!==null)if(s.memoizedProps!==l.pendingProps)ln=!0;else{if(!t_(s,f)&&(l.flags&128)===0)return ln=!1,p6(s,l,f);ln=(s.flags&131072)!==0}else ln=!1,nt&&(l.flags&1048576)!==0&&jx(l,xh,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var g=l.elementType,y=g._init;if(g=y(g._payload),l.type=g,typeof g=="function")cy(g)?(s=ca(g,s),l.tag=1,l=f1(null,l,g,s,f)):(l.tag=0,l=Ky(null,l,g,s,f));else{if(g!=null){if(y=g.$$typeof,y===k){l.tag=11,l=o1(null,l,g,s,f);break e}else if(y===F){l.tag=14,l=s1(null,l,g,s,f);break e}}throw l=ke(g)||g,Error(r(306,l,""))}}return l;case 0:return Ky(s,l,l.type,l.pendingProps,f);case 1:return g=l.type,y=ca(g,l.pendingProps),f1(s,l,g,y,f);case 3:e:{if(ot(l,l.stateNode.containerInfo),s===null)throw Error(r(387));g=l.pendingProps;var b=l.memoizedState;y=b.element,wy(s,l),Bc(l,g,null,f);var C=l.memoizedState;if(g=C.cache,Go(l,Qt,g),g!==b.cache&&yy(l,[Qt],f,!0),Uc(),g=C.element,b.isDehydrated)if(b={element:g,isDehydrated:!1,cache:C.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=d1(s,l,g,f);break e}else if(g!==y){y=Lr(Error(r(424)),l),Pc(y),l=d1(s,l,g,f);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Bt=di(s.firstChild),zn=l,nt=!0,ia=null,wi=!0,f=KA(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Rc(),g===y){l=oo(s,l,f);break e}wn(s,l,g,f)}l=l.child}return l;case 26:return jh(s,l),s===null?(f=bI(l.type,null,l.pendingProps,null))?l.memoizedState=f:nt||(f=l.type,s=l.pendingProps,g=ap(ue.current).createElement(f),g[kn]=l,g[Xn]=s,xn(g,f,s),an(g),l.stateNode=g):l.memoizedState=bI(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Le(l),s===null&&nt&&(g=l.stateNode=vI(l.type,l.pendingProps,ue.current),zn=l,wi=!0,y=Bt,ss(l.type)?(D_=y,Bt=di(g.firstChild)):Bt=y),wn(s,l,l.pendingProps.children,f),jh(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&nt&&((y=g=Bt)&&(g=$6(g,l.type,l.pendingProps,wi),g!==null?(l.stateNode=g,zn=l,Bt=di(g.firstChild),wi=!1,y=!0):y=!1),y||oa(l)),Le(l),y=l.type,b=l.pendingProps,C=s!==null?s.memoizedProps:null,g=b.children,N_(y,b)?g=null:C!==null&&N_(y,C)&&(l.flags|=32),l.memoizedState!==null&&(y=Py(s,l,s6,null,null,f),af._currentValue=y),jh(s,l),wn(s,l,g,f),l.child;case 6:return s===null&&nt&&((s=f=Bt)&&(f=z6(f,l.pendingProps,wi),f!==null?(l.stateNode=f,zn=l,Bt=null,s=!0):s=!1),s||oa(l)),null;case 13:return h1(s,l,f);case 4:return ot(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=Fl(l,null,g,f):wn(s,l,g,f),l.child;case 11:return o1(s,l,l.type,l.pendingProps,f);case 7:return wn(s,l,l.pendingProps,f),l.child;case 8:return wn(s,l,l.pendingProps.children,f),l.child;case 12:return wn(s,l,l.pendingProps.children,f),l.child;case 10:return g=l.pendingProps,Go(l,l.type,g.value),wn(s,l,g.children,f),l.child;case 9:return y=l.type._context,g=l.pendingProps.children,aa(l),y=On(y),g=g(y),l.flags|=1,wn(s,l,g,f),l.child;case 14:return s1(s,l,l.type,l.pendingProps,f);case 15:return a1(s,l,l.type,l.pendingProps,f);case 19:return m1(s,l,f);case 31:return g=l.pendingProps,f=l.mode,g={mode:g.mode,children:g.children},s===null?(f=Wh(g,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=Zi(s.child,g),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return l1(s,l,f);case 24:return aa(l),g=On(Qt),s===null?(y=Ty(),y===null&&(y=_t,b=_y(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=f),y=b),l.memoizedState={parent:g,cache:y},Sy(l),Go(l,Qt,y)):((s.lanes&f)!==0&&(wy(s,l),Bc(l,null,null,f),Uc()),y=s.memoizedState,b=l.memoizedState,y.parent!==g?(y={parent:g,cache:g},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),Go(l,Qt,g)):(g=b.cache,Go(l,Qt,g),g!==y.cache&&yy(l,[Qt],f,!0))),wn(s,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function so(s){s.flags|=4}function v1(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!CI(l)){if(l=Vr.current,l!==null&&((Je&4194048)===Je?Ci!==null:(Je&62914560)!==Je&&(Je&536870912)===0||l!==Ci))throw Dc=Ey,eA;s.flags|=8192}}function Kh(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?YC():536870912,s.lanes|=l,zl|=l)}function Gc(s,l){if(!nt)switch(s.tailMode){case"hidden":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Mt(s){var l=s.alternate!==null&&s.alternate.child===s.child,f=0,g=0;if(l)for(var y=s.child;y!==null;)f|=y.lanes|y.childLanes,g|=y.subtreeFlags&65011712,g|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)f|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=g,s.childLanes=f,l}function m6(s,l,f){var g=l.pendingProps;switch(py(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(l),null;case 1:return Mt(l),null;case 3:return f=l.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),no(Qt),le(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Ic(l)?so(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Yx())),Mt(l),null;case 26:return f=l.memoizedState,s===null?(so(l),f!==null?(Mt(l),v1(l,f)):(Mt(l),l.flags&=-16777217)):f?f!==s.memoizedState?(so(l),Mt(l),v1(l,f)):(Mt(l),l.flags&=-16777217):(s.memoizedProps!==g&&so(l),Mt(l),l.flags&=-16777217),null;case 27:Ve(l),f=ue.current;var y=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==g&&so(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Mt(l),null}s=ve.current,Ic(l)?Wx(l):(s=vI(y,g,f),l.stateNode=s,so(l))}return Mt(l),null;case 5:if(Ve(l),f=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&so(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Mt(l),null}if(s=ve.current,Ic(l))Wx(l);else{switch(y=ap(ue.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof g.is=="string"?y.createElement("select",{is:g.is}):y.createElement("select"),g.multiple?s.multiple=!0:g.size&&(s.size=g.size);break;default:s=typeof g.is=="string"?y.createElement(f,{is:g.is}):y.createElement(f)}}s[kn]=l,s[Xn]=g;e:for(y=l.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===l)break e;for(;y.sibling===null;){if(y.return===null||y.return===l)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}l.stateNode=s;e:switch(xn(s,f,g),f){case"button":case"input":case"select":case"textarea":s=!!g.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&so(l)}}return Mt(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==g&&so(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(s=ue.current,Ic(l)){if(s=l.stateNode,f=l.memoizedProps,g=null,y=zn,y!==null)switch(y.tag){case 27:case 5:g=y.memoizedProps}s[kn]=l,s=!!(s.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||cI(s.nodeValue,f)),s||oa(l)}else s=ap(s).createTextNode(g),s[kn]=l,l.stateNode=s}return Mt(l),null;case 13:if(g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Ic(l),g!==null&&g.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[kn]=l}else Rc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Mt(l),y=!1}else y=Yx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(io(l),l):(io(l),null)}if(io(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=g!==null,s=s!==null&&s.memoizedState!==null,f){g=l.child,y=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(y=g.alternate.memoizedState.cachePool.pool);var b=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(b=g.memoizedState.cachePool.pool),b!==y&&(g.flags|=2048)}return f!==s&&f&&(l.child.flags|=8192),Kh(l,l.updateQueue),Mt(l),null;case 4:return le(),s===null&&x_(l.stateNode.containerInfo),Mt(l),null;case 10:return no(l.type),Mt(l),null;case 19:if(Y(en),y=l.memoizedState,y===null)return Mt(l),null;if(g=(l.flags&128)!==0,b=y.rendering,b===null)if(g)Gc(y,!1);else{if(Ft!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(b=zh(s),b!==null){for(l.flags|=128,Gc(y,!1),s=b.updateQueue,l.updateQueue=s,Kh(l,s),l.subtreeFlags=0,s=f,f=l.child;f!==null;)Gx(f,s),f=f.sibling;return ie(en,en.current&1|2),l.child}s=s.sibling}y.tail!==null&&jt()>Xh&&(l.flags|=128,g=!0,Gc(y,!1),l.lanes=4194304)}else{if(!g)if(s=zh(b),s!==null){if(l.flags|=128,g=!0,s=s.updateQueue,l.updateQueue=s,Kh(l,s),Gc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!nt)return Mt(l),null}else 2*jt()-y.renderingStartTime>Xh&&f!==536870912&&(l.flags|=128,g=!0,Gc(y,!1),l.lanes=4194304);y.isBackwards?(b.sibling=l.child,l.child=b):(s=y.last,s!==null?s.sibling=b:l.child=b,y.last=b)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=jt(),l.sibling=null,s=en.current,ie(en,g?s&1|2:s&1),l):(Mt(l),null);case 22:case 23:return io(l),Iy(),g=l.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(f&536870912)!==0&&(l.flags&128)===0&&(Mt(l),l.subtreeFlags&6&&(l.flags|=8192)):Mt(l),f=l.updateQueue,f!==null&&Kh(l,f.retryQueue),f=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048),s!==null&&Y(la),null;case 24:return f=null,s!==null&&(f=s.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),no(Qt),Mt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function g6(s,l){switch(py(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return no(Qt),le(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ve(l),null;case 13:if(io(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Rc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Y(en),null;case 4:return le(),null;case 10:return no(l.type),null;case 22:case 23:return io(l),Iy(),s!==null&&Y(la),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return no(Qt),null;case 25:return null;default:return null}}function y1(s,l){switch(py(l),l.tag){case 3:no(Qt),le();break;case 26:case 27:case 5:Ve(l);break;case 4:le();break;case 13:io(l);break;case 19:Y(en);break;case 10:no(l.type);break;case 22:case 23:io(l),Iy(),s!==null&&Y(la);break;case 24:no(Qt)}}function jc(s,l){try{var f=l.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var y=g.next;f=y;do{if((f.tag&s)===s){g=void 0;var b=f.create,C=f.inst;g=b(),C.destroy=g}f=f.next}while(f!==y)}}catch(R){mt(l,l.return,R)}}function Zo(s,l,f){try{var g=l.updateQueue,y=g!==null?g.lastEffect:null;if(y!==null){var b=y.next;g=b;do{if((g.tag&s)===s){var C=g.inst,R=C.destroy;if(R!==void 0){C.destroy=void 0,y=l;var O=f,q=R;try{q()}catch(j){mt(y,O,j)}}}g=g.next}while(g!==b)}}catch(j){mt(l,l.return,j)}}function _1(s){var l=s.updateQueue;if(l!==null){var f=s.stateNode;try{sA(l,f)}catch(g){mt(s,s.return,g)}}}function b1(s,l,f){f.props=ca(s.type,s.memoizedProps),f.state=s.memoizedState;try{f.componentWillUnmount()}catch(g){mt(s,l,g)}}function Wc(s,l){try{var f=s.ref;if(f!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof f=="function"?s.refCleanup=f(g):f.current=g}}catch(y){mt(s,l,y)}}function xi(s,l){var f=s.ref,g=s.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(y){mt(s,l,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(y){mt(s,l,y)}else f.current=null}function T1(s){var l=s.type,f=s.memoizedProps,g=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break e;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(y){mt(s,s.return,y)}}function n_(s,l,f){try{var g=s.stateNode;U6(g,s.type,f,l),g[Xn]=l}catch(y){mt(s,s.return,y)}}function E1(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ss(s.type)||s.tag===4}function r_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||E1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ss(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function i_(s,l,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(s,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(s),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=sp));else if(g!==4&&(g===27&&ss(s.type)&&(f=s.stateNode,l=null),s=s.child,s!==null))for(i_(s,l,f),s=s.sibling;s!==null;)i_(s,l,f),s=s.sibling}function Yh(s,l,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?f.insertBefore(s,l):f.appendChild(s);else if(g!==4&&(g===27&&ss(s.type)&&(f=s.stateNode),s=s.child,s!==null))for(Yh(s,l,f),s=s.sibling;s!==null;)Yh(s,l,f),s=s.sibling}function S1(s){var l=s.stateNode,f=s.memoizedProps;try{for(var g=s.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);xn(l,g,f),l[kn]=s,l[Xn]=f}catch(b){mt(s,s.return,b)}}var ao=!1,zt=!1,o_=!1,w1=typeof WeakSet=="function"?WeakSet:Set,un=null;function v6(s,l){if(s=s.containerInfo,R_=hp,s=Dx(s),ry(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var y=g.anchorOffset,b=g.focusNode;g=g.focusOffset;try{f.nodeType,b.nodeType}catch{f=null;break e}var C=0,R=-1,O=-1,q=0,j=0,ee=s,z=null;t:for(;;){for(var H;ee!==f||y!==0&&ee.nodeType!==3||(R=C+y),ee!==b||g!==0&&ee.nodeType!==3||(O=C+g),ee.nodeType===3&&(C+=ee.nodeValue.length),(H=ee.firstChild)!==null;)z=ee,ee=H;for(;;){if(ee===s)break t;if(z===f&&++q===y&&(R=C),z===b&&++j===g&&(O=C),(H=ee.nextSibling)!==null)break;ee=z,z=ee.parentNode}ee=H}f=R===-1||O===-1?null:{start:R,end:O}}else f=null}f=f||{start:0,end:0}}else f=null;for(P_={focusedElem:s,selectionRange:f},hp=!1,un=l;un!==null;)if(l=un,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,un=s;else for(;un!==null;){switch(l=un,b=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,f=l,y=b.memoizedProps,b=b.memoizedState,g=f.stateNode;try{var Oe=ca(f.type,y,f.elementType===f.type);s=g.getSnapshotBeforeUpdate(Oe,b),g.__reactInternalSnapshotBeforeUpdate=s}catch(Re){mt(f,f.return,Re)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,f=s.nodeType,f===9)k_(s);else if(f===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":k_(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,un=s;break}un=l.return}}function C1(s,l,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:Qo(s,f),g&4&&jc(5,f);break;case 1:if(Qo(s,f),g&4)if(s=f.stateNode,l===null)try{s.componentDidMount()}catch(C){mt(f,f.return,C)}else{var y=ca(f.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(y,l,s.__reactInternalSnapshotBeforeUpdate)}catch(C){mt(f,f.return,C)}}g&64&&_1(f),g&512&&Wc(f,f.return);break;case 3:if(Qo(s,f),g&64&&(s=f.updateQueue,s!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{sA(s,l)}catch(C){mt(f,f.return,C)}}break;case 27:l===null&&g&4&&S1(f);case 26:case 5:Qo(s,f),l===null&&g&4&&T1(f),g&512&&Wc(f,f.return);break;case 12:Qo(s,f);break;case 13:Qo(s,f),g&4&&I1(s,f),g&64&&(s=f.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(f=x6.bind(null,f),H6(s,f))));break;case 22:if(g=f.memoizedState!==null||ao,!g){l=l!==null&&l.memoizedState!==null||zt,y=ao;var b=zt;ao=g,(zt=l)&&!b?es(s,f,(f.subtreeFlags&8772)!==0):Qo(s,f),ao=y,zt=b}break;case 30:break;default:Qo(s,f)}}function x1(s){var l=s.alternate;l!==null&&(s.alternate=null,x1(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Bv(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Rt=null,er=!1;function lo(s,l,f){for(f=f.child;f!==null;)A1(s,l,f),f=f.sibling}function A1(s,l,f){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(Js,f)}catch{}switch(f.tag){case 26:zt||xi(f,l),lo(s,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:zt||xi(f,l);var g=Rt,y=er;ss(f.type)&&(Rt=f.stateNode,er=!1),lo(s,l,f),nf(f.stateNode),Rt=g,er=y;break;case 5:zt||xi(f,l);case 6:if(g=Rt,y=er,Rt=null,lo(s,l,f),Rt=g,er=y,Rt!==null)if(er)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(f.stateNode)}catch(b){mt(f,l,b)}else try{Rt.removeChild(f.stateNode)}catch(b){mt(f,l,b)}break;case 18:Rt!==null&&(er?(s=Rt,mI(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,f.stateNode),ff(s)):mI(Rt,f.stateNode));break;case 4:g=Rt,y=er,Rt=f.stateNode.containerInfo,er=!0,lo(s,l,f),Rt=g,er=y;break;case 0:case 11:case 14:case 15:zt||Zo(2,f,l),zt||Zo(4,f,l),lo(s,l,f);break;case 1:zt||(xi(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"&&b1(f,l,g)),lo(s,l,f);break;case 21:lo(s,l,f);break;case 22:zt=(g=zt)||f.memoizedState!==null,lo(s,l,f),zt=g;break;default:lo(s,l,f)}}function I1(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ff(s)}catch(f){mt(l,l.return,f)}}function y6(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new w1),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new w1),l;default:throw Error(r(435,s.tag))}}function s_(s,l){var f=y6(s);l.forEach(function(g){var y=A6.bind(null,s,g);f.has(g)||(f.add(g),g.then(y,y))})}function pr(s,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var y=f[g],b=s,C=l,R=C;e:for(;R!==null;){switch(R.tag){case 27:if(ss(R.type)){Rt=R.stateNode,er=!1;break e}break;case 5:Rt=R.stateNode,er=!1;break e;case 3:case 4:Rt=R.stateNode.containerInfo,er=!0;break e}R=R.return}if(Rt===null)throw Error(r(160));A1(b,C,y),Rt=null,er=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)R1(l,s),l=l.sibling}var fi=null;function R1(s,l){var f=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:pr(l,s),mr(s),g&4&&(Zo(3,s,s.return),jc(3,s),Zo(5,s,s.return));break;case 1:pr(l,s),mr(s),g&512&&(zt||f===null||xi(f,f.return)),g&64&&ao&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(f=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var y=fi;if(pr(l,s),mr(s),g&512&&(zt||f===null||xi(f,f.return)),g&4){var b=f!==null?f.memoizedState:null;if(g=s.memoizedState,f===null)if(g===null)if(s.stateNode===null){e:{g=s.type,f=s.memoizedProps,y=y.ownerDocument||y;t:switch(g){case"title":b=y.getElementsByTagName("title")[0],(!b||b[vc]||b[kn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(g),y.head.insertBefore(b,y.querySelector("head > title"))),xn(b,g,f),b[kn]=s,an(b),g=b;break e;case"link":var C=SI("link","href",y).get(g+(f.href||""));if(C){for(var R=0;R<C.length;R++)if(b=C[R],b.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&b.getAttribute("rel")===(f.rel==null?null:f.rel)&&b.getAttribute("title")===(f.title==null?null:f.title)&&b.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){C.splice(R,1);break t}}b=y.createElement(g),xn(b,g,f),y.head.appendChild(b);break;case"meta":if(C=SI("meta","content",y).get(g+(f.content||""))){for(R=0;R<C.length;R++)if(b=C[R],b.getAttribute("content")===(f.content==null?null:""+f.content)&&b.getAttribute("name")===(f.name==null?null:f.name)&&b.getAttribute("property")===(f.property==null?null:f.property)&&b.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&b.getAttribute("charset")===(f.charSet==null?null:f.charSet)){C.splice(R,1);break t}}b=y.createElement(g),xn(b,g,f),y.head.appendChild(b);break;default:throw Error(r(468,g))}b[kn]=s,an(b),g=b}s.stateNode=g}else wI(y,s.type,s.stateNode);else s.stateNode=EI(y,g,s.memoizedProps);else b!==g?(b===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):b.count--,g===null?wI(y,s.type,s.stateNode):EI(y,g,s.memoizedProps)):g===null&&s.stateNode!==null&&n_(s,s.memoizedProps,f.memoizedProps)}break;case 27:pr(l,s),mr(s),g&512&&(zt||f===null||xi(f,f.return)),f!==null&&g&4&&n_(s,s.memoizedProps,f.memoizedProps);break;case 5:if(pr(l,s),mr(s),g&512&&(zt||f===null||xi(f,f.return)),s.flags&32){y=s.stateNode;try{Tl(y,"")}catch(H){mt(s,s.return,H)}}g&4&&s.stateNode!=null&&(y=s.memoizedProps,n_(s,y,f!==null?f.memoizedProps:y)),g&1024&&(o_=!0);break;case 6:if(pr(l,s),mr(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,f=s.stateNode;try{f.nodeValue=g}catch(H){mt(s,s.return,H)}}break;case 3:if(cp=null,y=fi,fi=lp(l.containerInfo),pr(l,s),fi=y,mr(s),g&4&&f!==null&&f.memoizedState.isDehydrated)try{ff(l.containerInfo)}catch(H){mt(s,s.return,H)}o_&&(o_=!1,P1(s));break;case 4:g=fi,fi=lp(s.stateNode.containerInfo),pr(l,s),mr(s),fi=g;break;case 12:pr(l,s),mr(s);break;case 13:pr(l,s),mr(s),s.child.flags&8192&&s.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(d_=jt()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,s_(s,g)));break;case 22:y=s.memoizedState!==null;var O=f!==null&&f.memoizedState!==null,q=ao,j=zt;if(ao=q||y,zt=j||O,pr(l,s),zt=j,ao=q,mr(s),g&8192)e:for(l=s.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(f===null||O||ao||zt||fa(s)),f=null,l=s;;){if(l.tag===5||l.tag===26){if(f===null){O=f=l;try{if(b=O.stateNode,y)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{R=O.stateNode;var ee=O.memoizedProps.style,z=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;R.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(H){mt(O,O.return,H)}}}else if(l.tag===6){if(f===null){O=l;try{O.stateNode.nodeValue=y?"":O.memoizedProps}catch(H){mt(O,O.return,H)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=s.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,s_(s,f))));break;case 19:pr(l,s),mr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,s_(s,g)));break;case 30:break;case 21:break;default:pr(l,s),mr(s)}}function mr(s){var l=s.flags;if(l&2){try{for(var f,g=s.return;g!==null;){if(E1(g)){f=g;break}g=g.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var y=f.stateNode,b=r_(s);Yh(s,b,y);break;case 5:var C=f.stateNode;f.flags&32&&(Tl(C,""),f.flags&=-33);var R=r_(s);Yh(s,R,C);break;case 3:case 4:var O=f.stateNode.containerInfo,q=r_(s);i_(s,q,O);break;default:throw Error(r(161))}}catch(j){mt(s,s.return,j)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function P1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;P1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Qo(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)C1(s,l.alternate,l),l=l.sibling}function fa(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Zo(4,l,l.return),fa(l);break;case 1:xi(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&b1(l,l.return,f),fa(l);break;case 27:nf(l.stateNode);case 26:case 5:xi(l,l.return),fa(l);break;case 22:l.memoizedState===null&&fa(l);break;case 30:fa(l);break;default:fa(l)}s=s.sibling}}function es(s,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,y=s,b=l,C=b.flags;switch(b.tag){case 0:case 11:case 15:es(y,b,f),jc(4,b);break;case 1:if(es(y,b,f),g=b,y=g.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(q){mt(g,g.return,q)}if(g=b,y=g.updateQueue,y!==null){var R=g.stateNode;try{var O=y.shared.hiddenCallbacks;if(O!==null)for(y.shared.hiddenCallbacks=null,y=0;y<O.length;y++)oA(O[y],R)}catch(q){mt(g,g.return,q)}}f&&C&64&&_1(b),Wc(b,b.return);break;case 27:S1(b);case 26:case 5:es(y,b,f),f&&g===null&&C&4&&T1(b),Wc(b,b.return);break;case 12:es(y,b,f);break;case 13:es(y,b,f),f&&C&4&&I1(y,b);break;case 22:b.memoizedState===null&&es(y,b,f),Wc(b,b.return);break;case 30:break;default:es(y,b,f)}l=l.sibling}}function a_(s,l){var f=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==f&&(s!=null&&s.refCount++,f!=null&&Mc(f))}function l_(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Mc(s))}function Ai(s,l,f,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)N1(s,l,f,g),l=l.sibling}function N1(s,l,f,g){var y=l.flags;switch(l.tag){case 0:case 11:case 15:Ai(s,l,f,g),y&2048&&jc(9,l);break;case 1:Ai(s,l,f,g);break;case 3:Ai(s,l,f,g),y&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Mc(s)));break;case 12:if(y&2048){Ai(s,l,f,g),s=l.stateNode;try{var b=l.memoizedProps,C=b.id,R=b.onPostCommit;typeof R=="function"&&R(C,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(O){mt(l,l.return,O)}}else Ai(s,l,f,g);break;case 13:Ai(s,l,f,g);break;case 23:break;case 22:b=l.stateNode,C=l.alternate,l.memoizedState!==null?b._visibility&2?Ai(s,l,f,g):Kc(s,l):b._visibility&2?Ai(s,l,f,g):(b._visibility|=2,Vl(s,l,f,g,(l.subtreeFlags&10256)!==0)),y&2048&&a_(C,l);break;case 24:Ai(s,l,f,g),y&2048&&l_(l.alternate,l);break;default:Ai(s,l,f,g)}}function Vl(s,l,f,g,y){for(y=y&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var b=s,C=l,R=f,O=g,q=C.flags;switch(C.tag){case 0:case 11:case 15:Vl(b,C,R,O,y),jc(8,C);break;case 23:break;case 22:var j=C.stateNode;C.memoizedState!==null?j._visibility&2?Vl(b,C,R,O,y):Kc(b,C):(j._visibility|=2,Vl(b,C,R,O,y)),y&&q&2048&&a_(C.alternate,C);break;case 24:Vl(b,C,R,O,y),y&&q&2048&&l_(C.alternate,C);break;default:Vl(b,C,R,O,y)}l=l.sibling}}function Kc(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=s,g=l,y=g.flags;switch(g.tag){case 22:Kc(f,g),y&2048&&a_(g.alternate,g);break;case 24:Kc(f,g),y&2048&&l_(g.alternate,g);break;default:Kc(f,g)}l=l.sibling}}var Yc=8192;function ql(s){if(s.subtreeFlags&Yc)for(s=s.child;s!==null;)M1(s),s=s.sibling}function M1(s){switch(s.tag){case 26:ql(s),s.flags&Yc&&s.memoizedState!==null&&r$(fi,s.memoizedState,s.memoizedProps);break;case 5:ql(s);break;case 3:case 4:var l=fi;fi=lp(s.stateNode.containerInfo),ql(s),fi=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=Yc,Yc=16777216,ql(s),Yc=l):ql(s));break;default:ql(s)}}function k1(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Jc(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];un=g,D1(g,s)}k1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)O1(s),s=s.sibling}function O1(s){switch(s.tag){case 0:case 11:case 15:Jc(s),s.flags&2048&&Zo(9,s,s.return);break;case 3:Jc(s);break;case 12:Jc(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Jh(s)):Jc(s);break;default:Jc(s)}}function Jh(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];un=g,D1(g,s)}k1(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Zo(8,l,l.return),Jh(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Jh(l));break;default:Jh(l)}s=s.sibling}}function D1(s,l){for(;un!==null;){var f=un;switch(f.tag){case 0:case 11:case 15:Zo(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Mc(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,un=g;else e:for(f=s;un!==null;){g=un;var y=g.sibling,b=g.return;if(x1(g),g===f){un=null;break e}if(y!==null){y.return=b,un=y;break e}un=b}}}var _6={getCacheForType:function(s){var l=On(Qt),f=l.data.get(s);return f===void 0&&(f=s(),l.data.set(s,f)),f}},b6=typeof WeakMap=="function"?WeakMap:Map,at=0,_t=null,We=null,Je=0,lt=0,gr=null,ts=!1,$l=!1,u_=!1,uo=0,Ft=0,ns=0,da=0,c_=0,qr=0,zl=0,Xc=null,tr=null,f_=!1,d_=0,Xh=1/0,Zh=null,rs=null,Cn=0,is=null,Hl=null,Gl=0,h_=0,p_=null,L1=null,Zc=0,m_=null;function vr(){if((at&2)!==0&&Je!==0)return Je&-Je;if($.T!==null){var s=Ml;return s!==0?s:E_()}return ZC()}function U1(){qr===0&&(qr=(Je&536870912)===0||nt?KC():536870912);var s=Vr.current;return s!==null&&(s.flags|=32),qr}function yr(s,l,f){(s===_t&&(lt===2||lt===9)||s.cancelPendingCommit!==null)&&(jl(s,0),os(s,Je,qr,!1)),gc(s,f),((at&2)===0||s!==_t)&&(s===_t&&((at&2)===0&&(da|=f),Ft===4&&os(s,Je,qr,!1)),Ii(s))}function B1(s,l,f){if((at&6)!==0)throw Error(r(327));var g=!f&&(l&124)===0&&(l&s.expiredLanes)===0||Sn(s,l),y=g?S6(s,l):y_(s,l,!0),b=g;do{if(y===0){$l&&!g&&os(s,l,0,!1);break}else{if(f=s.current.alternate,b&&!T6(f)){y=y_(s,l,!1),b=!1;continue}if(y===2){if(b=l,s.errorRecoveryDisabledLanes&b)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){l=C;e:{var R=s;y=Xc;var O=R.current.memoizedState.isDehydrated;if(O&&(jl(R,C).flags|=256),C=y_(R,C,!1),C!==2){if(u_&&!O){R.errorRecoveryDisabledLanes|=b,da|=b,y=4;break e}b=tr,tr=y,b!==null&&(tr===null?tr=b:tr.push.apply(tr,b))}y=C}if(b=!1,y!==2)continue}}if(y===1){jl(s,0),os(s,l,0,!0);break}e:{switch(g=s,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:os(g,l,qr,!ts);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(y=d_+300-jt(),10<y)){if(os(g,l,qr,!ts),$o(g,0,!0)!==0)break e;g.timeoutHandle=hI(F1.bind(null,g,f,tr,Zh,f_,l,qr,da,zl,ts,b,2,-0,0),y);break e}F1(g,f,tr,Zh,f_,l,qr,da,zl,ts,b,0,-0,0)}}break}while(!0);Ii(s)}function F1(s,l,f,g,y,b,C,R,O,q,j,ee,z,H){if(s.timeoutHandle=-1,ee=l.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(sf={stylesheets:null,count:0,unsuspend:n$},M1(l),ee=i$(),ee!==null)){s.cancelPendingCommit=ee(j1.bind(null,s,l,b,f,g,y,C,R,O,j,1,z,H)),os(s,b,C,!q);return}j1(s,l,b,f,g,y,C,R,O)}function T6(s){for(var l=s;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var y=f[g],b=y.getSnapshot;y=y.value;try{if(!dr(b(),y))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function os(s,l,f,g){l&=~c_,l&=~da,s.suspendedLanes|=l,s.pingedLanes&=~l,g&&(s.warmLanes|=l),g=s.expirationTimes;for(var y=l;0<y;){var b=31-we(y),C=1<<b;g[b]=-1,y&=~C}f!==0&&JC(s,f,l)}function Qh(){return(at&6)===0?(Qc(0),!1):!0}function g_(){if(We!==null){if(lt===0)var s=We.return;else s=We,to=sa=null,ky(s),Bl=null,zc=0,s=We;for(;s!==null;)y1(s.alternate,s),s=s.return;We=null}}function jl(s,l){var f=s.timeoutHandle;f!==-1&&(s.timeoutHandle=-1,F6(f)),f=s.cancelPendingCommit,f!==null&&(s.cancelPendingCommit=null,f()),g_(),_t=s,We=f=Zi(s.current,null),Je=l,lt=0,gr=null,ts=!1,$l=Sn(s,l),u_=!1,zl=qr=c_=da=ns=Ft=0,tr=Xc=null,f_=!1,(l&8)!==0&&(l|=l&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=l;0<g;){var y=31-we(g),b=1<<y;l|=s[y],g&=~b}return uo=l,Th(),f}function V1(s,l){$e=null,$.H=Vh,l===Oc||l===Ph?(l=rA(),lt=3):l===eA?(l=rA(),lt=4):lt=l===i1?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,gr=l,We===null&&(Ft=1,Gh(s,Lr(l,s.current)))}function q1(){var s=$.H;return $.H=Vh,s===null?Vh:s}function $1(){var s=$.A;return $.A=_6,s}function v_(){Ft=4,ts||(Je&4194048)!==Je&&Vr.current!==null||($l=!0),(ns&134217727)===0&&(da&134217727)===0||_t===null||os(_t,Je,qr,!1)}function y_(s,l,f){var g=at;at|=2;var y=q1(),b=$1();(_t!==s||Je!==l)&&(Zh=null,jl(s,l)),l=!1;var C=Ft;e:do try{if(lt!==0&&We!==null){var R=We,O=gr;switch(lt){case 8:g_(),C=6;break e;case 3:case 2:case 9:case 6:Vr.current===null&&(l=!0);var q=lt;if(lt=0,gr=null,Wl(s,R,O,q),f&&$l){C=0;break e}break;default:q=lt,lt=0,gr=null,Wl(s,R,O,q)}}E6(),C=Ft;break}catch(j){V1(s,j)}while(!0);return l&&s.shellSuspendCounter++,to=sa=null,at=g,$.H=y,$.A=b,We===null&&(_t=null,Je=0,Th()),C}function E6(){for(;We!==null;)z1(We)}function S6(s,l){var f=at;at|=2;var g=q1(),y=$1();_t!==s||Je!==l?(Zh=null,Xh=jt()+500,jl(s,l)):$l=Sn(s,l);e:do try{if(lt!==0&&We!==null){l=We;var b=gr;t:switch(lt){case 1:lt=0,gr=null,Wl(s,l,b,1);break;case 2:case 9:if(tA(b)){lt=0,gr=null,H1(l);break}l=function(){lt!==2&&lt!==9||_t!==s||(lt=7),Ii(s)},b.then(l,l);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:tA(b)?(lt=0,gr=null,H1(l)):(lt=0,gr=null,Wl(s,l,b,7));break;case 5:var C=null;switch(We.tag){case 26:C=We.memoizedState;case 5:case 27:var R=We;if(!C||CI(C)){lt=0,gr=null;var O=R.sibling;if(O!==null)We=O;else{var q=R.return;q!==null?(We=q,ep(q)):We=null}break t}}lt=0,gr=null,Wl(s,l,b,5);break;case 6:lt=0,gr=null,Wl(s,l,b,6);break;case 8:g_(),Ft=6;break e;default:throw Error(r(462))}}w6();break}catch(j){V1(s,j)}while(!0);return to=sa=null,$.H=g,$.A=y,at=f,We!==null?0:(_t=null,Je=0,Th(),Ft)}function w6(){for(;We!==null&&!Tn();)z1(We)}function z1(s){var l=g1(s.alternate,s,uo);s.memoizedProps=s.pendingProps,l===null?ep(s):We=l}function H1(s){var l=s,f=l.alternate;switch(l.tag){case 15:case 0:l=c1(f,l,l.pendingProps,l.type,void 0,Je);break;case 11:l=c1(f,l,l.pendingProps,l.type.render,l.ref,Je);break;case 5:ky(l);default:y1(f,l),l=We=Gx(l,uo),l=g1(f,l,uo)}s.memoizedProps=s.pendingProps,l===null?ep(s):We=l}function Wl(s,l,f,g){to=sa=null,ky(l),Bl=null,zc=0;var y=l.return;try{if(h6(s,y,l,f,Je)){Ft=1,Gh(s,Lr(f,s.current)),We=null;return}}catch(b){if(y!==null)throw We=y,b;Ft=1,Gh(s,Lr(f,s.current)),We=null;return}l.flags&32768?(nt||g===1?s=!0:$l||(Je&536870912)!==0?s=!1:(ts=s=!0,(g===2||g===9||g===3||g===6)&&(g=Vr.current,g!==null&&g.tag===13&&(g.flags|=16384))),G1(l,s)):ep(l)}function ep(s){var l=s;do{if((l.flags&32768)!==0){G1(l,ts);return}s=l.return;var f=m6(l.alternate,l,uo);if(f!==null){We=f;return}if(l=l.sibling,l!==null){We=l;return}We=l=s}while(l!==null);Ft===0&&(Ft=5)}function G1(s,l){do{var f=g6(s.alternate,s);if(f!==null){f.flags&=32767,We=f;return}if(f=s.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(s=s.sibling,s!==null)){We=s;return}We=s=f}while(s!==null);Ft=6,We=null}function j1(s,l,f,g,y,b,C,R,O){s.cancelPendingCommit=null;do tp();while(Cn!==0);if((at&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(b=l.lanes|l.childLanes,b|=ly,nq(s,f,b,C,R,O),s===_t&&(We=_t=null,Je=0),Hl=l,is=s,Gl=f,h_=b,p_=y,L1=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,I6(dl,function(){return X1(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=$.T,$.T=null,y=te.p,te.p=2,C=at,at|=4;try{v6(s,l,f)}finally{at=C,te.p=y,$.T=g}}Cn=1,W1(),K1(),Y1()}}function W1(){if(Cn===1){Cn=0;var s=is,l=Hl,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=$.T,$.T=null;var g=te.p;te.p=2;var y=at;at|=4;try{R1(l,s);var b=P_,C=Dx(s.containerInfo),R=b.focusedElem,O=b.selectionRange;if(C!==R&&R&&R.ownerDocument&&Ox(R.ownerDocument.documentElement,R)){if(O!==null&&ry(R)){var q=O.start,j=O.end;if(j===void 0&&(j=q),"selectionStart"in R)R.selectionStart=q,R.selectionEnd=Math.min(j,R.value.length);else{var ee=R.ownerDocument||document,z=ee&&ee.defaultView||window;if(z.getSelection){var H=z.getSelection(),Oe=R.textContent.length,Re=Math.min(O.start,Oe),ht=O.end===void 0?Re:Math.min(O.end,Oe);!H.extend&&Re>ht&&(C=ht,ht=Re,Re=C);var B=kx(R,Re),U=kx(R,ht);if(B&&U&&(H.rangeCount!==1||H.anchorNode!==B.node||H.anchorOffset!==B.offset||H.focusNode!==U.node||H.focusOffset!==U.offset)){var V=ee.createRange();V.setStart(B.node,B.offset),H.removeAllRanges(),Re>ht?(H.addRange(V),H.extend(U.node,U.offset)):(V.setEnd(U.node,U.offset),H.addRange(V))}}}}for(ee=[],H=R;H=H.parentNode;)H.nodeType===1&&ee.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ee.length;R++){var J=ee[R];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}hp=!!R_,P_=R_=null}finally{at=y,te.p=g,$.T=f}}s.current=l,Cn=2}}function K1(){if(Cn===2){Cn=0;var s=is,l=Hl,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=$.T,$.T=null;var g=te.p;te.p=2;var y=at;at|=4;try{C1(s,l.alternate,l)}finally{at=y,te.p=g,$.T=f}}Cn=3}}function Y1(){if(Cn===4||Cn===3){Cn=0,En();var s=is,l=Hl,f=Gl,g=L1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Cn=5:(Cn=0,Hl=is=null,J1(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(rs=null),Lv(f),l=l.stateNode,ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(Js,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=$.T,y=te.p,te.p=2,$.T=null;try{for(var b=s.onRecoverableError,C=0;C<g.length;C++){var R=g[C];b(R.value,{componentStack:R.stack})}}finally{$.T=l,te.p=y}}(Gl&3)!==0&&tp(),Ii(s),y=s.pendingLanes,(f&4194090)!==0&&(y&42)!==0?s===m_?Zc++:(Zc=0,m_=s):Zc=0,Qc(0)}}function J1(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Mc(l)))}function tp(s){return W1(),K1(),Y1(),X1()}function X1(){if(Cn!==5)return!1;var s=is,l=h_;h_=0;var f=Lv(Gl),g=$.T,y=te.p;try{te.p=32>f?32:f,$.T=null,f=p_,p_=null;var b=is,C=Gl;if(Cn=0,Hl=is=null,Gl=0,(at&6)!==0)throw Error(r(331));var R=at;if(at|=4,O1(b.current),N1(b,b.current,C,f),at=R,Qc(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(Js,b)}catch{}return!0}finally{te.p=y,$.T=g,J1(s,l)}}function Z1(s,l,f){l=Lr(f,l),l=Wy(s.stateNode,l,2),s=Ko(s,l,2),s!==null&&(gc(s,2),Ii(s))}function mt(s,l,f){if(s.tag===3)Z1(s,s,f);else for(;l!==null;){if(l.tag===3){Z1(l,s,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(rs===null||!rs.has(g))){s=Lr(f,s),f=n1(2),g=Ko(l,f,2),g!==null&&(r1(f,g,l,s),gc(g,2),Ii(g));break}}l=l.return}}function __(s,l,f){var g=s.pingCache;if(g===null){g=s.pingCache=new b6;var y=new Set;g.set(l,y)}else y=g.get(l),y===void 0&&(y=new Set,g.set(l,y));y.has(f)||(u_=!0,y.add(f),s=C6.bind(null,s,l,f),l.then(s,s))}function C6(s,l,f){var g=s.pingCache;g!==null&&g.delete(l),s.pingedLanes|=s.suspendedLanes&f,s.warmLanes&=~f,_t===s&&(Je&f)===f&&(Ft===4||Ft===3&&(Je&62914560)===Je&&300>jt()-d_?(at&2)===0&&jl(s,0):c_|=f,zl===Je&&(zl=0)),Ii(s)}function Q1(s,l){l===0&&(l=YC()),s=Il(s,l),s!==null&&(gc(s,l),Ii(s))}function x6(s){var l=s.memoizedState,f=0;l!==null&&(f=l.retryLane),Q1(s,f)}function A6(s,l){var f=0;switch(s.tag){case 13:var g=s.stateNode,y=s.memoizedState;y!==null&&(f=y.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),Q1(s,f)}function I6(s,l){return Gt(s,l)}var np=null,Kl=null,b_=!1,rp=!1,T_=!1,ha=0;function Ii(s){s!==Kl&&s.next===null&&(Kl===null?np=Kl=s:Kl=Kl.next=s),rp=!0,b_||(b_=!0,P6())}function Qc(s,l){if(!T_&&rp){T_=!0;do for(var f=!1,g=np;g!==null;){if(s!==0){var y=g.pendingLanes;if(y===0)var b=0;else{var C=g.suspendedLanes,R=g.pingedLanes;b=(1<<31-we(42|s)+1)-1,b&=y&~(C&~R),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(f=!0,rI(g,b))}else b=Je,b=$o(g,g===_t?b:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(b&3)===0||Sn(g,b)||(f=!0,rI(g,b));g=g.next}while(f);T_=!1}}function R6(){eI()}function eI(){rp=b_=!1;var s=0;ha!==0&&(B6()&&(s=ha),ha=0);for(var l=jt(),f=null,g=np;g!==null;){var y=g.next,b=tI(g,l);b===0?(g.next=null,f===null?np=y:f.next=y,y===null&&(Kl=f)):(f=g,(s!==0||(b&3)!==0)&&(rp=!0)),g=y}Qc(s)}function tI(s,l){for(var f=s.suspendedLanes,g=s.pingedLanes,y=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var C=31-we(b),R=1<<C,O=y[C];O===-1?((R&f)===0||(R&g)!==0)&&(y[C]=hl(R,l)):O<=l&&(s.expiredLanes|=R),b&=~R}if(l=_t,f=Je,f=$o(s,s===l?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,f===0||s===l&&(lt===2||lt===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Xe(g),s.callbackNode=null,s.callbackPriority=0;if((f&3)===0||Sn(s,f)){if(l=f&-f,l===s.callbackPriority)return l;switch(g!==null&&Xe(g),Lv(f)){case 2:case 8:f=uh;break;case 32:f=dl;break;case 268435456:f=mc;break;default:f=dl}return g=nI.bind(null,s),f=Gt(f,g),s.callbackPriority=l,s.callbackNode=f,l}return g!==null&&g!==null&&Xe(g),s.callbackPriority=2,s.callbackNode=null,2}function nI(s,l){if(Cn!==0&&Cn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var f=s.callbackNode;if(tp()&&s.callbackNode!==f)return null;var g=Je;return g=$o(s,s===_t?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(B1(s,g,l),tI(s,jt()),s.callbackNode!=null&&s.callbackNode===f?nI.bind(null,s):null)}function rI(s,l){if(tp())return null;B1(s,l,!0)}function P6(){V6(function(){(at&6)!==0?Gt(lh,R6):eI()})}function E_(){return ha===0&&(ha=KC()),ha}function iI(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ph(""+s)}function oI(s,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,s.id&&f.setAttribute("form",s.id),l.parentNode.insertBefore(f,l),s=new FormData(s),f.parentNode.removeChild(f),s}function N6(s,l,f,g,y){if(l==="submit"&&f&&f.stateNode===y){var b=iI((y[Xn]||null).action),C=g.submitter;C&&(l=(l=C[Xn]||null)?iI(l.formAction):C.getAttribute("formAction"),l!==null&&(b=l,C=null));var R=new yh("action","action",null,g,y);s.push({event:R,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ha!==0){var O=C?oI(y,C):new FormData(y);$y(f,{pending:!0,data:O,method:y.method,action:b},null,O)}}else typeof b=="function"&&(R.preventDefault(),O=C?oI(y,C):new FormData(y),$y(f,{pending:!0,data:O,method:y.method,action:b},b,O))},currentTarget:y}]})}}for(var S_=0;S_<ay.length;S_++){var w_=ay[S_],M6=w_.toLowerCase(),k6=w_[0].toUpperCase()+w_.slice(1);ci(M6,"on"+k6)}ci(Bx,"onAnimationEnd"),ci(Fx,"onAnimationIteration"),ci(Vx,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(Jq,"onTransitionRun"),ci(Xq,"onTransitionStart"),ci(Zq,"onTransitionCancel"),ci(qx,"onTransitionEnd"),yl("onMouseEnter",["mouseout","mouseover"]),yl("onMouseLeave",["mouseout","mouseover"]),yl("onPointerEnter",["pointerout","pointerover"]),yl("onPointerLeave",["pointerout","pointerover"]),Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ef));function sI(s,l){l=(l&4)!==0;for(var f=0;f<s.length;f++){var g=s[f],y=g.event;g=g.listeners;e:{var b=void 0;if(l)for(var C=g.length-1;0<=C;C--){var R=g[C],O=R.instance,q=R.currentTarget;if(R=R.listener,O!==b&&y.isPropagationStopped())break e;b=R,y.currentTarget=q;try{b(y)}catch(j){Hh(j)}y.currentTarget=null,b=O}else for(C=0;C<g.length;C++){if(R=g[C],O=R.instance,q=R.currentTarget,R=R.listener,O!==b&&y.isPropagationStopped())break e;b=R,y.currentTarget=q;try{b(y)}catch(j){Hh(j)}y.currentTarget=null,b=O}}}}function Ke(s,l){var f=l[Uv];f===void 0&&(f=l[Uv]=new Set);var g=s+"__bubble";f.has(g)||(aI(l,s,2,!1),f.add(g))}function C_(s,l,f){var g=0;l&&(g|=4),aI(f,s,g,l)}var ip="_reactListening"+Math.random().toString(36).slice(2);function x_(s){if(!s[ip]){s[ip]=!0,ex.forEach(function(f){f!=="selectionchange"&&(O6.has(f)||C_(f,!1,s),C_(f,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[ip]||(l[ip]=!0,C_("selectionchange",!1,l))}}function aI(s,l,f,g){switch(NI(l)){case 2:var y=a$;break;case 8:y=l$;break;default:y=V_}f=y.bind(null,l,f,s),y=void 0,!Kv||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),g?y!==void 0?s.addEventListener(l,f,{capture:!0,passive:y}):s.addEventListener(l,f,!0):y!==void 0?s.addEventListener(l,f,{passive:y}):s.addEventListener(l,f,!1)}function A_(s,l,f,g,y){var b=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var C=g.tag;if(C===3||C===4){var R=g.stateNode.containerInfo;if(R===y)break;if(C===4)for(C=g.return;C!==null;){var O=C.tag;if((O===3||O===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;R!==null;){if(C=ml(R),C===null)return;if(O=C.tag,O===5||O===6||O===26||O===27){g=b=C;continue e}R=R.parentNode}}g=g.return}px(function(){var q=b,j=jv(f),ee=[];e:{var z=$x.get(s);if(z!==void 0){var H=yh,Oe=s;switch(s){case"keypress":if(gh(f)===0)break e;case"keydown":case"keyup":H=Iq;break;case"focusin":Oe="focus",H=Zv;break;case"focusout":Oe="blur",H=Zv;break;case"beforeblur":case"afterblur":H=Zv;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=vx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Nq;break;case Bx:case Fx:case Vx:H=_q;break;case qx:H=kq;break;case"scroll":case"scrollend":H=pq;break;case"wheel":H=Dq;break;case"copy":case"cut":case"paste":H=Tq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=_x;break;case"toggle":case"beforetoggle":H=Uq}var Re=(l&4)!==0,ht=!Re&&(s==="scroll"||s==="scrollend"),B=Re?z!==null?z+"Capture":null:z;Re=[];for(var U=q,V;U!==null;){var J=U;if(V=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||V===null||B===null||(J=_c(U,B),J!=null&&Re.push(tf(U,J,V))),ht)break;U=U.return}0<Re.length&&(z=new H(z,Oe,null,f,j),ee.push({event:z,listeners:Re}))}}if((l&7)===0){e:{if(z=s==="mouseover"||s==="pointerover",H=s==="mouseout"||s==="pointerout",z&&f!==Gv&&(Oe=f.relatedTarget||f.fromElement)&&(ml(Oe)||Oe[pl]))break e;if((H||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,H?(Oe=f.relatedTarget||f.toElement,H=q,Oe=Oe?ml(Oe):null,Oe!==null&&(ht=o(Oe),Re=Oe.tag,Oe!==ht||Re!==5&&Re!==27&&Re!==6)&&(Oe=null)):(H=null,Oe=q),H!==Oe)){if(Re=vx,J="onMouseLeave",B="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(Re=_x,J="onPointerLeave",B="onPointerEnter",U="pointer"),ht=H==null?z:yc(H),V=Oe==null?z:yc(Oe),z=new Re(J,U+"leave",H,f,j),z.target=ht,z.relatedTarget=V,J=null,ml(j)===q&&(Re=new Re(B,U+"enter",Oe,f,j),Re.target=V,Re.relatedTarget=ht,J=Re),ht=J,H&&Oe)t:{for(Re=H,B=Oe,U=0,V=Re;V;V=Yl(V))U++;for(V=0,J=B;J;J=Yl(J))V++;for(;0<U-V;)Re=Yl(Re),U--;for(;0<V-U;)B=Yl(B),V--;for(;U--;){if(Re===B||B!==null&&Re===B.alternate)break t;Re=Yl(Re),B=Yl(B)}Re=null}else Re=null;H!==null&&lI(ee,z,H,Re,!1),Oe!==null&&ht!==null&&lI(ee,ht,Oe,Re,!0)}}e:{if(z=q?yc(q):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var me=Ax;else if(Cx(z))if(Ix)me=Wq;else{me=Gq;var Ge=Hq}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?q&&Hv(q.elementType)&&(me=Ax):me=jq;if(me&&(me=me(s,q))){xx(ee,me,f,j);break e}Ge&&Ge(s,z,q),s==="focusout"&&q&&z.type==="number"&&q.memoizedProps.value!=null&&zv(z,"number",z.value)}switch(Ge=q?yc(q):window,s){case"focusin":(Cx(Ge)||Ge.contentEditable==="true")&&(Cl=Ge,iy=q,Ac=null);break;case"focusout":Ac=iy=Cl=null;break;case"mousedown":oy=!0;break;case"contextmenu":case"mouseup":case"dragend":oy=!1,Lx(ee,f,j);break;case"selectionchange":if(Yq)break;case"keydown":case"keyup":Lx(ee,f,j)}var Te;if(ey)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else wl?Sx(s,f)&&(Pe="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Pe="onCompositionStart");Pe&&(bx&&f.locale!=="ko"&&(wl||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&wl&&(Te=mx()):(Ho=j,Yv="value"in Ho?Ho.value:Ho.textContent,wl=!0)),Ge=op(q,Pe),0<Ge.length&&(Pe=new yx(Pe,s,null,f,j),ee.push({event:Pe,listeners:Ge}),Te?Pe.data=Te:(Te=wx(f),Te!==null&&(Pe.data=Te)))),(Te=Fq?Vq(s,f):qq(s,f))&&(Pe=op(q,"onBeforeInput"),0<Pe.length&&(Ge=new yx("onBeforeInput","beforeinput",null,f,j),ee.push({event:Ge,listeners:Pe}),Ge.data=Te)),N6(ee,s,q,f,j)}sI(ee,l)})}function tf(s,l,f){return{instance:s,listener:l,currentTarget:f}}function op(s,l){for(var f=l+"Capture",g=[];s!==null;){var y=s,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=_c(s,f),y!=null&&g.unshift(tf(s,y,b)),y=_c(s,l),y!=null&&g.push(tf(s,y,b))),s.tag===3)return g;s=s.return}return[]}function Yl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function lI(s,l,f,g,y){for(var b=l._reactName,C=[];f!==null&&f!==g;){var R=f,O=R.alternate,q=R.stateNode;if(R=R.tag,O!==null&&O===g)break;R!==5&&R!==26&&R!==27||q===null||(O=q,y?(q=_c(f,b),q!=null&&C.unshift(tf(f,q,O))):y||(q=_c(f,b),q!=null&&C.push(tf(f,q,O)))),f=f.return}C.length!==0&&s.push({event:l,listeners:C})}var D6=/\r\n?/g,L6=/\u0000|\uFFFD/g;function uI(s){return(typeof s=="string"?s:""+s).replace(D6,`
`).replace(L6,"")}function cI(s,l){return l=uI(l),uI(s)===l}function sp(){}function dt(s,l,f,g,y,b){switch(f){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||Tl(s,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&Tl(s,""+g);break;case"className":fh(s,"class",g);break;case"tabIndex":fh(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":fh(s,f,g);break;case"style":dx(s,g,b);break;case"data":if(l!=="object"){fh(s,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||f!=="href")){s.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(f);break}g=ph(""+g),s.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(f==="formAction"?(l!=="input"&&dt(s,l,"name",y.name,y,null),dt(s,l,"formEncType",y.formEncType,y,null),dt(s,l,"formMethod",y.formMethod,y,null),dt(s,l,"formTarget",y.formTarget,y,null)):(dt(s,l,"encType",y.encType,y,null),dt(s,l,"method",y.method,y,null),dt(s,l,"target",y.target,y,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(f);break}g=ph(""+g),s.setAttribute(f,g);break;case"onClick":g!=null&&(s.onclick=sp);break;case"onScroll":g!=null&&Ke("scroll",s);break;case"onScrollEnd":g!=null&&Ke("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}f=ph(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(f,""+g):s.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(f,""):s.removeAttribute(f);break;case"capture":case"download":g===!0?s.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(f,g):s.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(f,g):s.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(f):s.setAttribute(f,g);break;case"popover":Ke("beforetoggle",s),Ke("toggle",s),ch(s,"popover",g);break;case"xlinkActuate":Ji(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ji(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ji(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ji(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ji(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ji(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ji(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ji(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ji(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ch(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=dq.get(f)||f,ch(s,f,g))}}function I_(s,l,f,g,y,b){switch(f){case"style":dx(s,g,b);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(f=g.__html,f!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=f}}break;case"children":typeof g=="string"?Tl(s,g):(typeof g=="number"||typeof g=="bigint")&&Tl(s,""+g);break;case"onScroll":g!=null&&Ke("scroll",s);break;case"onScrollEnd":g!=null&&Ke("scrollend",s);break;case"onClick":g!=null&&(s.onclick=sp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tx.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(y=f.endsWith("Capture"),l=f.slice(2,y?f.length-7:void 0),b=s[Xn]||null,b=b!=null?b[f]:null,typeof b=="function"&&s.removeEventListener(l,b,y),typeof g=="function")){typeof b!="function"&&b!==null&&(f in s?s[f]=null:s.hasAttribute(f)&&s.removeAttribute(f)),s.addEventListener(l,g,y);break e}f in s?s[f]=g:g===!0?s.setAttribute(f,""):ch(s,f,g)}}}function xn(s,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",s),Ke("load",s);var g=!1,y=!1,b;for(b in f)if(f.hasOwnProperty(b)){var C=f[b];if(C!=null)switch(b){case"src":g=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:dt(s,l,b,C,f,null)}}y&&dt(s,l,"srcSet",f.srcSet,f,null),g&&dt(s,l,"src",f.src,f,null);return;case"input":Ke("invalid",s);var R=b=C=y=null,O=null,q=null;for(g in f)if(f.hasOwnProperty(g)){var j=f[g];if(j!=null)switch(g){case"name":y=j;break;case"type":C=j;break;case"checked":O=j;break;case"defaultChecked":q=j;break;case"value":b=j;break;case"defaultValue":R=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,l));break;default:dt(s,l,g,j,f,null)}}lx(s,b,R,O,q,C,y,!1),dh(s);return;case"select":Ke("invalid",s),g=C=b=null;for(y in f)if(f.hasOwnProperty(y)&&(R=f[y],R!=null))switch(y){case"value":b=R;break;case"defaultValue":C=R;break;case"multiple":g=R;default:dt(s,l,y,R,f,null)}l=b,f=C,s.multiple=!!g,l!=null?bl(s,!!g,l,!1):f!=null&&bl(s,!!g,f,!0);return;case"textarea":Ke("invalid",s),b=y=g=null;for(C in f)if(f.hasOwnProperty(C)&&(R=f[C],R!=null))switch(C){case"value":g=R;break;case"defaultValue":y=R;break;case"children":b=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:dt(s,l,C,R,f,null)}cx(s,g,y,b),dh(s);return;case"option":for(O in f)if(f.hasOwnProperty(O)&&(g=f[O],g!=null))switch(O){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:dt(s,l,O,g,f,null)}return;case"dialog":Ke("beforetoggle",s),Ke("toggle",s),Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":Ke("load",s);break;case"video":case"audio":for(g=0;g<ef.length;g++)Ke(ef[g],s);break;case"image":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"embed":case"source":case"link":Ke("error",s),Ke("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in f)if(f.hasOwnProperty(q)&&(g=f[q],g!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:dt(s,l,q,g,f,null)}return;default:if(Hv(l)){for(j in f)f.hasOwnProperty(j)&&(g=f[j],g!==void 0&&I_(s,l,j,g,f,void 0));return}}for(R in f)f.hasOwnProperty(R)&&(g=f[R],g!=null&&dt(s,l,R,g,f,null))}function U6(s,l,f,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,C=null,R=null,O=null,q=null,j=null;for(H in f){var ee=f[H];if(f.hasOwnProperty(H)&&ee!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":O=ee;default:g.hasOwnProperty(H)||dt(s,l,H,null,g,ee)}}for(var z in g){var H=g[z];if(ee=f[z],g.hasOwnProperty(z)&&(H!=null||ee!=null))switch(z){case"type":b=H;break;case"name":y=H;break;case"checked":q=H;break;case"defaultChecked":j=H;break;case"value":C=H;break;case"defaultValue":R=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,l));break;default:H!==ee&&dt(s,l,z,H,g,ee)}}$v(s,C,R,O,q,j,b,y);return;case"select":H=C=R=z=null;for(b in f)if(O=f[b],f.hasOwnProperty(b)&&O!=null)switch(b){case"value":break;case"multiple":H=O;default:g.hasOwnProperty(b)||dt(s,l,b,null,g,O)}for(y in g)if(b=g[y],O=f[y],g.hasOwnProperty(y)&&(b!=null||O!=null))switch(y){case"value":z=b;break;case"defaultValue":R=b;break;case"multiple":C=b;default:b!==O&&dt(s,l,y,b,g,O)}l=R,f=C,g=H,z!=null?bl(s,!!f,z,!1):!!g!=!!f&&(l!=null?bl(s,!!f,l,!0):bl(s,!!f,f?[]:"",!1));return;case"textarea":H=z=null;for(R in f)if(y=f[R],f.hasOwnProperty(R)&&y!=null&&!g.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:dt(s,l,R,null,g,y)}for(C in g)if(y=g[C],b=f[C],g.hasOwnProperty(C)&&(y!=null||b!=null))switch(C){case"value":z=y;break;case"defaultValue":H=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&dt(s,l,C,y,g,b)}ux(s,z,H);return;case"option":for(var Oe in f)if(z=f[Oe],f.hasOwnProperty(Oe)&&z!=null&&!g.hasOwnProperty(Oe))switch(Oe){case"selected":s.selected=!1;break;default:dt(s,l,Oe,null,g,z)}for(O in g)if(z=g[O],H=f[O],g.hasOwnProperty(O)&&z!==H&&(z!=null||H!=null))switch(O){case"selected":s.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:dt(s,l,O,z,g,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in f)z=f[Re],f.hasOwnProperty(Re)&&z!=null&&!g.hasOwnProperty(Re)&&dt(s,l,Re,null,g,z);for(q in g)if(z=g[q],H=f[q],g.hasOwnProperty(q)&&z!==H&&(z!=null||H!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,l));break;default:dt(s,l,q,z,g,H)}return;default:if(Hv(l)){for(var ht in f)z=f[ht],f.hasOwnProperty(ht)&&z!==void 0&&!g.hasOwnProperty(ht)&&I_(s,l,ht,void 0,g,z);for(j in g)z=g[j],H=f[j],!g.hasOwnProperty(j)||z===H||z===void 0&&H===void 0||I_(s,l,j,z,g,H);return}}for(var B in f)z=f[B],f.hasOwnProperty(B)&&z!=null&&!g.hasOwnProperty(B)&&dt(s,l,B,null,g,z);for(ee in g)z=g[ee],H=f[ee],!g.hasOwnProperty(ee)||z===H||z==null&&H==null||dt(s,l,ee,z,g,H)}var R_=null,P_=null;function ap(s){return s.nodeType===9?s:s.ownerDocument}function fI(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dI(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function N_(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var M_=null;function B6(){var s=window.event;return s&&s.type==="popstate"?s===M_?!1:(M_=s,!0):(M_=null,!1)}var hI=typeof setTimeout=="function"?setTimeout:void 0,F6=typeof clearTimeout=="function"?clearTimeout:void 0,pI=typeof Promise=="function"?Promise:void 0,V6=typeof queueMicrotask=="function"?queueMicrotask:typeof pI<"u"?function(s){return pI.resolve(null).then(s).catch(q6)}:hI;function q6(s){setTimeout(function(){throw s})}function ss(s){return s==="head"}function mI(s,l){var f=l,g=0,y=0;do{var b=f.nextSibling;if(s.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(0<g&&8>g){f=g;var C=s.ownerDocument;if(f&1&&nf(C.documentElement),f&2&&nf(C.body),f&4)for(f=C.head,nf(f),C=f.firstChild;C;){var R=C.nextSibling,O=C.nodeName;C[vc]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=R}}if(y===0){s.removeChild(b),ff(l);return}y--}else f==="$"||f==="$?"||f==="$!"?y++:g=f.charCodeAt(0)-48;else g=0;f=b}while(f);ff(l)}function k_(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":k_(f),Bv(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}s.removeChild(f)}}function $6(s,l,f,g){for(;s.nodeType===1;){var y=f;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[vc])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=di(s.nextSibling),s===null)break}return null}function z6(s,l,f){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=di(s.nextSibling),s===null))return null;return s}function O_(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function H6(s,l){var f=s.ownerDocument;if(s.data!=="$?"||f.readyState==="complete")l();else{var g=function(){l(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function di(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var D_=null;function gI(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return s;l--}else f==="/$"&&l++}s=s.previousSibling}return null}function vI(s,l,f){switch(l=ap(f),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function nf(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Bv(s)}var $r=new Map,yI=new Set;function lp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var co=te.d;te.d={f:G6,r:j6,D:W6,C:K6,L:Y6,m:J6,X:Z6,S:X6,M:Q6};function G6(){var s=co.f(),l=Qh();return s||l}function j6(s){var l=gl(s);l!==null&&l.tag===5&&l.type==="form"?BA(l):co.r(s)}var Jl=typeof document>"u"?null:document;function _I(s,l,f){var g=Jl;if(g&&typeof l=="string"&&l){var y=Dr(l);y='link[rel="'+s+'"][href="'+y+'"]',typeof f=="string"&&(y+='[crossorigin="'+f+'"]'),yI.has(y)||(yI.add(y),s={rel:s,crossOrigin:f,href:l},g.querySelector(y)===null&&(l=g.createElement("link"),xn(l,"link",s),an(l),g.head.appendChild(l)))}}function W6(s){co.D(s),_I("dns-prefetch",s,null)}function K6(s,l){co.C(s,l),_I("preconnect",s,l)}function Y6(s,l,f){co.L(s,l,f);var g=Jl;if(g&&s&&l){var y='link[rel="preload"][as="'+Dr(l)+'"]';l==="image"&&f&&f.imageSrcSet?(y+='[imagesrcset="'+Dr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(y+='[imagesizes="'+Dr(f.imageSizes)+'"]')):y+='[href="'+Dr(s)+'"]';var b=y;switch(l){case"style":b=Xl(s);break;case"script":b=Zl(s)}$r.has(b)||(s=h({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:s,as:l},f),$r.set(b,s),g.querySelector(y)!==null||l==="style"&&g.querySelector(rf(b))||l==="script"&&g.querySelector(of(b))||(l=g.createElement("link"),xn(l,"link",s),an(l),g.head.appendChild(l)))}}function J6(s,l){co.m(s,l);var f=Jl;if(f&&s){var g=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+Dr(g)+'"][href="'+Dr(s)+'"]',b=y;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Zl(s)}if(!$r.has(b)&&(s=h({rel:"modulepreload",href:s},l),$r.set(b,s),f.querySelector(y)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(of(b)))return}g=f.createElement("link"),xn(g,"link",s),an(g),f.head.appendChild(g)}}}function X6(s,l,f){co.S(s,l,f);var g=Jl;if(g&&s){var y=vl(g).hoistableStyles,b=Xl(s);l=l||"default";var C=y.get(b);if(!C){var R={loading:0,preload:null};if(C=g.querySelector(rf(b)))R.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":l},f),(f=$r.get(b))&&L_(s,f);var O=C=g.createElement("link");an(O),xn(O,"link",s),O._p=new Promise(function(q,j){O.onload=q,O.onerror=j}),O.addEventListener("load",function(){R.loading|=1}),O.addEventListener("error",function(){R.loading|=2}),R.loading|=4,up(C,l,g)}C={type:"stylesheet",instance:C,count:1,state:R},y.set(b,C)}}}function Z6(s,l){co.X(s,l);var f=Jl;if(f&&s){var g=vl(f).hoistableScripts,y=Zl(s),b=g.get(y);b||(b=f.querySelector(of(y)),b||(s=h({src:s,async:!0},l),(l=$r.get(y))&&U_(s,l),b=f.createElement("script"),an(b),xn(b,"link",s),f.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(y,b))}}function Q6(s,l){co.M(s,l);var f=Jl;if(f&&s){var g=vl(f).hoistableScripts,y=Zl(s),b=g.get(y);b||(b=f.querySelector(of(y)),b||(s=h({src:s,async:!0,type:"module"},l),(l=$r.get(y))&&U_(s,l),b=f.createElement("script"),an(b),xn(b,"link",s),f.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},g.set(y,b))}}function bI(s,l,f,g){var y=(y=ue.current)?lp(y):null;if(!y)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Xl(f.href),f=vl(y).hoistableStyles,g=f.get(l),g||(g={type:"style",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){s=Xl(f.href);var b=vl(y).hoistableStyles,C=b.get(s);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,C),(b=y.querySelector(rf(s)))&&!b._p&&(C.instance=b,C.state.loading=5),$r.has(s)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},$r.set(s,f),b||e$(y,s,f,C.state))),l&&g===null)throw Error(r(528,""));return C}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Zl(f),f=vl(y).hoistableScripts,g=f.get(l),g||(g={type:"script",instance:null,count:0,state:null},f.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Xl(s){return'href="'+Dr(s)+'"'}function rf(s){return'link[rel="stylesheet"]['+s+"]"}function TI(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function e$(s,l,f,g){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=s.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),xn(l,"link",f),an(l),s.head.appendChild(l))}function Zl(s){return'[src="'+Dr(s)+'"]'}function of(s){return"script[async]"+s}function EI(s,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var g=s.querySelector('style[data-href~="'+Dr(f.href)+'"]');if(g)return l.instance=g,an(g),g;var y=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),an(g),xn(g,"style",y),up(g,f.precedence,s),l.instance=g;case"stylesheet":y=Xl(f.href);var b=s.querySelector(rf(y));if(b)return l.state.loading|=4,l.instance=b,an(b),b;g=TI(f),(y=$r.get(y))&&L_(g,y),b=(s.ownerDocument||s).createElement("link"),an(b);var C=b;return C._p=new Promise(function(R,O){C.onload=R,C.onerror=O}),xn(b,"link",g),l.state.loading|=4,up(b,f.precedence,s),l.instance=b;case"script":return b=Zl(f.src),(y=s.querySelector(of(b)))?(l.instance=y,an(y),y):(g=f,(y=$r.get(b))&&(g=h({},f),U_(g,y)),s=s.ownerDocument||s,y=s.createElement("script"),an(y),xn(y,"link",g),s.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,up(g,f.precedence,s));return l.instance}function up(s,l,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=g.length?g[g.length-1]:null,b=y,C=0;C<g.length;C++){var R=g[C];if(R.dataset.precedence===l)b=R;else if(b!==y)break}b?b.parentNode.insertBefore(s,b.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(s,l.firstChild))}function L_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function U_(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var cp=null;function SI(s,l,f){if(cp===null){var g=new Map,y=cp=new Map;y.set(f,g)}else y=cp,g=y.get(f),g||(g=new Map,y.set(f,g));if(g.has(s))return g;for(g.set(s,null),f=f.getElementsByTagName(s),y=0;y<f.length;y++){var b=f[y];if(!(b[vc]||b[kn]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(l)||"";C=s+C;var R=g.get(C);R?R.push(b):g.set(C,[b])}}return g}function wI(s,l,f){s=s.ownerDocument||s,s.head.insertBefore(f,l==="title"?s.querySelector("head > title"):null)}function t$(s,l,f){if(f===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function CI(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var sf=null;function n$(){}function r$(s,l,f){if(sf===null)throw Error(r(475));var g=sf;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Xl(f.href),b=s.querySelector(rf(y));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(g.count++,g=fp.bind(g),s.then(g,g)),l.state.loading|=4,l.instance=b,an(b);return}b=s.ownerDocument||s,f=TI(f),(y=$r.get(y))&&L_(f,y),b=b.createElement("link"),an(b);var C=b;C._p=new Promise(function(R,O){C.onload=R,C.onerror=O}),xn(b,"link",f),l.instance=b}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=fp.bind(g),s.addEventListener("load",l),s.addEventListener("error",l))}}function i$(){if(sf===null)throw Error(r(475));var s=sf;return s.stylesheets&&s.count===0&&B_(s,s.stylesheets),0<s.count?function(l){var f=setTimeout(function(){if(s.stylesheets&&B_(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(f)}}:null}function fp(){if(this.count--,this.count===0){if(this.stylesheets)B_(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var dp=null;function B_(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,dp=new Map,l.forEach(o$,s),dp=null,fp.call(s))}function o$(s,l){if(!(l.state.loading&4)){var f=dp.get(s);if(f)var g=f.get(null);else{f=new Map,dp.set(s,f);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var C=y[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(f.set(C.dataset.precedence,C),g=C)}g&&f.set(null,g)}y=l.instance,C=y.getAttribute("data-precedence"),b=f.get(C)||g,b===g&&f.set(null,y),f.set(C,y),this.count++,g=fp.bind(this),y.addEventListener("load",g),y.addEventListener("error",g),b?b.parentNode.insertBefore(y,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),l.state.loading|=4}}var af={$$typeof:P,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function s$(s,l,f,g,y,b,C,R){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ov(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ov(0),this.hiddenUpdates=Ov(null),this.identifierPrefix=g,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function xI(s,l,f,g,y,b,C,R,O,q,j,ee){return s=new s$(s,l,f,C,R,O,q,ee),l=1,b===!0&&(l|=24),b=hr(3,null,null,l),s.current=b,b.stateNode=s,l=_y(),l.refCount++,s.pooledCache=l,l.refCount++,b.memoizedState={element:g,isDehydrated:f,cache:l},Sy(b),s}function AI(s){return s?(s=Rl,s):Rl}function II(s,l,f,g,y,b){y=AI(y),g.context===null?g.context=y:g.pendingContext=y,g=Wo(l),g.payload={element:f},b=b===void 0?null:b,b!==null&&(g.callback=b),f=Ko(s,g,l),f!==null&&(yr(f,s,l),Lc(f,s,l))}function RI(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<l?f:l}}function F_(s,l){RI(s,l),(s=s.alternate)&&RI(s,l)}function PI(s){if(s.tag===13){var l=Il(s,67108864);l!==null&&yr(l,s,67108864),F_(s,67108864)}}var hp=!0;function a$(s,l,f,g){var y=$.T;$.T=null;var b=te.p;try{te.p=2,V_(s,l,f,g)}finally{te.p=b,$.T=y}}function l$(s,l,f,g){var y=$.T;$.T=null;var b=te.p;try{te.p=8,V_(s,l,f,g)}finally{te.p=b,$.T=y}}function V_(s,l,f,g){if(hp){var y=q_(g);if(y===null)A_(s,l,g,pp,f),MI(s,g);else if(c$(y,s,l,f,g))g.stopPropagation();else if(MI(s,g),l&4&&-1<u$.indexOf(s)){for(;y!==null;){var b=gl(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=Yi(b.pendingLanes);if(C!==0){var R=b;for(R.pendingLanes|=2,R.entangledLanes|=2;C;){var O=1<<31-we(C);R.entanglements[1]|=O,C&=~O}Ii(b),(at&6)===0&&(Xh=jt()+500,Qc(0))}}break;case 13:R=Il(b,2),R!==null&&yr(R,b,2),Qh(),F_(b,2)}if(b=q_(g),b===null&&A_(s,l,g,pp,f),b===y)break;y=b}y!==null&&g.stopPropagation()}else A_(s,l,g,null,f)}}function q_(s){return s=jv(s),$_(s)}var pp=null;function $_(s){if(pp=null,s=ml(s),s!==null){var l=o(s);if(l===null)s=null;else{var f=l.tag;if(f===13){if(s=a(l),s!==null)return s;s=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return pp=s,null}function NI(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fl()){case lh:return 2;case uh:return 8;case dl:case Nv:return 32;case mc:return 268435456;default:return 32}default:return 32}}var z_=!1,as=null,ls=null,us=null,lf=new Map,uf=new Map,cs=[],u$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MI(s,l){switch(s){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":lf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":uf.delete(l.pointerId)}}function cf(s,l,f,g,y,b){return s===null||s.nativeEvent!==b?(s={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:b,targetContainers:[y]},l!==null&&(l=gl(l),l!==null&&PI(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),s)}function c$(s,l,f,g,y){switch(l){case"focusin":return as=cf(as,s,l,f,g,y),!0;case"dragenter":return ls=cf(ls,s,l,f,g,y),!0;case"mouseover":return us=cf(us,s,l,f,g,y),!0;case"pointerover":var b=y.pointerId;return lf.set(b,cf(lf.get(b)||null,s,l,f,g,y)),!0;case"gotpointercapture":return b=y.pointerId,uf.set(b,cf(uf.get(b)||null,s,l,f,g,y)),!0}return!1}function kI(s){var l=ml(s.target);if(l!==null){var f=o(l);if(f!==null){if(l=f.tag,l===13){if(l=a(f),l!==null){s.blockedOn=l,rq(s.priority,function(){if(f.tag===13){var g=vr();g=Dv(g);var y=Il(f,g);y!==null&&yr(y,f,g),F_(f,g)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mp(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var f=q_(s.nativeEvent);if(f===null){f=s.nativeEvent;var g=new f.constructor(f.type,f);Gv=g,f.target.dispatchEvent(g),Gv=null}else return l=gl(f),l!==null&&PI(l),s.blockedOn=f,!1;l.shift()}return!0}function OI(s,l,f){mp(s)&&f.delete(l)}function f$(){z_=!1,as!==null&&mp(as)&&(as=null),ls!==null&&mp(ls)&&(ls=null),us!==null&&mp(us)&&(us=null),lf.forEach(OI),uf.forEach(OI)}function gp(s,l){s.blockedOn===l&&(s.blockedOn=null,z_||(z_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,f$)))}var vp=null;function DI(s){vp!==s&&(vp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vp===s&&(vp=null);for(var l=0;l<s.length;l+=3){var f=s[l],g=s[l+1],y=s[l+2];if(typeof g!="function"){if($_(g||f)===null)continue;break}var b=gl(f);b!==null&&(s.splice(l,3),l-=3,$y(b,{pending:!0,data:y,method:f.method,action:g},g,y))}}))}function ff(s){function l(O){return gp(O,s)}as!==null&&gp(as,s),ls!==null&&gp(ls,s),us!==null&&gp(us,s),lf.forEach(l),uf.forEach(l);for(var f=0;f<cs.length;f++){var g=cs[f];g.blockedOn===s&&(g.blockedOn=null)}for(;0<cs.length&&(f=cs[0],f.blockedOn===null);)kI(f),f.blockedOn===null&&cs.shift();if(f=(s.ownerDocument||s).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var y=f[g],b=f[g+1],C=y[Xn]||null;if(typeof b=="function")C||DI(f);else if(C){var R=null;if(b&&b.hasAttribute("formAction")){if(y=b,C=b[Xn]||null)R=C.formAction;else if($_(y)!==null)continue}else R=C.action;typeof R=="function"?f[g+1]=R:(f.splice(g,3),g-=3),DI(f)}}}function H_(s){this._internalRoot=s}yp.prototype.render=H_.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,g=vr();II(f,g,s,l,null,null)},yp.prototype.unmount=H_.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;II(s.current,2,null,s,null,null),Qh(),l[pl]=null}};function yp(s){this._internalRoot=s}yp.prototype.unstable_scheduleHydration=function(s){if(s){var l=ZC();s={blockedOn:null,target:s,priority:l};for(var f=0;f<cs.length&&l!==0&&l<cs[f].priority;f++);cs.splice(f,0,s),f===0&&kI(s)}};var LI=e.version;if(LI!=="19.1.0")throw Error(r(527,LI,"19.1.0"));te.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=c(l),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var d$={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{Js=_p.inject(d$),ce=_p}catch{}}return hf.createRoot=function(s,l){if(!i(s))throw Error(r(299));var f=!1,g="",y=ZA,b=QA,C=e1,R=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(R=l.unstable_transitionCallbacks)),l=xI(s,1,!1,null,null,f,g,y,b,C,R,null),s[pl]=l.current,x_(s),new H_(l)},hf.hydrateRoot=function(s,l,f){if(!i(s))throw Error(r(299));var g=!1,y="",b=ZA,C=QA,R=e1,O=null,q=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(b=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(R=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(O=f.unstable_transitionCallbacks),f.formState!==void 0&&(q=f.formState)),l=xI(s,1,!0,l,f??null,g,y,b,C,R,O,q),l.context=AI(null),f=l.current,g=vr(),g=Dv(g),y=Wo(g),y.callback=null,Ko(f,y,g),f=g,l.current.lanes=f,gc(l,f),Ii(l),s[pl]=l.current,x_(s),new yp(l)},hf.version="19.1.0",hf}var jI;function w$(){if(jI)return K_.exports;jI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),K_.exports=S$(),K_.exports}var C$=w$();const x$=Ki(C$),A$=()=>{};var WI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe=function(t,e){if(!t)throw ju(e)},ju=function(t){return new Error("Firebase Database ("+KD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},I$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},jE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=o>>2,v=(o&3)<<4|u>>4;let _=(u&15)<<2|d>>6,T=d&63;c||(T=64,a||(_=64)),r.push(n[h],n[v],n[_],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):I$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||d==null||v==null)throw new R$;const _=o<<2|u>>4;if(r.push(_),d!==64){const T=u<<4&240|d>>2;if(r.push(T),v!==64){const E=d<<6&192|v;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JD=function(t){const e=YD(t);return jE.encodeByteArray(e,!0)},Yp=function(t){return JD(t).replace(/\./g,"")},ed=function(t){try{return jE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t){return td(void 0,t)}function td(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!N$(n)||(t[n]=td(t[n],e[n]));return t}function N$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=()=>XD().__FIREBASE_DEFAULTS__,k$=()=>{if(typeof process>"u"||typeof WI>"u")return;const t=WI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ed(t[1]);return e&&JSON.parse(e)},WE=()=>{try{return A$()||M$()||k$()||O$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZD=()=>{var t;return(t=WE())===null||t===void 0?void 0:t.config},D$=t=>{var e;return(e=WE())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yp(JSON.stringify(n)),Yp(JSON.stringify(a)),""].join(".")}const Bf={};function L$(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bf))Bf[e]?t.emulator.push(e):t.prod.push(e);return t}function U$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let KI=!1;function YE(t,e){if(typeof window>"u"||typeof document>"u"||!Fs(window.location.host)||Bf[t]===e||Bf[t]||KI)return;Bf[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=L$().prod.length>0;function a(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{KI=!0,a()},_}function h(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=U$(r),T=n("text"),E=document.getElementById(T)||document.createElement("span"),S=n("learnmore"),w=document.getElementById(S)||document.createElement("a"),x=n("preprendIcon"),N=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const P=_.element;u(P),h(w,S);const k=d();c(N,x),P.append(N,E,w,k),document.body.appendChild(P)}o?(E.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function eL(){var t;const e=(t=WE())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B$(){return typeof window<"u"||tL()}function tL(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function F$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rL(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function V$(){return KD.NODE_ADMIN===!0}function Jp(){try{return typeof indexedDB=="object"}catch{return!1}}function q$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$="FirebaseError";class Kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$$,Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qa.prototype.create)}}class Qa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?z$(o,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new Kn(i,u,r)}}function z$(t,e){return t.replace(H$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const H$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){return JSON.parse(t)}function nn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=nd(ed(o[0])||""),n=nd(ed(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},G$=function(t){const e=iL(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},j$=function(t){const e=iL(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ua(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Xp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Eu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(YI(o)&&YI(a)){if(!Eu(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function YI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Mf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)r[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){const _=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(_<<1|_>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],a=this.chain_[2],u=this.chain_[3],c=this.chain_[4],d,h;for(let v=0;v<80;v++){v<40?v<20?(d=u^o&(a^u),h=1518500249):(d=o^a^u,h=1859775393):v<60?(d=o&a|u&(o|a),h=2400959708):(d=o^a^u,h=3395469782);const _=(i<<5|i>>>27)+d+c+h+r[v]&4294967295;c=u,u=a,a=(o<<30|o>>>2)&4294967295,o=i,i=_}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let a=this.inbuf_;for(;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=e[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function oL(t,e){const n=new K$(t,e);return n.subscribe.bind(n)}class K${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Z_),i.error===void 0&&(i.error=Z_),i.complete===void 0&&(i.complete=Z_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Z_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Me=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const o=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function ar(t,e){return`${t} failed: ${e} argument `}function hn(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(ar(t,e)+"must be a valid function.")}function JI(t,e,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(ar(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,oe(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;i=65536+(o<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t){return t&&t._delegate?t._delegate:t}class lr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tT=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ir;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z$(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function X$(t){return t===ma?void 0:t}function Z$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=[];var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const sL={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},Q$=ut.INFO,ez={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},tz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ez[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nd{constructor(e){this.name=e,this._logLevel=Q$,this._logHandler=tz,this._userLogHandler=null,ZE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}function nz(t){ZE.forEach(e=>{e.setLogLevel(t)})}function rz(t,e){for(const n of ZE){let r=null;e&&e.level&&(r=sL[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...a)=>{const u=a.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");o>=(r??i.logLevel)&&t({level:ut[o].toLowerCase(),message:u,args:a,type:i.name})}}}const iz=(t,e)=>e.some(n=>t instanceof n);let XI,ZI;function oz(){return XI||(XI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sz(){return ZI||(ZI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aL=new WeakMap,nT=new WeakMap,lL=new WeakMap,Q_=new WeakMap,QE=new WeakMap;function az(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ts(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&aL.set(n,t)}).catch(()=>{}),QE.set(e,t),e}function lz(t){if(nT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});nT.set(t,e)}let rT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uz(t){rT=t(rT)}function cz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(e0(this),e,...n);return lL.set(r,e.sort?e.sort():[e]),Ts(r)}:sz().includes(t)?function(...e){return t.apply(e0(this),e),Ts(aL.get(this))}:function(...e){return Ts(t.apply(e0(this),e))}}function fz(t){return typeof t=="function"?cz(t):(t instanceof IDBTransaction&&lz(t),iz(t,oz())?new Proxy(t,rT):t)}function Ts(t){if(t instanceof IDBRequest)return az(t);if(Q_.has(t))return Q_.get(t);const e=fz(t);return e!==t&&(Q_.set(t,e),QE.set(e,t)),e}const e0=t=>QE.get(t);function dz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),u=Ts(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ts(a.result),c.oldVersion,c.newVersion,Ts(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const hz=["get","getKey","getAll","getAllKeys","count"],pz=["put","add","delete","clear"],t0=new Map;function QI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(t0.get(e))return t0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hz.includes(n)))return;const o=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&c.done]))[0]};return t0.set(e,o),o}uz(t=>({...t,get:(e,n,r)=>QI(e,n)||t.get(e,n,r),has:(e,n)=>!!QI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qp="@firebase/app",iT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new Nd("@firebase/app"),vz="@firebase/app-compat",yz="@firebase/analytics-compat",_z="@firebase/analytics",bz="@firebase/app-check-compat",Tz="@firebase/app-check",Ez="@firebase/auth",Sz="@firebase/auth-compat",wz="@firebase/database",Cz="@firebase/data-connect",xz="@firebase/database-compat",Az="@firebase/functions",Iz="@firebase/functions-compat",Rz="@firebase/installations",Pz="@firebase/installations-compat",Nz="@firebase/messaging",Mz="@firebase/messaging-compat",kz="@firebase/performance",Oz="@firebase/performance-compat",Dz="@firebase/remote-config",Lz="@firebase/remote-config-compat",Uz="@firebase/storage",Bz="@firebase/storage-compat",Fz="@firebase/firestore",Vz="@firebase/ai",qz="@firebase/firestore-compat",$z="firebase",zz="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]",Hz={[Qp]:"fire-core",[vz]:"fire-core-compat",[_z]:"fire-analytics",[yz]:"fire-analytics-compat",[Tz]:"fire-app-check",[bz]:"fire-app-check-compat",[Ez]:"fire-auth",[Sz]:"fire-auth-compat",[wz]:"fire-rtdb",[Cz]:"fire-data-connect",[xz]:"fire-rtdb-compat",[Az]:"fire-fn",[Iz]:"fire-fn-compat",[Rz]:"fire-iid",[Pz]:"fire-iid-compat",[Nz]:"fire-fcm",[Mz]:"fire-fcm-compat",[kz]:"fire-perf",[Oz]:"fire-perf-compat",[Dz]:"fire-rc",[Lz]:"fire-rc-compat",[Uz]:"fire-gcs",[Bz]:"fire-gcs-compat",[Fz]:"fire-fst",[qz]:"fire-fst-compat",[Vz]:"fire-vertex","fire-js":"fire-js",[$z]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Map,Su=new Map,wu=new Map;function rd(t,e){try{t.container.addComponent(e)}catch(n){wo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uL(t,e){t.container.addOrOverwriteComponent(e)}function Co(t){const e=t.name;if(wu.has(e))return wo.debug(`There were multiple attempts to register component ${e}.`),!1;wu.set(e,t);for(const n of Ps.values())rd(n,t);for(const n of Su.values())rd(n,t);return!0}function cL(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gz(t,e,n=Rs){cL(t,e).clearInstance(n)}function fL(t){return t.options!==void 0}function xt(t){return t==null?!1:t.settings!==void 0}function jz(){wu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new Qa("app","Firebase",Wz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dL=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t,e){const n=ed(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class Kz extends dL{constructor(e,n,r,i){const o=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,a={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,a,i);else{const u=e;super(u.options,a,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},n),this._serverConfig.authIdToken&&eR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&eR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,xr(Qp,iT,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){tS(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ei.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=zz;function eS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rs,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});if(n||(n=ZD()),!n)throw ei.create("no-options");const o=Ps.get(i);if(o){if(Eu(n,o.options)&&Eu(r,o.config))return o;throw ei.create("duplicate-app",{appName:i})}const a=new XE(i);for(const c of wu.values())a.addComponent(c);const u=new dL(n,r,a);return Ps.set(i,u),u}function Yz(t,e){if(B$()&&!tL())throw ei.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!0);let n;fL(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=d=>[...d].reduce((h,v)=>Math.imul(31,h)+v.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ei.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),a=Su.get(o);if(a)return a.incRefCount(e.releaseOnDeref),a;const u=new XE(o);for(const d of wu.values())u.addComponent(d);const c=new Kz(n,e,o,u);return Su.set(o,c),c}function Jz(t=Rs){const e=Ps.get(t);if(!e&&t===Rs&&ZD())return eS();if(!e)throw ei.create("no-app",{appName:t});return e}function Xz(){return Array.from(Ps.values())}async function tS(t){let e=!1;const n=t.name;Ps.has(n)?(e=!0,Ps.delete(n)):Su.has(n)&&t.decRefCount()<=0&&(Su.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function xr(t,e,n){var r;let i=(r=Hz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wo.warn(u.join(" "));return}Co(new lr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function hL(t,e){if(t!==null&&typeof t!="function")throw ei.create("invalid-log-argument");rz(t,e)}function pL(t){nz(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz="firebase-heartbeat-database",Qz=1,id="firebase-heartbeat-store";let n0=null;function mL(){return n0||(n0=dz(Zz,Qz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(id)}catch(n){console.warn(n)}}}}).catch(t=>{throw ei.create("idb-open",{originalErrorMessage:t.message})})),n0}async function e5(t){try{const n=(await mL()).transaction(id),r=await n.objectStore(id).get(gL(t));return await n.done,r}catch(e){if(e instanceof Kn)wo.warn(e.message);else{const n=ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wo.warn(n.message)}}}async function tR(t,e){try{const r=(await mL()).transaction(id,"readwrite");await r.objectStore(id).put(e,gL(t)),await r.done}catch(n){if(n instanceof Kn)wo.warn(n.message);else{const r=ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wo.warn(r.message)}}}function gL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=1024,n5=30;class r5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>n5){const a=s5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nR(),{heartbeatsToSend:r,unsentEntries:i}=i5(this._heartbeatsCache.heartbeats),o=Yp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return wo.warn(n),""}}}function nR(){return new Date().toISOString().substring(0,10)}function i5(t,e=t5){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),rR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class o5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jp()?q$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rR(t){return Yp(JSON.stringify({version:2,heartbeats:t})).length}function s5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){Co(new lr("platform-logger",e=>new mz(e),"PRIVATE")),Co(new lr("heartbeat",e=>new r5(e),"PRIVATE")),xr(Qp,iT,t),xr(Qp,iT,"esm2017"),xr("fire-js","")}a5("");const l5=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Kn,SDK_VERSION:ko,_DEFAULT_ENTRY_NAME:Rs,_addComponent:rd,_addOrOverwriteComponent:uL,_apps:Ps,_clearComponents:jz,_components:wu,_getProvider:cL,_isFirebaseApp:fL,_isFirebaseServerApp:xt,_registerComponent:Co,_removeServiceInstance:Gz,_serverApps:Su,deleteApp:tS,getApp:Jz,getApps:Xz,initializeApp:eS,initializeServerApp:Yz,onLog:hL,registerVersion:xr,setLogLevel:pL},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n){this._delegate=e,this.firebase=n,rd(e,new lr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),tS(this._delegate)))}_getService(e,n=Rs){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Rs){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){rd(this._delegate,e)}_addOrOverwriteComponent(e){uL(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},iR=new Qa("app-compat","Firebase",c5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:xr,setLogLevel:pL,onLog:hL,apps:null,SDK_VERSION:ko,INTERNAL:{registerComponent:u,removeApp:r,useAsService:c,modularAPIs:l5}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(d){delete e[d]}function i(d){if(d=d||Rs,!Rr(e,d))throw iR.create("no-app",{appName:d});return e[d]}i.App=t;function o(d,h={}){const v=eS(d,h);if(Rr(e,v.name))return e[v.name];const _=new t(v,n);return e[v.name]=_,_}function a(){return Object.keys(e).map(d=>e[d])}function u(d){const h=d.name,v=h.replace("-compat","");if(Co(d)&&d.type==="PUBLIC"){const _=(T=i())=>{if(typeof T[v]!="function")throw iR.create("invalid-app-argument",{appName:h});return T[v]()};d.serviceProps!==void 0&&td(_,d.serviceProps),n[v]=_,t.prototype[v]=function(...T){return this._getService.bind(this,h).apply(this,d.multipleInstances?T:[])}}return d.type==="PUBLIC"?n[v]:null}function c(d,h){return h==="serverAuth"?null:h}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(){const t=f5(u5);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:vL,extendNamespace:e,createSubscribe:oL,ErrorFactory:Qa,deepExtend:td});function e(n){td(t,n)}return t}const d5=vL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new Nd("@firebase/app-compat"),h5="@firebase/app-compat",p5="0.4.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t){xr(h5,p5,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=XD();if(t.firebase!==void 0){oR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&oR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Wu=d5;m5();var g5="firebase",v5="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wu.registerVersion(g5,v5,"app-compat");function nS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const pf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Ql={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function yL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _5=y5,b5=yL,_L=new Qa("auth","Firebase",yL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Nd("@firebase/auth");function T5(t,...e){em.logLevel<=ut.WARN&&em.warn(`Auth (${ko}): ${t}`,...e)}function qp(t,...e){em.logLevel<=ut.ERROR&&em.error(`Auth (${ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw iS(t,...e)}function rn(t,...e){return iS(t,...e)}function rS(t,e,n){const r=Object.assign(Object.assign({},b5()),{[e]:n});return new Qa("auth","Firebase",r).create(e,{appName:t.name})}function gn(t){return rS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ku(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Nn(t,"argument-error"),rS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _L.create(t,...e)}function ne(t,e,...n){if(!t)throw iS(e,...n)}function Oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qp(e),new Error(e)}function bi(t,e){t||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oS(){return sR()==="http:"||sR()==="https:"}function sR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oS()||nL()||"connection"in navigator)?navigator.onLine:!0}function S5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.shortDelay=e,this.longDelay=n,bi(n>e,"Short delay should be less than long delay!"),this.isMobile=JE()||fg()}get(){return E5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t,e){bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x5=new Md(3e4,6e4);function Vt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qt(t,e,n,r,i={}){return TL(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const u=el(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},o);return F$()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Fs(t.emulatorConfig.host)&&(d.credentials="include"),bL.fetch()(await EL(t,t.config.apiHost,n,u),d)})}async function TL(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},w5),e);try{const i=new I5(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw kf(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kf(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw kf(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw kf(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw rS(t,h,d);Nn(t,h)}}catch(i){if(i instanceof Kn)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function Oo(t,e,n,r,i={}){const o=await qt(t,e,n,r,i);return"mfaPendingCredential"in o&&Nn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function EL(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?sS(t.config,i):`${t.config.apiScheme}://${i}`;return C5.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function A5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class I5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rn(this.auth,"network-request-failed")),x5.get())})}}function kf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=rn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){return t!==void 0&&t.getResponse!==void 0}function lR(t){return t!==void 0&&t.enterprise!==void 0}class SL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return A5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t){return(await qt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function wL(t,e){return qt(t,"GET","/v2/recaptchaConfig",Vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P5(t,e){return qt(t,"POST","/v1/accounts:delete",e)}async function N5(t,e){return qt(t,"POST","/v1/accounts:update",e)}async function tm(t,e){return qt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M5(t,e=!1){const n=xe(t),r=await n.getIdToken(e),i=hg(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ff(r0(i.auth_time)),issuedAtTime:Ff(r0(i.iat)),expirationTime:Ff(r0(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function r0(t){return Number(t)*1e3}function hg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qp("JWT malformed, contained fewer than 3 sections"),null;try{const i=ed(n);return i?JSON.parse(i):(qp("Failed to decode base64 JWT payload"),null)}catch(i){return qp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function uR(t){const e=hg(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kn&&k5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function k5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ff(this.lastLoginAt),this.creationTime=Ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xo(t,tm(n,{idToken:r}));ne(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CL(o.providerUserInfo):[],u=L5(t.providerData,a),c=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),h=c?d:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new oT(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,v)}async function D5(t){const e=xe(t);await sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function L5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CL(t){return t.map(e=>{var{providerId:n}=e,r=nS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t,e){const n=await TL(t,{},async()=>{const r=el({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await EL(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Fs(t.emulatorConfig.host)&&(c.credentials="include"),bL.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B5(t,e){return qt(t,"POST","/v2/accounts:revokeToken",Vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=uR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await U5(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new fu;return r&&(ne(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ne(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fu,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=nS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new O5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new oT(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xo(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M5(this,e)}reload(){return D5(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xt(this.auth.app))return Promise.reject(gn(this.auth));const e=await this.getIdToken();return await xo(this,P5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,u,c,d,h;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,E=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(u=n.tenantId)!==null&&u!==void 0?u:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(d=n.createdAt)!==null&&d!==void 0?d:void 0,N=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:P,emailVerified:k,isAnonymous:M,providerData:L,stsTokenManager:F}=n;ne(P&&F,e,"internal-error");const X=fu.fromJSON(this.name,F);ne(typeof P=="string",e,"internal-error"),ds(v,e.name),ds(_,e.name),ne(typeof k=="boolean",e,"internal-error"),ne(typeof M=="boolean",e,"internal-error"),ds(T,e.name),ds(E,e.name),ds(S,e.name),ds(w,e.name),ds(x,e.name),ds(N,e.name);const G=new vi({uid:P,auth:e,email:_,emailVerified:k,displayName:v,isAnonymous:M,photoURL:E,phoneNumber:T,tenantId:S,stsTokenManager:X,createdAt:x,lastLoginAt:N});return L&&Array.isArray(L)&&(G.providerData=L.map(ae=>Object.assign({},ae))),w&&(G._redirectEventId=w),G}static async _fromIdTokenResponse(e,n,r=!1){const i=new fu;i.updateFromServerResponse(n);const o=new vi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sd(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?CL(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new fu;u.updateFromIdToken(r);const c=new vi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new oT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new Map;function Cr(t){bi(t instanceof Function,"Expected a class definition");let e=cR.get(t);return e?(bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xL.type="NONE";const Cu=xL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e,n){return`firebase:${t}:${e}:${n}`}class du{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ia(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ia("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tm(this.auth,{idToken:e}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new du(Cr(Cu),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Cr(Cu);const a=Ia(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const h=await d._get(a);if(h){let v;if(typeof h=="string"){const _=await tm(e,{idToken:h}).catch(()=>{});if(!_)break;v=await vi._fromGetAccountInfoResponse(e,_,h)}else v=vi._fromJSON(e,h);d!==o&&(u=v),o=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new du(o,e,r):(o=c[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new du(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NL(e))return"Blackberry";if(ML(e))return"Webos";if(IL(e))return"Safari";if((e.includes("chrome/")||RL(e))&&!e.includes("edge/"))return"Chrome";if(kd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AL(t=on()){return/firefox\//i.test(t)}function IL(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RL(t=on()){return/crios\//i.test(t)}function PL(t=on()){return/iemobile/i.test(t)}function kd(t=on()){return/android/i.test(t)}function NL(t=on()){return/blackberry/i.test(t)}function ML(t=on()){return/webos/i.test(t)}function Od(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function F5(t=on()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function V5(t=on()){var e;return Od(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q5(){return rL()&&document.documentMode===10}function kL(t=on()){return Od(t)||kd(t)||ML(t)||NL(t)||/windows phone/i.test(t)||PL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e=[]){let n;switch(t){case"Browser":n=fR(on());break;case"Worker":n=`${fR(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,u)=>{try{const c=e(o);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(t,e={}){return qt(t,"GET","/v2/passwordPolicy",Vt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=6;class G5{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:H5,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dR(this),this.idTokenSubscription=new dR(this),this.beforeStateQueue=new $5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_L,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await du.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tm(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===u)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xt(this.app))return Promise.reject(gn(this));const n=e?xe(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xt(this.app)?Promise.reject(gn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xt(this.app)?Promise.reject(gn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z5(this),n=new G5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await B5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await du.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&T5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ot(t){return xe(t)}class dR{constructor(e){this.auth=e,this.observer=null,this.addObserver=oL(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W5(t){Dd=t}function aS(t){return Dd.loadJS(t)}function K5(){return Dd.recaptchaV2Script}function Y5(){return Dd.recaptchaEnterpriseScript}function J5(){return Dd.gapiScript}function DL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=500,Z5=6e4,bp=1e12;class Q5{constructor(e){this.auth=e,this.counter=bp,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new nH(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||bp;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||bp;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||bp;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class eH{constructor(){this.enterprise=new tH}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tH{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nH{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ne(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=rH(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Z5)},X5))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function rH(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const iH="recaptcha-enterprise",Vf="NO_RECAPTCHA";class LL{constructor(e){this.type=iH,this.auth=Ot(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{wL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new SL(c);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(c=>{u(c)})})}function i(o,a,u){const c=window.grecaptcha;lR(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(d=>{a(d)}).catch(()=>{a(Vf)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eH().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(u=>{if(!n&&lR(window.grecaptcha))i(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Y5();c.length!==0&&(c+=u),aS(c).then(()=>{i(u,o,a)}).catch(d=>{a(d)})}}).catch(u=>{a(u)})})}}async function mf(t,e,n,r=!1,i=!1){const o=new LL(t);let a;if(i)a=Vf;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Es(t,e,n,r,i){var o,a;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await mf(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await mf(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){const u=await mf(t,e,n);return r(t,u).catch(async c=>{var d;if(((d=t._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await mf(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)})}else{const u=await mf(t,e,n,!1,!0);return r(t,u)}else return Promise.reject(i+" provider is not supported.")}async function oH(t){const e=Ot(t),n=await wL(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new SL(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new LL(e).verify()}function sH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aH(t,e,n){const r=Ot(t);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=UL(e),{host:a,port:u}=lH(e),c=u===null?"":`:${u}`,d={url:`${o}//${a}${c}/`},h=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(Eu(d,r.config.emulator)&&Eu(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Fs(a)?(KE(`${o}//${a}${c}`),YE("Auth",!0)):i||uH()}function UL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lH(t){const e=UL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:hR(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:hR(a)}}}function hR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,n){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e){return qt(t,"POST","/v1/accounts:resetPassword",Vt(t,e))}async function cH(t,e){return qt(t,"POST","/v1/accounts:update",e)}async function fH(t,e){return qt(t,"POST","/v1/accounts:signUp",e)}async function dH(t,e){return qt(t,"POST","/v1/accounts:update",Vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hH(t,e){return Oo(t,"POST","/v1/accounts:signInWithPassword",Vt(t,e))}async function pg(t,e){return qt(t,"POST","/v1/accounts:sendOobCode",Vt(t,e))}async function pH(t,e){return pg(t,e)}async function mH(t,e){return pg(t,e)}async function gH(t,e){return pg(t,e)}async function vH(t,e){return pg(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yH(t,e){return Oo(t,"POST","/v1/accounts:signInWithEmailLink",Vt(t,e))}async function _H(t,e){return Oo(t,"POST","/v1/accounts:signInWithEmailLink",Vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends Yu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ad(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ad(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Es(e,n,"signInWithPassword",hH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return yH(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Es(e,r,"signUpPassword",fH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return _H(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(t,e){return Oo(t,"POST","/v1/accounts:signInWithIdp",Vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH="http://localhost";class $i extends Yu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=nS(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new $i(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:bH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=el(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,e){return qt(t,"POST","/v1/accounts:sendVerificationCode",Vt(t,e))}async function TH(t,e){return Oo(t,"POST","/v1/accounts:signInWithPhoneNumber",Vt(t,e))}async function EH(t,e){const n=await Oo(t,"POST","/v1/accounts:signInWithPhoneNumber",Vt(t,e));if(n.temporaryProof)throw kf(t,"account-exists-with-different-credential",n);return n}const SH={USER_NOT_FOUND:"user-not-found"};async function wH(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Oo(t,"POST","/v1/accounts:signInWithPhoneNumber",Vt(t,n),SH)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Yu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ra({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ra({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return TH(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return EH(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return wH(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!n&&!i&&!o?null:new Ra({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xH(t){const e=au(Mf(t)).link,n=e?au(Mf(e)).deep_link_id:null,r=au(Mf(t)).deep_link_id;return(r?au(Mf(r)).link:null)||r||n||e||t}class mg{constructor(e){var n,r,i,o,a,u;const c=au(Mf(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,v=CH((i=c.mode)!==null&&i!==void 0?i:null);ne(d&&h&&v,"argument-error"),this.apiKey=d,this.operation=v,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=xH(e);try{return new mg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.providerId=Vs.PROVIDER_ID}static credential(e,n){return ad._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mg.parseLink(n);return ne(r,"argument-error"),ad._fromEmailAndCode(e,r.code,r.tenantId)}}Vs.PROVIDER_ID="password";Vs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Do{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hu extends Ju{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ne("providerId"in n&&"signInMethod"in n,"argument-error"),$i._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ne(e.idToken||e.accessToken,"argument-error"),$i._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return hu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return hu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:a,providerId:u}=e;if(!r&&!i&&!n&&!o||!u)return null;try{return new hu(u)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Ju{constructor(){super("facebook.com")}static credential(e){return $i._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $i._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pi.credential(n,r)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Ju{constructor(){super("github.com")}static credential(e){return $i._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH="http://localhost";class xu extends Yu{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=n;return!r||!i||!o||r!==i?null:new xu(r,o)}static _create(e,n){return new xu(e,n)}buildRequest(){return{requestUri:AH,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH="saml.";class nm extends Do{constructor(e){ne(e.startsWith(IH),"argument-error"),super(e)}static credentialFromResult(e){return nm.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return nm.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=xu.fromJSON(e);return ne(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return xu._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Ju{constructor(){super("twitter.com")}static credential(e,n){return $i._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(t,e){return Oo(t,"POST","/v1/accounts:signUp",Vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await vi._fromIdTokenResponse(e,r,i),a=mR(r);return new ni({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mR(r);return new ni({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RH(t){var e;if(xt(t.app))return Promise.reject(gn(t));const n=Ot(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ni({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await FL(n,{returnSecureToken:!0}),i=await ni._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends Kn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rm(e,n,r,i)}}function VL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?rm._fromErrorAndOperation(t,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PH(t,e){const n=xe(t);await gg(!0,n,e);const{providerUserInfo:r}=await N5(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=qL(r||[]);return n.providerData=n.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function lS(t,e,n=!1){const r=await xo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ni._forOperation(t,"link",r)}async function gg(t,e,n){await sd(e);const r=qL(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";ne(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(t,e,n=!1){const{auth:r}=t;if(xt(r.app))return Promise.reject(gn(r));const i="reauthenticate";try{const o=await xo(t,VL(r,i,e,t),n);ne(o.idToken,r,"internal-error");const a=hg(o.idToken);ne(a,r,"internal-error");const{sub:u}=a;return ne(t.uid===u,r,"user-mismatch"),ni._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t,e,n=!1){if(xt(t.app))return Promise.reject(gn(t));const r="signIn",i=await VL(t,r,e),o=await ni._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function vg(t,e){return zL(Ot(t),e)}async function HL(t,e){const n=xe(t);return await gg(!1,n,e.providerId),lS(n,e)}async function GL(t,e){return $L(xe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NH(t,e){return Oo(t,"POST","/v1/accounts:signInWithCustomToken",Vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MH(t,e){if(xt(t.app))return Promise.reject(gn(t));const n=Ot(t),r=await NH(n,{token:e,returnSecureToken:!0}),i=await ni._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?uS._fromServerResponse(e,n):"totpInfo"in n?cS._fromServerResponse(e,n):Nn(e,"internal-error")}}class uS extends Ld{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new uS(n)}}class cS extends Ld{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new cS(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t,e,n){var r;ne(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ne(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ne(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ne(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ne(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(t){const e=Ot(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kH(t,e,n){const r=Ot(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&yg(r,i,n),await Es(r,i,"getOobCode",mH,"EMAIL_PASSWORD_PROVIDER")}async function OH(t,e,n){await BL(xe(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fS(t),r})}async function DH(t,e){await dH(xe(t),{oobCode:e})}async function jL(t,e){const n=xe(t),r=await BL(n,{oobCode:e}),i=r.requestType;switch(ne(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(r.mfaInfo,n,"internal-error");default:ne(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ld._fromServerResponse(Ot(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function LH(t,e){const{data:n}=await jL(xe(t),e);return n.email}async function UH(t,e,n){if(xt(t.app))return Promise.reject(gn(t));const r=Ot(t),a=await Es(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FL,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&fS(t),c}),u=await ni._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function BH(t,e,n){return xt(t.app)?Promise.reject(gn(t)):vg(xe(t),Vs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FH(t,e,n){const r=Ot(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,u){ne(u.handleCodeInApp,r,"argument-error"),u&&yg(r,a,u)}o(i,n),await Es(r,i,"getOobCode",gH,"EMAIL_PASSWORD_PROVIDER")}function VH(t,e){const n=mg.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function qH(t,e,n){if(xt(t.app))return Promise.reject(gn(t));const r=xe(t),i=Vs.credentialWithLink(e,n||od());return ne(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),vg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $H(t,e){return qt(t,"POST","/v1/accounts:createAuthUri",Vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zH(t,e){const n=oS()?od():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await $H(xe(t),r);return i||[]}async function HH(t,e){const n=xe(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&yg(n.auth,i,e);const{email:o}=await pH(n.auth,i);o!==t.email&&await t.reload()}async function GH(t,e,n){const r=xe(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&yg(r.auth,o,n);const{email:a}=await vH(r.auth,o);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jH(t,e){return qt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=xe(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await xo(r,jH(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function KH(t,e){const n=xe(t);return xt(n.auth.app)?Promise.reject(gn(n.auth)):WL(n,e,null)}function YH(t,e){return WL(xe(t),null,e)}async function WL(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const a=await xo(t,cH(r,o));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JH(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const a=(n=(e=hg(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){const u=a!=="anonymous"&&a!=="custom"?a:null;return new pu(o,u)}}if(!r)return null;switch(r){case"facebook.com":return new XH(o,i);case"github.com":return new ZH(o,i);case"google.com":return new QH(o,i);case"twitter.com":return new eG(o,i,t.screenName||null);case"custom":case"anonymous":return new pu(o,null);default:return new pu(o,r,i)}}class pu{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class KL extends pu{constructor(e,n,r,i){super(e,n,r),this.username=i}}class XH extends pu{constructor(e,n){super(e,"facebook.com",n)}}class ZH extends KL{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class QH extends pu{constructor(e,n){super(e,"google.com",n)}}class eG extends KL{constructor(e,n,r){super(e,"twitter.com",n,r)}}function tG(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:JH(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new ba("enroll",e,n)}static _fromMfaPendingCredential(e){return new ba("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return ba._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return ba._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ot(e),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map(u=>Ld._fromServerResponse(r,u));ne(i.mfaPendingCredential,r,"internal-error");const a=ba._fromMfaPendingCredential(i.mfaPendingCredential);return new dS(a,o,async u=>{const c=await u._process(r,a);delete i.mfaInfo,delete i.mfaPendingCredential;const d=Object.assign(Object.assign({},i),{idToken:c.idToken,refreshToken:c.refreshToken});switch(n.operationType){case"signIn":const h=await ni._fromIdTokenResponse(r,n.operationType,d);return await r._updateCurrentUser(h.user),h;case"reauthenticate":return ne(n.user,r,"internal-error"),ni._forOperation(n.user,n.operationType,d);default:Nn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function nG(t,e){var n;const r=xe(t),i=e;return ne(e.customData.operationType,r,"argument-error"),ne((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),dS._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e){return qt(t,"POST","/v2/accounts/mfaEnrollment:start",Vt(t,e))}function rG(t,e){return qt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(t,e))}function iG(t,e){return qt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(t,e))}class hS{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Ld._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new hS(e)}async getSession(){return ba._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),o=await xo(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await xo(this.user,iG(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const i0=new WeakMap;function oG(t){const e=xe(t);return i0.has(e)||i0.set(e,hS._fromUser(e)),i0.get(e)}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=1e3,aG=10;class JL extends YL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);q5()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,aG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JL.type="LOCAL";const pS=JL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL extends YL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XL.type="SESSION";const Ba=XL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _g(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async d=>d(n.origin,o)),c=await lG(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_g.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const d=Ud("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(v){const _=v;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return window}function cG(t){Xt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(){return typeof Xt().WorkerGlobalScope<"u"&&typeof Xt().importScripts=="function"}async function fG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hG(){return mS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="firebaseLocalStorageDb",pG=1,om="firebaseLocalStorage",QL="fbase_key";class Bd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bg(t,e){return t.transaction([om],e?"readwrite":"readonly").objectStore(om)}function mG(){const t=indexedDB.deleteDatabase(ZL);return new Bd(t).toPromise()}function sT(){const t=indexedDB.open(ZL,pG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(om,{keyPath:QL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(om)?e(r):(r.close(),await mG(),e(await sT()))})})}async function vR(t,e,n){const r=bg(t,!0).put({[QL]:e,value:n});return new Bd(r).toPromise()}async function gG(t,e){const n=bg(t,!1).get(e),r=await new Bd(n).toPromise();return r===void 0?null:r.value}function yR(t,e){const n=bg(t,!0).delete(e);return new Bd(n).toPromise()}const vG=800,yG=3;class e2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_g._getInstance(hG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fG(),!this.activeServiceWorker)return;this.sender=new uG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sT();return await vR(e,im,"1"),await yR(e,im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=bg(i,!1).getAll();return new Bd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e2.type="LOCAL";const ld=e2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t,e){return qt(t,"POST","/v2/accounts/mfaSignIn:start",Vt(t,e))}function _G(t,e){return qt(t,"POST","/v2/accounts/mfaSignIn:finalize",Vt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=DL("rcb"),bG=new Md(3e4,6e4);class TG{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Xt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return ne(EG(n),e,"argument-error"),this.shouldResolveImmediately(n)&&aR(Xt().grecaptcha)?Promise.resolve(Xt().grecaptcha):new Promise((r,i)=>{const o=Xt().setTimeout(()=>{i(rn(e,"network-request-failed"))},bG.get());Xt()[o0]=()=>{Xt().clearTimeout(o),delete Xt()[o0];const u=Xt().grecaptcha;if(!u||!aR(u)){i(rn(e,"internal-error"));return}const c=u.render;u.render=(d,h)=>{const v=c(d,h);return this.counter++,v},this.hostLanguage=n,r(u)};const a=`${K5()}?${el({onload:o0,render:"explicit",hl:n})}`;aS(a).catch(()=>{clearTimeout(o),i(rn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Xt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function EG(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class SG{async load(e){return new Q5(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="recaptcha",wG={theme:"light",type:"image"};let CG=class{constructor(e,n,r=Object.assign({},wG)){this.parameters=r,this.type=qf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ot(e),this.isInvisible=this.parameters.size==="invisible",ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;ne(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new SG:new TG,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const o=a=>{a&&(this.tokenChangeListeners.delete(o),i(a))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Xt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ne(oS()&&!mS(),this.auth,"internal-error"),await xG(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await R5(this.auth);ne(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function xG(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ra._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function AG(t,e,n){if(xt(t.app))return Promise.reject(gn(t));const r=Ot(t),i=await Tg(r,e,xe(n));return new gS(i,o=>vg(r,o))}async function IG(t,e,n){const r=xe(t);await gg(!1,r,"phone");const i=await Tg(r.auth,e,xe(n));return new gS(i,o=>HL(r,o))}async function RG(t,e,n){const r=xe(t);if(xt(r.auth.app))return Promise.reject(gn(r.auth));const i=await Tg(r.auth,e,xe(n));return new gS(i,o=>GL(r,o))}async function Tg(t,e,n){var r;if(!t._getRecaptchaConfig())try{await oH(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){ne(o.type==="enroll",t,"internal-error");const a={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Es(t,a,"mfaSmsEnrollment",async(h,v)=>{if(v.phoneEnrollmentInfo.captchaResponse===Vf){ne((n==null?void 0:n.type)===qf,h,"argument-error");const _=await s0(h,v,n);return gR(h,_)}return gR(h,v)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{ne(o.type==="signin",t,"internal-error");const a=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;ne(a,t,"missing-multi-factor-info");const u={mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Es(t,u,"mfaSmsSignIn",async(v,_)=>{if(_.phoneSignInInfo.captchaResponse===Vf){ne((n==null?void 0:n.type)===qf,v,"argument-error");const T=await s0(v,_,n);return _R(v,T)}return _R(v,_)},"PHONE_PROVIDER").catch(v=>Promise.reject(v))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Es(t,o,"sendVerificationCode",async(d,h)=>{if(h.captchaResponse===Vf){ne((n==null?void 0:n.type)===qf,d,"argument-error");const v=await s0(d,h,n);return pR(d,v)}return pR(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{n==null||n._reset()}}async function PG(t,e){const n=xe(t);if(xt(n.auth.app))return Promise.reject(gn(n.auth));await lS(n,e)}async function s0(t,e,n){ne(n.type===qf,t,"argument-error");const r=await n.verify();ne(typeof r=="string",t,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,a=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:a,clientType:u,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,a=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:a,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa=class $p{constructor(e){this.providerId=$p.PROVIDER_ID,this.auth=Ot(e)}verifyPhoneNumber(e,n){return Tg(this.auth,e,xe(n))}static credential(e,n){return Ra._fromVerification(e,n)}static credentialFromResult(e){const n=e;return $p.credentialFromTaggedObject(n)}static credentialFromError(e){return $p.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Ra._fromTokenResponse(n,r):null}};Fa.PROVIDER_ID="phone";Fa.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t,e){return e?Cr(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS extends Yu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NG(t){return zL(t.auth,new vS(t),t.bypassAuthState)}function MG(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),$L(n,new vS(t),t.bypassAuthState)}async function kG(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),lS(n,new vS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NG;case"linkViaPopup":case"linkViaRedirect":return kG;case"reauthViaPopup":case"reauthViaRedirect":return MG;default:Nn(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG=new Md(2e3,1e4);async function DG(t,e,n){if(xt(t.app))return Promise.reject(rn(t,"operation-not-supported-in-this-environment"));const r=Ot(t);Ku(t,e,Do);const i=tl(r,n);return new mo(r,"signInViaPopup",e,i).executeNotNull()}async function LG(t,e,n){const r=xe(t);if(xt(r.auth.app))return Promise.reject(rn(r.auth,"operation-not-supported-in-this-environment"));Ku(r.auth,e,Do);const i=tl(r.auth,n);return new mo(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function UG(t,e,n){const r=xe(t);Ku(r.auth,e,Do);const i=tl(r.auth,n);return new mo(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class mo extends t2{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=Ud();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OG.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BG="pendingRedirect",$f=new Map;class FG extends t2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$f.get(this.auth._key());if(!e){try{const r=await VG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$f.set(this.auth._key(),e)}return this.bypassAuthState||$f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VG(t,e){const n=r2(e),r=n2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function yS(t,e){return n2(t)._set(r2(e),"true")}function qG(){$f.clear()}function _S(t,e){$f.set(t._key(),e)}function n2(t){return Cr(t._redirectPersistence)}function r2(t){return Ia(BG,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(t,e,n){return zG(t,e,n)}async function zG(t,e,n){if(xt(t.app))return Promise.reject(gn(t));const r=Ot(t);Ku(t,e,Do),await r._initializationPromise;const i=tl(r,n);return await yS(i,r),i._openRedirect(r,e,"signInViaRedirect")}function HG(t,e,n){return GG(t,e,n)}async function GG(t,e,n){const r=xe(t);if(Ku(r.auth,e,Do),xt(r.auth.app))return Promise.reject(gn(r.auth));await r.auth._initializationPromise;const i=tl(r.auth,n);await yS(i,r.auth);const o=await i2(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function jG(t,e,n){return WG(t,e,n)}async function WG(t,e,n){const r=xe(t);Ku(r.auth,e,Do),await r.auth._initializationPromise;const i=tl(r.auth,n);await gg(!1,r,e.providerId),await yS(i,r.auth);const o=await i2(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function KG(t,e){return await Ot(t)._initializationPromise,Eg(t,e,!1)}async function Eg(t,e,n=!1){if(xt(t.app))return Promise.reject(gn(t));const r=Ot(t),i=tl(r,e),a=await new FG(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function i2(t){const e=Ud(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=10*60*1e3;class o2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!s2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YG&&this.cachedEventUids.clear(),this.cachedEventUids.has(bR(e))}saveEventToCache(e){this.cachedEventUids.add(bR(e)),this.lastProcessedEventTime=Date.now()}}function bR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(t,e={}){return qt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZG=/^https?/;async function QG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a2(t);for(const n of e)try{if(e8(n))return}catch{}Nn(t,"unauthorized-domain")}function e8(t){const e=od(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!ZG.test(n))return!1;if(XG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=new Md(3e4,6e4);function TR(){const t=Xt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function n8(t){return new Promise((e,n)=>{var r,i,o;function a(){TR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TR(),n(rn(t,"network-request-failed"))},timeout:t8.get()})}if(!((i=(r=Xt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Xt().gapi)===null||o===void 0)&&o.load)a();else{const u=DL("iframefcb");return Xt()[u]=()=>{gapi.load?a():n(rn(t,"network-request-failed"))},aS(`${J5()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw zp=null,e})}let zp=null;function r8(t){return zp=zp||n8(t),zp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=new Md(5e3,15e3),o8="__/auth/iframe",s8="emulator/auth/iframe",a8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u8(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sS(e,s8):`https://${t.config.authDomain}/${o8}`,r={apiKey:e.apiKey,appName:t.name,v:ko},i=l8.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${el(r).slice(1)}`}async function c8(t){const e=await r8(t),n=Xt().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:u8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=rn(t,"network-request-failed"),u=Xt().setTimeout(()=>{o(a)},i8.get());function c(){Xt().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d8=500,h8=600,p8="_blank",m8="http://localhost";class ER{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g8(t,e,n,r=d8,i=h8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},f8),{width:r.toString(),height:i.toString(),top:o,left:a}),d=on().toLowerCase();n&&(u=RL(d)?p8:n),AL(d)&&(e=e||m8,c.scrollbars="yes");const h=Object.entries(c).reduce((_,[T,E])=>`${_}${T}=${E},`,"");if(V5(d)&&u!=="_self")return v8(e||"",u),new ER(null);const v=window.open(e||"",u,h);ne(v,t,"popup-blocked");try{v.focus()}catch{}return new ER(v)}function v8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="__/auth/handler",_8="emulator/auth/handler",b8=encodeURIComponent("fac");async function aT(t,e,n,r,i,o){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ko,eventId:i};if(e instanceof Do){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Xp(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,v]of Object.entries(o||{}))a[h]=v}if(e instanceof Ju){const h=e.getScopes().filter(v=>v!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),d=c?`#${b8}=${encodeURIComponent(c)}`:"";return`${T8(t)}?${el(u).slice(1)}${d}`}function T8({config:t}){return t.emulator?sS(t,_8):`https://${t.authDomain}/${y8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="webStorageSupport";class E8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ba,this._completeRedirectFn=Eg,this._overrideRedirectResult=_S}async _openPopup(e,n,r,i){var o;bi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await aT(e,n,r,od(),i);return g8(e,a,Ud())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await aT(e,n,r,od(),i);return cG(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(bi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await c8(e),r=new o2(e);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(a0,{type:a0},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[a0];a!==void 0&&n(!!a),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kL()||IL()||Od()}}const S8=E8;class w8{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Oi("unexpected MultiFactorSessionType")}}}class bS extends w8{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new bS(e)}_finalizeEnroll(e,n,r){return rG(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return _G(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class l2{constructor(){}static assertion(e){return bS._fromCredential(e)}}l2.FACTOR_ID="phone";var SR="@firebase/auth",wR="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A8(t){Co(new lr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OL(t)},d=new j5(r,i,o,c);return sH(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Co(new lr("auth-internal",e=>{const n=Ot(e.getProvider("auth").getImmediate());return(r=>new C8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(SR,wR,x8(t)),xr(SR,wR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=5*60;D$("authIdTokenMaxAge");function R8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}W5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=rn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",R8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A8("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=2e3;async function N8(t,e,n){var r;const{BuildInfo:i}=Va();bi(e.sessionId,"AuthEvent did not contain a session ID");const o=await L8(e.sessionId),a={};return Od()?a.ibi=i.packageName:kd()?a.apn=i.packageName:Nn(t,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,aT(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,a)}async function M8(t){const{BuildInfo:e}=Va(),n={};Od()?n.iosBundleId=e.packageName:kd()?n.androidPackageName=e.packageName:Nn(t,"operation-not-supported-in-this-environment"),await a2(t,n)}function k8(t){const{cordova:e}=Va();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,F5()?"_blank":"_system","location=yes"),n(i)})})}async function O8(t,e,n){const{cordova:r}=Va();let i=()=>{};try{await new Promise((o,a)=>{let u=null;function c(){var v;o();const _=(v=r.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof _=="function"&&_(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function d(){u||(u=window.setTimeout(()=>{a(rn(t,"redirect-cancelled-by-user"))},P8))}function h(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(c),document.addEventListener("resume",d,!1),kd()&&document.addEventListener("visibilitychange",h,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",h,!1),u&&window.clearTimeout(u)}})}finally{i()}}function D8(t){var e,n,r,i,o,a,u,c,d,h;const v=Va();ne(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(typeof((n=v==null?void 0:v.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne(typeof((o=(i=(r=v==null?void 0:v.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne(typeof((c=(u=(a=v==null?void 0:v.cordova)===null||a===void 0?void 0:a.plugins)===null||u===void 0?void 0:u.browsertab)===null||c===void 0?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne(typeof((h=(d=v==null?void 0:v.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||h===void 0?void 0:h.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function L8(t){const e=U8(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function U8(t){if(bi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=20;class F8 extends o2{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function V8(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:z8(),postBody:null,tenantId:t.tenantId,error:rn(t,"no-auth-event")}}function q8(t,e){return lT()._set(uT(t),e)}async function CR(t){const e=await lT()._get(uT(t));return e&&await lT()._remove(uT(t)),e}function $8(t,e){var n,r;const i=G8(e);if(i.includes("/__/auth/callback")){const o=Hp(i),a=o.firebaseError?H8(decodeURIComponent(o.firebaseError)):null,u=(r=(n=a==null?void 0:a.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],c=u?rn(u):null;return c?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function z8(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<B8;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function lT(){return Cr(pS)}function uT(t){return Ia("authEvent",t.config.apiKey,t.name)}function H8(t){try{return JSON.parse(t)}catch{return null}}function G8(t){const e=Hp(t),n=e.link?decodeURIComponent(e.link):void 0,r=Hp(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Hp(i).link||i||r||n||t}function Hp(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return au(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=500;class W8{constructor(){this._redirectPersistence=Ba,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Eg,this._overrideRedirectResult=_S}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new F8(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Nn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){D8(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),qG(),await this._originValidation(e);const a=V8(e,r,i);await q8(e,a);const u=await N8(e,a,n),c=await k8(u);return O8(e,o,c)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M8(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Va(),a=setTimeout(async()=>{await CR(e),n.onEvent(xR())},j8),u=async h=>{clearTimeout(a);const v=await CR(e);let _=null;v&&(h!=null&&h.url)&&(_=$8(v,h.url)),n.onEvent(_||xR())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const c=i,d=`${o.packageName.toLowerCase()}://`;Va().handleOpenURL=async h=>{if(h.toLowerCase().startsWith(d)&&u({url:h}),typeof c=="function")try{c(h)}catch(v){console.error(v)}}}}const K8=W8;function xR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t,e){Ot(t)._logFramework(e)}var J8="@firebase/auth-compat",X8="0.5.28";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=1e3;function zf(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function Q8(){return zf()==="http:"||zf()==="https:"}function u2(t=on()){return!!((zf()==="file:"||zf()==="ionic:"||zf()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ej(){return fg()||eL()}function tj(){return rL()&&(document==null?void 0:document.documentMode)===11}function nj(t=on()){return/Edge\/\d+/.test(t)}function rj(t=on()){return tj()||nj(t)}function c2(){try{const t=self.localStorage,e=Ud();if(t)return t.setItem(e,"1"),t.removeItem(e),rj()?Jp():!0}catch{return TS()&&Jp()}return!1}function TS(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function l0(){return(Q8()||nL()||u2())&&!ej()&&c2()&&!TS()}function f2(){return u2()&&typeof document<"u"}async function ij(){return f2()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Z8);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function oj(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er={LOCAL:"local",NONE:"none",SESSION:"session"},gf=ne,d2="persistence";function sj(t,e){if(gf(Object.values(Er).includes(e),t,"invalid-persistence-type"),fg()){gf(e!==Er.SESSION,t,"unsupported-persistence-type");return}if(eL()){gf(e===Er.NONE,t,"unsupported-persistence-type");return}if(TS()){gf(e===Er.NONE||e===Er.LOCAL&&Jp(),t,"unsupported-persistence-type");return}gf(e===Er.NONE||c2(),t,"unsupported-persistence-type")}async function cT(t){await t._initializationPromise;const e=h2(),n=Ia(d2,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function aj(t,e){const n=h2();if(!n)return[];const r=Ia(d2,t,e);switch(n.getItem(r)){case Er.NONE:return[Cu];case Er.LOCAL:return[ld,Ba];case Er.SESSION:return[Ba];default:return[]}}function h2(){var t;try{return((t=oj())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=ne;class ys{constructor(){this.browserResolver=Cr(S8),this.cordovaResolver=Cr(K8),this.underlyingResolver=null,this._redirectPersistence=Ba,this._completeRedirectFn=Eg,this._overrideRedirectResult=_S}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return f2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lj(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await ij();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t){return t.unwrap()}function uj(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){return m2(t)}function fj(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new dj(t,nG(t,e))}else if(r){const i=m2(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function m2(t){const{_tokenResponse:e}=t instanceof Kn?t.customData:t;if(!e)return null;if(!(t instanceof Kn)&&"temporaryProof"in e&&"phoneNumber"in e)return Fa.credentialFromResult(t);const n=e.providerId;if(!n||n===pf.PASSWORD)return null;let r;switch(n){case pf.GOOGLE:r=Pi;break;case pf.FACEBOOK:r=Ri;break;case pf.GITHUB:r=Ni;break;case pf.TWITTER:r=Mi;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:u,nonce:c}=e;return!o&&!a&&!i&&!u?null:u?n.startsWith("saml.")?xu._create(n,u):$i._fromParams({providerId:n,signInMethod:n,pendingToken:u,idToken:i,accessToken:o}):new hu(n).credential({idToken:i,accessToken:o,rawNonce:c})}return t instanceof Kn?r.credentialFromError(t):r.credentialFromResult(t)}function rr(t,e){return e.catch(n=>{throw n instanceof Kn&&fj(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:cj(n),additionalUserInfo:tG(n),user:go.getOrCreate(i)}})}async function fT(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>rr(t,n.confirm(r))}}class dj{constructor(e,n){this.resolver=n,this.auth=uj(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return rr(p2(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._delegate=e,this.multiFactor=oG(e)}static getOrCreate(e){return go.USER_MAP.has(e)||go.USER_MAP.set(e,new go(e)),go.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return rr(this.auth,HL(this._delegate,e))}async linkWithPhoneNumber(e,n){return fT(this.auth,IG(this._delegate,e,n))}async linkWithPopup(e){return rr(this.auth,UG(this._delegate,e,ys))}async linkWithRedirect(e){return await cT(Ot(this.auth)),jG(this._delegate,e,ys)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return rr(this.auth,GL(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return fT(this.auth,RG(this._delegate,e,n))}reauthenticateWithPopup(e){return rr(this.auth,LG(this._delegate,e,ys))}async reauthenticateWithRedirect(e){return await cT(Ot(this.auth)),HG(this._delegate,e,ys)}sendEmailVerification(e){return HH(this._delegate,e)}async unlink(e){return await PH(this._delegate,e),this}updateEmail(e){return KH(this._delegate,e)}updatePassword(e){return YH(this._delegate,e)}updatePhoneNumber(e){return PG(this._delegate,e)}updateProfile(e){return WH(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return GH(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}go.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=ne;class dT{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;vf(r,"invalid-api-key",{appName:e.name}),vf(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ys:void 0;this._delegate=n.initialize({options:{persistence:hj(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(_5),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?go.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){aH(this._delegate,e,n)}applyActionCode(e){return DH(this._delegate,e)}checkActionCode(e){return jL(this._delegate,e)}confirmPasswordReset(e,n){return OH(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return rr(this._delegate,UH(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return zH(this._delegate,e)}isSignInWithEmailLink(e){return VH(this._delegate,e)}async getRedirectResult(){vf(l0(),this._delegate,"operation-not-supported-in-this-environment");const e=await KG(this._delegate,ys);return e?rr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Y8(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:o,complete:a}=AR(e,n,r);return this._delegate.onAuthStateChanged(i,o,a)}onIdTokenChanged(e,n,r){const{next:i,error:o,complete:a}=AR(e,n,r);return this._delegate.onIdTokenChanged(i,o,a)}sendSignInLinkToEmail(e,n){return FH(this._delegate,e,n)}sendPasswordResetEmail(e,n){return kH(this._delegate,e,n||void 0)}async setPersistence(e){sj(this._delegate,e);let n;switch(e){case Er.SESSION:n=Ba;break;case Er.LOCAL:n=await Cr(ld)._isAvailable()?ld:pS;break;case Er.NONE:n=Cu;break;default:return Nn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return rr(this._delegate,RH(this._delegate))}signInWithCredential(e){return rr(this._delegate,vg(this._delegate,e))}signInWithCustomToken(e){return rr(this._delegate,MH(this._delegate,e))}signInWithEmailAndPassword(e,n){return rr(this._delegate,BH(this._delegate,e,n))}signInWithEmailLink(e,n){return rr(this._delegate,qH(this._delegate,e,n))}signInWithPhoneNumber(e,n){return fT(this._delegate,AG(this._delegate,e,n))}async signInWithPopup(e){return vf(l0(),this._delegate,"operation-not-supported-in-this-environment"),rr(this._delegate,DG(this._delegate,e,ys))}async signInWithRedirect(e){return vf(l0(),this._delegate,"operation-not-supported-in-this-environment"),await cT(this._delegate),$G(this._delegate,e,ys)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return LH(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}dT.Persistence=Er;function AR(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:a=>i(a&&go.getOrCreate(a)),error:e,complete:n}}function hj(t,e){const n=aj(t,e);if(typeof self<"u"&&!n.includes(ld)&&n.push(ld),typeof window<"u")for(const r of[pS,Ba])n.includes(r)||n.push(r);return n.includes(Cu)||n.push(Cu),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{static credential(e,n){return Fa.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Fa(p2(Wu.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}ES.PHONE_SIGN_IN_METHOD=Fa.PHONE_SIGN_IN_METHOD;ES.PROVIDER_ID=Fa.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=ne;class mj{constructor(e,n,r=Wu.app()){var i;pj((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new CG(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="auth-compat";function vj(t){t.INTERNAL.registerComponent(new lr(gj,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new dT(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ql.EMAIL_SIGNIN,PASSWORD_RESET:Ql.PASSWORD_RESET,RECOVER_EMAIL:Ql.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ql.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ql.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ql.VERIFY_EMAIL}},EmailAuthProvider:Vs,FacebookAuthProvider:Ri,GithubAuthProvider:Ni,GoogleAuthProvider:Pi,OAuthProvider:hu,SAMLAuthProvider:nm,PhoneAuthProvider:ES,PhoneMultiFactorGenerator:l2,RecaptchaVerifier:mj,TwitterAuthProvider:Mi,Auth:dT,AuthCredential:Yu,Error:Kn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(J8,X8)}vj(Wu);var IR={};const RR="@firebase/database",PR="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g2="";function v2(t){g2=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),nn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:nd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Rr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new yj(e)}}catch{}return new _j},Ta=y2("localStorage"),hT=y2("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Nd("@firebase/database"),_2=function(){let t=1;return function(){return t++}}(),b2=function(t){const e=J$(t),n=new W$;n.update(e);const r=n.digest();return jE.encodeByteArray(r)},Fd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Fd.apply(null,r):typeof r=="object"?e+=nn(r):e+=r,e+=" "}return e};let Pa=null,NR=!0;const T2=function(t,e){oe(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(mu.logLevel=ut.VERBOSE,Pa=mu.log.bind(mu),e&&hT.set("logging_enabled",!0)):typeof t=="function"?Pa=t:(Pa=null,hT.remove("logging_enabled"))},mn=function(...t){if(NR===!0&&(NR=!1,Pa===null&&hT.get("logging_enabled")===!0&&T2(!0)),Pa){const e=Fd.apply(null,t);Pa(e)}},Vd=function(t){return function(...e){mn(t,...e)}},pT=function(...t){const e="FIREBASE INTERNAL ERROR: "+Fd(...t);mu.error(e)},zi=function(...t){const e=`FIREBASE FATAL ERROR: ${Fd(...t)}`;throw mu.error(e),new Error(e)},Vn=function(...t){const e="FIREBASE WARNING: "+Fd(...t);mu.warn(e)},bj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Sg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Tj=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ns="[MIN_NAME]",Ao="[MAX_NAME]",nl=function(t,e){if(t===e)return 0;if(t===Ns||e===Ao)return-1;if(e===Ns||t===Ao)return 1;{const n=MR(t),r=MR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Ej=function(t,e){return t===e?0:t<e?-1:1},yf=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+nn(e))},SS=function(t){if(typeof t!="object"||t===null)return nn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=nn(e[r]),n+=":",n+=SS(t[e[r]]);return n+="}",n},E2=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function vn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const S2=function(t){oe(!Sg(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,a,u,c;t===0?(o=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=u+r,a=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));const d=[];for(c=n;c;c-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(i?1:0),d.reverse();const h=d.join("");let v="";for(c=0;c<64;c+=8){let _=parseInt(h.substr(c,8),2).toString(16);_.length===1&&(_="0"+_),v=v+_}return v.toLowerCase()},Sj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Cj(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const xj=new RegExp("^-?(0*)\\d{1,10}$"),Aj=-2147483648,Ij=2147483647,MR=function(t){if(xj.test(t)){const e=Number(t);if(e>=Aj&&e<=Ij)return e}return null},Xu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Vn("Exception was thrown by user callback.",n),e},Math.floor(0))}},Rj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Hf=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,xt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Vn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(mn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vn(e)}}class gu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}gu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="5",w2="v",C2="s",x2="r",A2="f",I2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,R2="ls",P2="p",mT="ac",N2="websocket",M2="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n,r,i,o=!1,a="",u=!1,c=!1,d=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=c,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ta.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ta.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Mj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function O2(t,e,n){oe(typeof e=="string","typeof type must == string"),oe(typeof n=="object","typeof params must == object");let r;if(e===N2)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===M2)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Mj(t)&&(n.ns=t.namespace);const i=[];return vn(n,(o,a)=>{i.push(o+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(){this.counters_={}}incrementCounter(e,n=1){Rr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return P$(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0={},c0={};function CS(t){const e=t.toString();return u0[e]||(u0[e]=new kj),u0[e]}function Oj(t,e){const n=t.toString();return c0[n]||(c0[n]=e()),c0[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Xu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="start",Lj="close",Uj="pLPCommand",Bj="pRTLPCB",D2="id",L2="pw",U2="ser",Fj="cb",Vj="seg",qj="ts",$j="d",zj="dframe",B2=1870,F2=30,Hj=B2-F2,Gj=25e3,jj=3e4;class _s{constructor(e,n,r,i,o,a,u){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vd(e),this.stats_=CS(n),this.urlFn=c=>(this.appCheckToken&&(c[mT]=this.appCheckToken),O2(n,M2,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Dj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(jj)),Tj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xS((...o)=>{const[a,u,c,d,h]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===kR)this.id=u,this.password=c;else if(a===Lj)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[kR]="t",r[U2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Fj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[w2]=wS,this.transportSessionId&&(r[C2]=this.transportSessionId),this.lastSessionId&&(r[R2]=this.lastSessionId),this.applicationId&&(r[P2]=this.applicationId),this.appCheckToken&&(r[mT]=this.appCheckToken),typeof location<"u"&&location.hostname&&I2.test(location.hostname)&&(r[x2]=A2);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_s.forceAllow_=!0}static forceDisallow(){_s.forceDisallow_=!0}static isAvailable(){return _s.forceAllow_?!0:!_s.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Sj()&&!wj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=nn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=JD(n),i=E2(r,Hj);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[zj]="t",r[D2]=e,r[L2]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=nn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class xS{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_2(),window[Uj+this.uniqueCallbackIdentifier]=e,window[Bj+this.uniqueCallbackIdentifier]=n,this.myIFrame=xS.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){mn("frame writing exception"),u.stack&&mn(u.stack),mn(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||mn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[D2]=this.myID,e[L2]=this.myPW,e[U2]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+F2+r.length<=B2;){const a=this.pendingSegs.shift();r=r+"&"+Vj+i+"="+a.seg+"&"+qj+i+"="+a.ts+"&"+$j+i+"="+a.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Gj)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{mn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=16384,Kj=45e3;let sm=null;typeof MozWebSocket<"u"?sm=MozWebSocket:typeof WebSocket<"u"&&(sm=WebSocket);class Kr{constructor(e,n,r,i,o,a,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vd(this.connId),this.stats_=CS(n),this.connURL=Kr.connectionURL_(n,a,u,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const a={};return a[w2]=wS,typeof location<"u"&&location.hostname&&I2.test(location.hostname)&&(a[x2]=A2),n&&(a[C2]=n),r&&(a[R2]=r),i&&(a[mT]=i),o&&(a[P2]=o),O2(e,N2,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ta.set("previous_websocket_failure",!0);try{let r;V$(),this.mySock=new sm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Kr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&sm!==null&&!Kr.forceDisallow_}static previouslyFailed(){return Ta.isInMemoryStorage||Ta.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ta.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=nd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(oe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=nn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=E2(n,Wj);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Kj))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kr.responsesRequiredToBeHealthy=2;Kr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{static get ALL_TRANSPORTS(){return[_s,Kr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Kr&&Kr.isAvailable();let r=n&&!Kr.previouslyFailed();if(e.webSocketOnly&&(n||Vn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Kr];else{const i=this.transports_=[];for(const o of Au.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Au.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Au.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=6e4,Jj=5e3,Xj=10*1024,Zj=100*1024,f0="t",OR="d",Qj="s",DR="r",e9="e",LR="o",UR="a",BR="n",FR="p",t9="h";class n9{constructor(e,n,r,i,o,a,u,c,d,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vd("c:"+this.id+":"),this.transportManager_=new Au(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Hf(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Zj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Xj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(f0 in e){const n=e[f0];n===UR?this.upgradeIfSecondaryHealthy_():n===DR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===LR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=yf("t",e),r=yf("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:UR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:BR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=yf("t",e),r=yf("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=yf(f0,e);if(OR in e){const r=e[OR];if(n===t9){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===BR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Qj?this.onConnectionShutdown_(r):n===DR?this.onReset_(r):n===e9?pT("Server Error: "+r):n===LR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pT("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wS!==r&&Vn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Hf(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Yj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hf(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Jj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ta.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q2=class{constructor(e){this.allowedEvents_=e,this.listeners_={},oe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){oe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends q2{static getInstance(){return new am}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!JE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return oe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=32,qR=768;let it=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function et(){return new it("")}function ze(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ms(t){return t.pieces_.length-t.pieceNum_}function gt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new it(t.pieces_,e)}function AS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function r9(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ud(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function $2(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new it(e,0)}function Pt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof it)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new it(n,0)}function He(t){return t.pieceNum_>=t.pieces_.length}function jn(t,e){const n=ze(t),r=ze(e);if(n===null)return e;if(n===r)return jn(gt(t),gt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function i9(t,e){const n=ud(t,0),r=ud(e,0);for(let i=0;i<n.length&&i<r.length;i++){const o=nl(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function IS(t,e){if(Ms(t)!==Ms(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Yr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ms(t)>Ms(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class o9{constructor(e,n){this.errorPrefix_=n,this.parts_=ud(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=dg(this.parts_[r]);z2(this)}}function s9(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=dg(e),z2(t)}function a9(t){const e=t.parts_.pop();t.byteLength_-=dg(e),t.parts_.length>0&&(t.byteLength_-=1)}function z2(t){if(t.byteLength_>qR)throw new Error(t.errorPrefix_+"has a key path longer than "+qR+" bytes ("+t.byteLength_+").");if(t.parts_.length>VR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+VR+") or object contains a cycle "+ga(t))}function ga(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends q2{static getInstance(){return new RS}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return oe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=1e3,l9=60*5*1e3,$R=30*1e3,u9=1.3,c9=3e4,f9="server_kill",zR=3;class To extends V2{constructor(e,n,r,i,o,a,u,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=To.nextPersistentConnectionId_++,this.log_=Vd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_f,this.maxReconnectDelay_=l9,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");RS.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&am.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(nn(o)),oe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ir,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const u=a.d;a.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),oe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),oe(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},a="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(a,o,u=>{const c=u.d,d=u.s;To.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",u),d!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(d,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Rr(e,"w")){const r=Ua(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Vn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||j$(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$R)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=G$(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,a=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),oe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},a="n";i&&(o.q=r,o.t=i),this.sendRequest(a,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const a={p:n,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+nn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):pT("Unrecognized action received from server: "+nn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){oe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_f,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_f,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>c9&&(this.reconnectDelay_=_f),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*u9)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+To.nextConnectionId_++,o=this.lastSessionId;let a=!1,u=null;const c=function(){u?u.close():(a=!0,r())},d=function(v){oe(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(v)};this.realtime_={close:c,sendRequest:d};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,_]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?mn("getToken() completed but was canceled"):(mn("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=_&&_.token,u=new n9(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,T=>{Vn(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(f9)},o))}catch(v){this.log_("Failed to get token: "+v),a||(this.repoInfo_.nodeAdmin&&Vn(v),c())}}}interrupt(e){mn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Xp(this.interruptReasons_)&&(this.reconnectDelay_=_f,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>SS(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new it(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){mn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zR&&(this.reconnectDelay_=$R,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){mn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+g2.replace(/\./g,"-")]=1,JE()?e["framework.cordova"]=1:fg()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=am.getInstance().currentlyOnline();return Xp(this.interruptReasons_)&&e}}To.nextPersistentConnectionId_=0;To.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new je(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new je(Ns,e),i=new je(Ns,n);return this.compare(r,i)!==0}minPost(){return je.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tp;class H2 extends wg{static get __EMPTY_NODE(){return Tp}static set __EMPTY_NODE(e){Tp=e}compare(e,n){return nl(e.name,n.name)}isDefinedOn(e){throw ju("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return je.MIN}maxPost(){return new je(Ao,Tp)}makePost(e,n){return oe(typeof e=="string","KeyIndex indexValue must always be a string."),new je(e,Tp)}toString(){return".key"}}const Bi=new H2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class pn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=i??or.EMPTY_NODE,this.right=o??or.EMPTY_NODE}copy(e,n,r,i,o){return new pn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return or.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return or.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}pn.RED=!0;pn.BLACK=!1;class d9{copy(e,n,r,i,o){return this}insert(e,n,r){return new pn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class or{constructor(e,n=or.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new or(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,pn.BLACK,null,null))}remove(e){return new or(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,pn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ep(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ep(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ep(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ep(this.root_,null,this.comparator_,!0,e)}}or.EMPTY_NODE=new d9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t,e){return nl(t.name,e.name)}function PS(t,e){return nl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gT;function p9(t){gT=t}const G2=function(t){return typeof t=="number"?"number:"+S2(t):"string:"+t},j2=function(t){if(t.isLeafNode()){const e=t.val();oe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rr(e,".sv"),"Priority must be a string or number.")}else oe(t===gT||t.isEmpty(),"priority of unexpected type.");oe(t===gT||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HR;class fn{static set __childrenNodeConstructor(e){HR=e}static get __childrenNodeConstructor(){return HR}constructor(e,n=fn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,oe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),j2(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new fn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:fn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return He(e)?this:ze(e)===".priority"?this.priorityNode_:fn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:fn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ze(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(oe(r!==".priority"||Ms(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,fn.__childrenNodeConstructor.EMPTY_NODE.updateChild(gt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+G2(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=S2(this.value_):e+=this.value_,this.lazyHash_=b2(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===fn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof fn.__childrenNodeConstructor?-1:(oe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=fn.VALUE_TYPE_ORDER.indexOf(n),o=fn.VALUE_TYPE_ORDER.indexOf(r);return oe(i>=0,"Unknown leaf type: "+n),oe(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}fn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W2,K2;function m9(t){W2=t}function g9(t){K2=t}class v9 extends wg{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?nl(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return je.MIN}maxPost(){return new je(Ao,new fn("[PRIORITY-POST]",K2))}makePost(e,n){const r=W2(e);return new je(n,new fn("[PRIORITY-POST]",r))}toString(){return".priority"}}const St=new v9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=Math.log(2);class _9{constructor(e){const n=o=>parseInt(Math.log(o)/y9,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lm=function(t,e,n,r){t.sort(e);const i=function(c,d){const h=d-c;let v,_;if(h===0)return null;if(h===1)return v=t[c],_=n?n(v):v,new pn(_,v.node,pn.BLACK,null,null);{const T=parseInt(h/2,10)+c,E=i(c,T),S=i(T+1,d);return v=t[T],_=n?n(v):v,new pn(_,v.node,pn.BLACK,E,S)}},o=function(c){let d=null,h=null,v=t.length;const _=function(E,S){const w=v-E,x=v;v-=E;const N=i(w+1,x),P=t[w],k=n?n(P):P;T(new pn(k,P.node,S,null,N))},T=function(E){d?(d.left=E,d=E):(h=E,d=E)};for(let E=0;E<c.count;++E){const S=c.nextBitIsOne(),w=Math.pow(2,c.count-(E+1));S?_(w,pn.BLACK):(_(w,pn.BLACK),_(w,pn.RED))}return h},a=new _9(t.length),u=o(a);return new or(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d0;const eu={};class vo{static get Default(){return oe(eu&&St,"ChildrenNode.ts has not been loaded"),d0=d0||new vo({".priority":eu},{".priority":St}),d0}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ua(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof or?n:null}hasIndex(e){return Rr(this.indexSet_,e.toString())}addIndex(e,n){oe(e!==Bi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(je.Wrap);let a=o.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();let u;i?u=lm(r,e.getCompare()):u=eu;const c=e.toString(),d=Object.assign({},this.indexSet_);d[c]=e;const h=Object.assign({},this.indexes_);return h[c]=u,new vo(h,d)}addToIndexes(e,n){const r=Zp(this.indexes_,(i,o)=>{const a=Ua(this.indexSet_,o);if(oe(a,"Missing index implementation for "+o),i===eu)if(a.isDefinedOn(e.node)){const u=[],c=n.getIterator(je.Wrap);let d=c.getNext();for(;d;)d.name!==e.name&&u.push(d),d=c.getNext();return u.push(e),lm(u,a.getCompare())}else return eu;else{const u=n.get(e.name);let c=i;return u&&(c=c.remove(new je(e.name,u))),c.insert(e,e.node)}});return new vo(r,this.indexSet_)}removeFromIndexes(e,n){const r=Zp(this.indexes_,i=>{if(i===eu)return i;{const o=n.get(e.name);return o?i.remove(new je(e.name,o)):i}});return new vo(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf;class Ne{static get EMPTY_NODE(){return bf||(bf=new Ne(new or(PS),null,vo.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&j2(this.priorityNode_),this.children_.isEmpty()&&oe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bf}updatePriority(e){return this.children_.isEmpty()?this:new Ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?bf:n}}getChild(e){const n=ze(e);return n===null?this:this.getImmediateChild(n).getChild(gt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(oe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new je(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const a=i.isEmpty()?bf:this.priorityNode_;return new Ne(i,a,o)}}updateChild(e,n){const r=ze(e);if(r===null)return n;{oe(ze(e)!==".priority"||Ms(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(gt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(St,(a,u)=>{n[a]=u.val(e),r++,o&&Ne.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){const a=[];for(const u in n)a[u]=n[u];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+G2(this.getPriority().val())+":"),this.forEachChild(St,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":b2(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new je(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new je(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new je(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,je.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,je.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qd?-1:0}withIndex(e){if(e===Bi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ne(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Bi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(St),i=n.getIterator(St);let o=r.getNext(),a=i.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=i.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Bi?null:this.indexMap_.get(e.toString())}}Ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class b9 extends Ne{constructor(){super(new or(PS),Ne.EMPTY_NODE,vo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ne.EMPTY_NODE}isEmpty(){return!1}}const qd=new b9;Object.defineProperties(je,{MIN:{value:new je(Ns,Ne.EMPTY_NODE)},MAX:{value:new je(Ao,qd)}});H2.__EMPTY_NODE=Ne.EMPTY_NODE;fn.__childrenNodeConstructor=Ne;p9(qd);g9(qd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=!0;function kt(t,e=null){if(t===null)return Ne.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),oe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new fn(n,kt(e))}if(!(t instanceof Array)&&T9){const n=[];let r=!1;if(vn(t,(a,u)=>{if(a.substring(0,1)!=="."){const c=kt(u);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new je(a,c)))}}),n.length===0)return Ne.EMPTY_NODE;const o=lm(n,h9,a=>a.name,PS);if(r){const a=lm(n,St.getCompare());return new Ne(o,kt(e),new vo({".priority":a},{".priority":St}))}else return new Ne(o,kt(e),vo.Default)}else{let n=Ne.EMPTY_NODE;return vn(t,(r,i)=>{if(Rr(t,r)&&r.substring(0,1)!=="."){const o=kt(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(kt(e))}}m9(kt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS extends wg{constructor(e){super(),this.indexPath_=e,oe(!He(e)&&ze(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?nl(e.name,n.name):o}makePost(e,n){const r=kt(e),i=Ne.EMPTY_NODE.updateChild(this.indexPath_,r);return new je(n,i)}maxPost(){const e=Ne.EMPTY_NODE.updateChild(this.indexPath_,qd);return new je(Ao,e)}toString(){return ud(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9 extends wg{compare(e,n){const r=e.node.compareTo(n.node);return r===0?nl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return je.MIN}maxPost(){return je.MAX}makePost(e,n){const r=kt(e);return new je(n,r)}toString(){return".value"}}const MS=new E9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){return{type:"value",snapshotNode:t}}function Iu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function cd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function fd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function S9(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.index_=e}updateChild(e,n,r,i,o,a){oe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(cd(n,u)):oe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(Iu(n,r)):a.trackChildChange(fd(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(St,(i,o)=>{n.hasChild(i)||r.trackChildChange(cd(i,o))}),n.isLeafNode()||n.forEachChild(St,(i,o)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(o)||r.trackChildChange(fd(i,o,a))}else r.trackChildChange(Iu(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ne.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.indexedFilter_=new kS(e.getIndex()),this.index_=e.getIndex(),this.startPost_=dd.getStartPost_(e),this.endPost_=dd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,a){return this.matches(new je(n,r))||(r=Ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ne.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ne.EMPTY_NODE);const o=this;return n.forEachChild(St,(a,u)=>{o.matches(new je(a,u))||(i=i.updateImmediateChild(a,Ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new dd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,a){return this.rangedFilter_.matches(new je(n,r))||(r=Ne.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ne.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),a++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ne.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let a=0;for(;o.hasNext();){const u=o.getNext();a<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?a++:i=i.updateImmediateChild(u.name,Ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let a;if(this.reverse_){const v=this.index_.getCompare();a=(_,T)=>v(T,_)}else a=this.index_.getCompare();const u=e;oe(u.numChildren()===this.limit_,"");const c=new je(n,r),d=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(n)){const v=u.getImmediateChild(n);let _=i.getChildAfterChild(this.index_,d,this.reverse_);for(;_!=null&&(_.name===n||u.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const T=_==null?1:a(_,c);if(h&&!r.isEmpty()&&T>=0)return o!=null&&o.trackChildChange(fd(n,r,v)),u.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(cd(n,v));const S=u.updateImmediateChild(n,Ne.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(o!=null&&o.trackChildChange(Iu(_.name,_.node)),S.updateImmediateChild(_.name,_.node)):S}}else return r.isEmpty()?e:h&&a(d,c)>=0?(o!=null&&(o.trackChildChange(cd(d.name,d.node)),o.trackChildChange(Iu(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(d.name,Ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=St}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return oe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return oe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ns}hasEnd(){return this.endSet_}getIndexEndValue(){return oe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return oe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ao}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return oe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===St}copy(){const e=new Cg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function C9(t){return t.loadsAllData()?new kS(t.getIndex()):t.hasLimit()?new w9(t):new dd(t)}function x9(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function A9(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function vT(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function I9(t,e,n){let r;return t.index_===Bi||n?r=vT(t,e,n):r=vT(t,e,Ao),r.startAfterSet_=!0,r}function yT(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function R9(t,e,n){let r;return t.index_===Bi||n?r=yT(t,e,n):r=yT(t,e,Ns),r.endBeforeSet_=!0,r}function xg(t,e){const n=t.copy();return n.index_=e,n}function GR(t){const e={};if(t.isDefault())return e;let n;if(t.index_===St?n="$priority":t.index_===MS?n="$value":t.index_===Bi?n="$key":(oe(t.index_ instanceof NS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=nn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=nn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+nn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=nn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+nn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jR(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==St&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends V2{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(oe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Vd("p:rest:"),this.listens_={}}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=um.getListenId_(e,r),u={};this.listens_[a]=u;const c=GR(e._queryParams);this.restRequest_(o+".json",c,(d,h)=>{let v=h;if(d===404&&(v=null,d=null),d===null&&this.onDataUpdate_(o,v,!1,r),Ua(this.listens_,a)===u){let _;d?d===401?_="permission_denied":_="rest_error:"+d:_="ok",i(_,null)}})}unlisten(e,n){const r=um.getListenId_(e,n);delete this.listens_[r]}get(e){const n=GR(e._queryParams),r=e._path.toString(),i=new ir;return this.restRequest_(r+".json",n,(o,a)=>{let u=a;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+el(n);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let c=null;if(u.status>=200&&u.status<300){try{c=nd(u.responseText)}catch{Vn("Failed to parse JSON response for "+a+": "+u.responseText)}r(null,c)}else u.status!==401&&u.status!==404&&Vn("Got unsuccessful REST response for "+a+" Status: "+u.status),r(u.status);r=null}},u.open("GET",a,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.rootNode_=Ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){return{value:null,children:new Map}}function Zu(t,e,n){if(He(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ze(e);t.children.has(r)||t.children.set(r,cm());const i=t.children.get(r);e=gt(e),Zu(i,e,n)}}function _T(t,e){if(He(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(St,(r,i)=>{Zu(t,new it(r),i)}),_T(t,e)}}else if(t.children.size>0){const n=ze(e);return e=gt(e),t.children.has(n)&&_T(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function bT(t,e,n){t.value!==null?n(e,t.value):N9(t,(r,i)=>{const o=new it(e.toString()+"/"+r);bT(i,o,n)})}function N9(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&vn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=10*1e3,k9=30*1e3,O9=5*60*1e3;class D9{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new M9(e);const r=WR+(k9-WR)*Math.random();Hf(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;vn(e,(i,o)=>{o>0&&Rr(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Hf(this.reportStats_.bind(this),Math.floor(Math.random()*2*O9))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(yi||(yi={}));function OS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function DS(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function LS(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=yi.ACK_USER_WRITE,this.source=OS()}operationForChild(e){if(He(this.path)){if(this.affectedTree.value!=null)return oe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new it(e));return new fm(et(),n,this.revert)}}else return oe(ze(this.path)===e,"operationForChild called for unrelated child."),new fm(gt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.source=e,this.path=n,this.type=yi.LISTEN_COMPLETE}operationForChild(e){return He(this.path)?new hd(this.source,et()):new hd(this.source,gt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=yi.OVERWRITE}operationForChild(e){return He(this.path)?new qa(this.source,et(),this.snap.getImmediateChild(e)):new qa(this.source,gt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=yi.MERGE}operationForChild(e){if(He(this.path)){const n=this.children.subtree(new it(e));return n.isEmpty()?null:n.value?new qa(this.source,et(),n.value):new Ru(this.source,et(),n)}else return oe(ze(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ru(this.source,gt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(He(e))return this.isFullyInitialized()&&!this.filtered_;const n=ze(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function U9(t,e,n,r){const i=[],o=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(S9(a.childName,a.snapshotNode))}),Tf(t,i,"child_removed",e,r,n),Tf(t,i,"child_added",e,r,n),Tf(t,i,"child_moved",o,r,n),Tf(t,i,"child_changed",e,r,n),Tf(t,i,"value",e,r,n),i}function Tf(t,e,n,r,i,o){const a=r.filter(u=>u.type===n);a.sort((u,c)=>F9(t,u,c)),a.forEach(u=>{const c=B9(t,u,o);i.forEach(d=>{d.respondsTo(u.type)&&e.push(d.createEvent(c,t.query_))})})}function B9(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function F9(t,e,n){if(e.childName==null||n.childName==null)throw ju("Should only compare child_ events.");const r=new je(e.childName,e.snapshotNode),i=new je(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e){return{eventCache:t,serverCache:e}}function Gf(t,e,n,r){return Ag(new ks(e,n,r),t.serverCache)}function J2(t,e,n,r){return Ag(t.eventCache,new ks(e,n,r))}function dm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $a(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h0;const V9=()=>(h0||(h0=new or(Ej)),h0);class bt{static fromObject(e){let n=new bt(null);return vn(e,(r,i)=>{n=n.set(new it(r),i)}),n}constructor(e,n=V9()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:et(),value:this.value};if(He(e))return null;{const r=ze(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(gt(e),n);return o!=null?{path:Pt(new it(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(He(e))return this;{const n=ze(e),r=this.children.get(n);return r!==null?r.subtree(gt(e)):new bt(null)}}set(e,n){if(He(e))return new bt(n,this.children);{const r=ze(e),o=(this.children.get(r)||new bt(null)).set(gt(e),n),a=this.children.insert(r,o);return new bt(this.value,a)}}remove(e){if(He(e))return this.children.isEmpty()?new bt(null):new bt(null,this.children);{const n=ze(e),r=this.children.get(n);if(r){const i=r.remove(gt(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new bt(null):new bt(this.value,o)}else return this}}get(e){if(He(e))return this.value;{const n=ze(e),r=this.children.get(n);return r?r.get(gt(e)):null}}setTree(e,n){if(He(e))return n;{const r=ze(e),o=(this.children.get(r)||new bt(null)).setTree(gt(e),n);let a;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new bt(this.value,a)}}fold(e){return this.fold_(et(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Pt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,et(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(He(e))return null;{const o=ze(e),a=this.children.get(o);return a?a.findOnPath_(gt(e),Pt(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,et(),n)}foreachOnPath_(e,n,r){if(He(e))return this;{this.value&&r(n,this.value);const i=ze(e),o=this.children.get(i);return o?o.foreachOnPath_(gt(e),Pt(n,i),r):new bt(null)}}foreach(e){this.foreach_(et(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Pt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.writeTree_=e}static empty(){return new _i(new bt(null))}}function jf(t,e,n){if(He(e))return new _i(new bt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const a=jn(i,e);return o=o.updateChild(a,n),new _i(t.writeTree_.set(i,o))}else{const i=new bt(n),o=t.writeTree_.setTree(e,i);return new _i(o)}}}function TT(t,e,n){let r=t;return vn(n,(i,o)=>{r=jf(r,Pt(e,i),o)}),r}function KR(t,e){if(He(e))return _i.empty();{const n=t.writeTree_.setTree(e,new bt(null));return new _i(n)}}function ET(t,e){return rl(t,e)!=null}function rl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(jn(n.path,e)):null}function YR(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(St,(r,i)=>{e.push(new je(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new je(r,i.value))}),e}function Ss(t,e){if(He(e))return t;{const n=rl(t,e);return n!=null?new _i(new bt(n)):new _i(t.writeTree_.subtree(e))}}function ST(t){return t.writeTree_.isEmpty()}function Pu(t,e){return X2(et(),t.writeTree_,e)}function X2(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(oe(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=X2(Pt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Pt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t,e){return tU(e,t)}function q9(t,e,n,r,i){oe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=jf(t.visibleWrites,e,n)),t.lastWriteId=r}function $9(t,e,n,r){oe(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=TT(t.visibleWrites,e,n),t.lastWriteId=r}function z9(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function H9(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);oe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const u=t.allWrites[a];u.visible&&(a>=n&&G9(u,r.path)?i=!1:Yr(r.path,u.path)&&(o=!0)),a--}if(i){if(o)return j9(t),!0;if(r.snap)t.visibleWrites=KR(t.visibleWrites,r.path);else{const u=r.children;vn(u,c=>{t.visibleWrites=KR(t.visibleWrites,Pt(r.path,c))})}return!0}else return!1}function G9(t,e){if(t.snap)return Yr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Yr(Pt(t.path,n),e))return!0;return!1}function j9(t){t.visibleWrites=Z2(t.allWrites,W9,et()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function W9(t){return t.visible}function Z2(t,e,n){let r=_i.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const a=o.path;let u;if(o.snap)Yr(n,a)?(u=jn(n,a),r=jf(r,u,o.snap)):Yr(a,n)&&(u=jn(a,n),r=jf(r,et(),o.snap.getChild(u)));else if(o.children){if(Yr(n,a))u=jn(n,a),r=TT(r,u,o.children);else if(Yr(a,n))if(u=jn(a,n),He(u))r=TT(r,et(),o.children);else{const c=Ua(o.children,ze(u));if(c){const d=c.getChild(gt(u));r=jf(r,et(),d)}}}else throw ju("WriteRecord should have .snap or .children")}}return r}function Q2(t,e,n,r,i){if(!r&&!i){const o=rl(t.visibleWrites,e);if(o!=null)return o;{const a=Ss(t.visibleWrites,e);if(ST(a))return n;if(n==null&&!ET(a,et()))return null;{const u=n||Ne.EMPTY_NODE;return Pu(a,u)}}}else{const o=Ss(t.visibleWrites,e);if(!i&&ST(o))return n;if(!i&&n==null&&!ET(o,et()))return null;{const a=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(Yr(d.path,e)||Yr(e,d.path))},u=Z2(t.allWrites,a,e),c=n||Ne.EMPTY_NODE;return Pu(u,c)}}}function K9(t,e,n){let r=Ne.EMPTY_NODE;const i=rl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(St,(o,a)=>{r=r.updateImmediateChild(o,a)}),r;if(n){const o=Ss(t.visibleWrites,e);return n.forEachChild(St,(a,u)=>{const c=Pu(Ss(o,new it(a)),u);r=r.updateImmediateChild(a,c)}),YR(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const o=Ss(t.visibleWrites,e);return YR(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Y9(t,e,n,r,i){oe(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Pt(e,n);if(ET(t.visibleWrites,o))return null;{const a=Ss(t.visibleWrites,o);return ST(a)?i.getChild(n):Pu(a,i.getChild(n))}}function J9(t,e,n,r){const i=Pt(e,n),o=rl(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const a=Ss(t.visibleWrites,i);return Pu(a,r.getNode().getImmediateChild(n))}else return null}function X9(t,e){return rl(t.visibleWrites,e)}function Z9(t,e,n,r,i,o,a){let u;const c=Ss(t.visibleWrites,e),d=rl(c,et());if(d!=null)u=d;else if(n!=null)u=Pu(c,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){const h=[],v=a.getCompare(),_=o?u.getReverseIteratorFrom(r,a):u.getIteratorFrom(r,a);let T=_.getNext();for(;T&&h.length<i;)v(T,r)!==0&&h.push(T),T=_.getNext();return h}else return[]}function Q9(){return{visibleWrites:_i.empty(),allWrites:[],lastWriteId:-1}}function hm(t,e,n,r){return Q2(t.writeTree,t.treePath,e,n,r)}function US(t,e){return K9(t.writeTree,t.treePath,e)}function JR(t,e,n,r){return Y9(t.writeTree,t.treePath,e,n,r)}function pm(t,e){return X9(t.writeTree,Pt(t.treePath,e))}function eW(t,e,n,r,i,o){return Z9(t.writeTree,t.treePath,e,n,r,i,o)}function BS(t,e,n){return J9(t.writeTree,t.treePath,e,n)}function eU(t,e){return tU(Pt(t.treePath,e),t.writeTree)}function tU(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;oe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),oe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,fd(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,cd(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Iu(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,fd(r,e.snapshotNode,i.oldSnap));else throw ju("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const nU=new nW;class FS{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ks(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return BS(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$a(this.viewCache_),o=eW(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t){return{filter:t}}function iW(t,e){oe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),oe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function oW(t,e,n,r,i){const o=new tW;let a,u;if(n.type===yi.OVERWRITE){const d=n;d.source.fromUser?a=wT(t,e,d.path,d.snap,r,i,o):(oe(d.source.fromServer,"Unknown source."),u=d.source.tagged||e.serverCache.isFiltered()&&!He(d.path),a=mm(t,e,d.path,d.snap,r,i,u,o))}else if(n.type===yi.MERGE){const d=n;d.source.fromUser?a=aW(t,e,d.path,d.children,r,i,o):(oe(d.source.fromServer,"Unknown source."),u=d.source.tagged||e.serverCache.isFiltered(),a=CT(t,e,d.path,d.children,r,i,u,o))}else if(n.type===yi.ACK_USER_WRITE){const d=n;d.revert?a=cW(t,e,d.path,r,i,o):a=lW(t,e,d.path,d.affectedTree,r,i,o)}else if(n.type===yi.LISTEN_COMPLETE)a=uW(t,e,n.path,r,o);else throw ju("Unknown operation type: "+n.type);const c=o.getChanges();return sW(e,a,c),{viewCache:a,changes:c}}function sW(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=dm(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Y2(dm(e)))}}function rU(t,e,n,r,i,o){const a=e.eventCache;if(pm(r,n)!=null)return e;{let u,c;if(He(n))if(oe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=$a(e),h=d instanceof Ne?d:Ne.EMPTY_NODE,v=US(r,h);u=t.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{const d=hm(r,$a(e));u=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=ze(n);if(d===".priority"){oe(Ms(n)===1,"Can't have a priority with additional path components");const h=a.getNode();c=e.serverCache.getNode();const v=JR(r,n,h,c);v!=null?u=t.filter.updatePriority(h,v):u=a.getNode()}else{const h=gt(n);let v;if(a.isCompleteForChild(d)){c=e.serverCache.getNode();const _=JR(r,n,a.getNode(),c);_!=null?v=a.getNode().getImmediateChild(d).updateChild(h,_):v=a.getNode().getImmediateChild(d)}else v=BS(r,d,e.serverCache);v!=null?u=t.filter.updateChild(a.getNode(),d,v,h,i,o):u=a.getNode()}}return Gf(e,u,a.isFullyInitialized()||He(n),t.filter.filtersNodes())}}function mm(t,e,n,r,i,o,a,u){const c=e.serverCache;let d;const h=a?t.filter:t.filter.getIndexedFilter();if(He(n))d=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){const T=c.getNode().updateChild(n,r);d=h.updateFullNode(c.getNode(),T,null)}else{const T=ze(n);if(!c.isCompleteForPath(n)&&Ms(n)>1)return e;const E=gt(n),w=c.getNode().getImmediateChild(T).updateChild(E,r);T===".priority"?d=h.updatePriority(c.getNode(),w):d=h.updateChild(c.getNode(),T,w,E,nU,null)}const v=J2(e,d,c.isFullyInitialized()||He(n),h.filtersNodes()),_=new FS(i,v,o);return rU(t,v,n,i,_,u)}function wT(t,e,n,r,i,o,a){const u=e.eventCache;let c,d;const h=new FS(i,e,o);if(He(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=Gf(e,d,!0,t.filter.filtersNodes());else{const v=ze(n);if(v===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),c=Gf(e,d,u.isFullyInitialized(),u.isFiltered());else{const _=gt(n),T=u.getNode().getImmediateChild(v);let E;if(He(_))E=r;else{const S=h.getCompleteChild(v);S!=null?AS(_)===".priority"&&S.getChild($2(_)).isEmpty()?E=S:E=S.updateChild(_,r):E=Ne.EMPTY_NODE}if(T.equals(E))c=e;else{const S=t.filter.updateChild(u.getNode(),v,E,_,h,a);c=Gf(e,S,u.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function XR(t,e){return t.eventCache.isCompleteForChild(e)}function aW(t,e,n,r,i,o,a){let u=e;return r.foreach((c,d)=>{const h=Pt(n,c);XR(e,ze(h))&&(u=wT(t,u,h,d,i,o,a))}),r.foreach((c,d)=>{const h=Pt(n,c);XR(e,ze(h))||(u=wT(t,u,h,d,i,o,a))}),u}function ZR(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function CT(t,e,n,r,i,o,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,d;He(n)?d=r:d=new bt(null).setTree(n,r);const h=e.serverCache.getNode();return d.children.inorderTraversal((v,_)=>{if(h.hasChild(v)){const T=e.serverCache.getNode().getImmediateChild(v),E=ZR(t,T,_);c=mm(t,c,new it(v),E,i,o,a,u)}}),d.children.inorderTraversal((v,_)=>{const T=!e.serverCache.isCompleteForChild(v)&&_.value===null;if(!h.hasChild(v)&&!T){const E=e.serverCache.getNode().getImmediateChild(v),S=ZR(t,E,_);c=mm(t,c,new it(v),S,i,o,a,u)}}),c}function lW(t,e,n,r,i,o,a){if(pm(i,n)!=null)return e;const u=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(He(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return mm(t,e,n,c.getNode().getChild(n),i,o,u,a);if(He(n)){let d=new bt(null);return c.getNode().forEachChild(Bi,(h,v)=>{d=d.set(new it(h),v)}),CT(t,e,n,d,i,o,u,a)}else return e}else{let d=new bt(null);return r.foreach((h,v)=>{const _=Pt(n,h);c.isCompleteForPath(_)&&(d=d.set(h,c.getNode().getChild(_)))}),CT(t,e,n,d,i,o,u,a)}}function uW(t,e,n,r,i){const o=e.serverCache,a=J2(e,o.getNode(),o.isFullyInitialized()||He(n),o.isFiltered());return rU(t,a,n,r,nU,i)}function cW(t,e,n,r,i,o){let a;if(pm(r,n)!=null)return e;{const u=new FS(r,e,i),c=e.eventCache.getNode();let d;if(He(n)||ze(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=hm(r,$a(e));else{const v=e.serverCache.getNode();oe(v instanceof Ne,"serverChildren would be complete if leaf node"),h=US(r,v)}h=h,d=t.filter.updateFullNode(c,h,o)}else{const h=ze(n);let v=BS(r,h,e.serverCache);v==null&&e.serverCache.isCompleteForChild(h)&&(v=c.getImmediateChild(h)),v!=null?d=t.filter.updateChild(c,h,v,gt(n),u,o):e.eventCache.getNode().hasChild(h)?d=t.filter.updateChild(c,h,Ne.EMPTY_NODE,gt(n),u,o):d=c,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=hm(r,$a(e)),a.isLeafNode()&&(d=t.filter.updateFullNode(d,a,o)))}return a=e.serverCache.isFullyInitialized()||pm(r,et())!=null,Gf(e,d,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new kS(r.getIndex()),o=C9(r);this.processor_=rW(o);const a=n.serverCache,u=n.eventCache,c=i.updateFullNode(Ne.EMPTY_NODE,a.getNode(),null),d=o.updateFullNode(Ne.EMPTY_NODE,u.getNode(),null),h=new ks(c,a.isFullyInitialized(),i.filtersNodes()),v=new ks(d,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ag(v,h),this.eventGenerator_=new L9(this.query_)}get query(){return this.query_}}function dW(t){return t.viewCache_.serverCache.getNode()}function hW(t){return dm(t.viewCache_)}function pW(t,e){const n=$a(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!He(e)&&!n.getImmediateChild(ze(e)).isEmpty())?n.getChild(e):null}function QR(t){return t.eventRegistrations_.length===0}function mW(t,e){t.eventRegistrations_.push(e)}function eP(t,e,n){const r=[];if(n){oe(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(n,i);a&&r.push(a)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const a=t.eventRegistrations_[o];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function tP(t,e,n,r){e.type===yi.MERGE&&e.source.queryId!==null&&(oe($a(t.viewCache_),"We should always have a full cache before handling merges"),oe(dm(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=oW(t.processor_,i,e,n,r);return iW(t.processor_,o.viewCache),oe(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,iU(t,o.changes,o.viewCache.eventCache.getNode(),null)}function gW(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(St,(o,a)=>{r.push(Iu(o,a))}),n.isFullyInitialized()&&r.push(Y2(n.getNode())),iU(t,r,n.getNode(),e)}function iU(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return U9(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm;class oU{constructor(){this.views=new Map}}function vW(t){oe(!gm,"__referenceConstructor has already been defined"),gm=t}function yW(){return oe(gm,"Reference.ts has not been loaded"),gm}function _W(t){return t.views.size===0}function VS(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return oe(o!=null,"SyncTree gave us an op for an invalid query."),tP(o,e,n,r)}else{let o=[];for(const a of t.views.values())o=o.concat(tP(a,e,n,r));return o}}function sU(t,e,n,r,i){const o=e._queryIdentifier,a=t.views.get(o);if(!a){let u=hm(n,i?r:null),c=!1;u?c=!0:r instanceof Ne?(u=US(n,r),c=!1):(u=Ne.EMPTY_NODE,c=!1);const d=Ag(new ks(u,c,!1),new ks(r,i,!1));return new fW(e,d)}return a}function bW(t,e,n,r,i,o){const a=sU(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),mW(a,n),gW(a,n)}function TW(t,e,n,r){const i=e._queryIdentifier,o=[];let a=[];const u=Os(t);if(i==="default")for(const[c,d]of t.views.entries())a=a.concat(eP(d,n,r)),QR(d)&&(t.views.delete(c),d.query._queryParams.loadsAllData()||o.push(d.query));else{const c=t.views.get(i);c&&(a=a.concat(eP(c,n,r)),QR(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return u&&!Os(t)&&o.push(new(yW())(e._repo,e._path)),{removed:o,events:a}}function aU(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ws(t,e){let n=null;for(const r of t.views.values())n=n||pW(r,e);return n}function lU(t,e){if(e._queryParams.loadsAllData())return Rg(t);{const r=e._queryIdentifier;return t.views.get(r)}}function uU(t,e){return lU(t,e)!=null}function Os(t){return Rg(t)!=null}function Rg(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm;function EW(t){oe(!vm,"__referenceConstructor has already been defined"),vm=t}function SW(){return oe(vm,"Reference.ts has not been loaded"),vm}let wW=1;class nP{constructor(e){this.listenProvider_=e,this.syncPointTree_=new bt(null),this.pendingWriteTree_=Q9(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qS(t,e,n,r,i){return q9(t.pendingWriteTree_,e,n,r,i),i?Qu(t,new qa(OS(),e,n)):[]}function CW(t,e,n,r){$9(t.pendingWriteTree_,e,n,r);const i=bt.fromObject(n);return Qu(t,new Ru(OS(),e,i))}function bs(t,e,n=!1){const r=z9(t.pendingWriteTree_,e);if(H9(t.pendingWriteTree_,e)){let o=new bt(null);return r.snap!=null?o=o.set(et(),!0):vn(r.children,a=>{o=o.set(new it(a),!0)}),Qu(t,new fm(r.path,o,n))}else return[]}function $d(t,e,n){return Qu(t,new qa(DS(),e,n))}function xW(t,e,n){const r=bt.fromObject(n);return Qu(t,new Ru(DS(),e,r))}function AW(t,e){return Qu(t,new hd(DS(),e))}function IW(t,e,n){const r=$S(t,n);if(r){const i=zS(r),o=i.path,a=i.queryId,u=jn(o,e),c=new hd(LS(a),u);return HS(t,o,c)}else return[]}function ym(t,e,n,r,i=!1){const o=e._path,a=t.syncPointTree_.get(o);let u=[];if(a&&(e._queryIdentifier==="default"||uU(a,e))){const c=TW(a,e,n,r);_W(a)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const d=c.removed;if(u=c.events,!i){const h=d.findIndex(_=>_._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(o,(_,T)=>Os(T));if(h&&!v){const _=t.syncPointTree_.subtree(o);if(!_.isEmpty()){const T=NW(_);for(let E=0;E<T.length;++E){const S=T[E],w=S.query,x=hU(t,S);t.listenProvider_.startListening(Wf(w),pd(t,w),x.hashFn,x.onComplete)}}}!v&&d.length>0&&!r&&(h?t.listenProvider_.stopListening(Wf(e),null):d.forEach(_=>{const T=t.queryToTagMap.get(Ng(_));t.listenProvider_.stopListening(Wf(_),T)}))}MW(t,d)}return u}function cU(t,e,n,r){const i=$S(t,r);if(i!=null){const o=zS(i),a=o.path,u=o.queryId,c=jn(a,e),d=new qa(LS(u),c,n);return HS(t,a,d)}else return[]}function RW(t,e,n,r){const i=$S(t,r);if(i){const o=zS(i),a=o.path,u=o.queryId,c=jn(a,e),d=bt.fromObject(n),h=new Ru(LS(u),c,d);return HS(t,a,h)}else return[]}function xT(t,e,n,r=!1){const i=e._path;let o=null,a=!1;t.syncPointTree_.foreachOnPath(i,(_,T)=>{const E=jn(_,i);o=o||ws(T,E),a=a||Os(T)});let u=t.syncPointTree_.get(i);u?(a=a||Os(u),o=o||ws(u,et())):(u=new oU,t.syncPointTree_=t.syncPointTree_.set(i,u));let c;o!=null?c=!0:(c=!1,o=Ne.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((T,E)=>{const S=ws(E,et());S&&(o=o.updateImmediateChild(T,S))}));const d=uU(u,e);if(!d&&!e._queryParams.loadsAllData()){const _=Ng(e);oe(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const T=kW();t.queryToTagMap.set(_,T),t.tagToQueryMap.set(T,_)}const h=Ig(t.pendingWriteTree_,i);let v=bW(u,e,n,h,o,c);if(!d&&!a&&!r){const _=lU(u,e);v=v.concat(OW(t,e,_))}return v}function Pg(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(a,u)=>{const c=jn(a,e),d=ws(u,c);if(d)return d});return Q2(i,e,o,n,!0)}function PW(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(d,h)=>{const v=jn(d,n);r=r||ws(h,v)});let i=t.syncPointTree_.get(n);i?r=r||ws(i,et()):(i=new oU,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,a=o?new ks(r,!0,!1):null,u=Ig(t.pendingWriteTree_,e._path),c=sU(i,e,u,o?a.getNode():Ne.EMPTY_NODE,o);return hW(c)}function Qu(t,e){return fU(e,t.syncPointTree_,null,Ig(t.pendingWriteTree_,et()))}function fU(t,e,n,r){if(He(t.path))return dU(t,e,n,r);{const i=e.get(et());n==null&&i!=null&&(n=ws(i,et()));let o=[];const a=ze(t.path),u=t.operationForChild(a),c=e.children.get(a);if(c&&u){const d=n?n.getImmediateChild(a):null,h=eU(r,a);o=o.concat(fU(u,c,d,h))}return i&&(o=o.concat(VS(i,t,r,n))),o}}function dU(t,e,n,r){const i=e.get(et());n==null&&i!=null&&(n=ws(i,et()));let o=[];return e.children.inorderTraversal((a,u)=>{const c=n?n.getImmediateChild(a):null,d=eU(r,a),h=t.operationForChild(a);h&&(o=o.concat(dU(h,u,c,d)))}),i&&(o=o.concat(VS(i,t,r,n))),o}function hU(t,e){const n=e.query,r=pd(t,n);return{hashFn:()=>(dW(e)||Ne.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?IW(t,n._path,r):AW(t,n._path);{const o=Cj(i,n);return ym(t,n,null,o)}}}}function pd(t,e){const n=Ng(e);return t.queryToTagMap.get(n)}function Ng(t){return t._path.toString()+"$"+t._queryIdentifier}function $S(t,e){return t.tagToQueryMap.get(e)}function zS(t){const e=t.indexOf("$");return oe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new it(t.substr(0,e))}}function HS(t,e,n){const r=t.syncPointTree_.get(e);oe(r,"Missing sync point for query tag that we're tracking");const i=Ig(t.pendingWriteTree_,e);return VS(r,n,i,null)}function NW(t){return t.fold((e,n,r)=>{if(n&&Os(n))return[Rg(n)];{let i=[];return n&&(i=aU(n)),vn(r,(o,a)=>{i=i.concat(a)}),i}})}function Wf(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(SW())(t._repo,t._path):t}function MW(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Ng(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function kW(){return wW++}function OW(t,e,n){const r=e._path,i=pd(t,e),o=hU(t,n),a=t.listenProvider_.startListening(Wf(e),i,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(r);if(i)oe(!Os(u.value),"If we're adding a query, it shouldn't be shadowed");else{const c=u.fold((d,h,v)=>{if(!He(d)&&h&&Os(h))return[Rg(h).query];{let _=[];return h&&(_=_.concat(aU(h).map(T=>T.query))),vn(v,(T,E)=>{_=_.concat(E)}),_}});for(let d=0;d<c.length;++d){const h=c[d];t.listenProvider_.stopListening(Wf(h),pd(t,h))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new GS(n)}node(){return this.node_}}class jS{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Pt(this.path_,e);return new jS(this.syncTree_,n)}node(){return Pg(this.syncTree_,this.path_)}}const DW=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},rP=function(t,e,n){if(!t||typeof t!="object")return t;if(oe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return LW(t[".sv"],e,n);if(typeof t[".sv"]=="object")return UW(t[".sv"],e);oe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},LW=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:oe(!1,"Unexpected server value: "+t)}},UW=function(t,e,n){t.hasOwnProperty("increment")||oe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&oe(!1,"Unexpected increment value: "+r);const i=e.node();if(oe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return typeof a!="number"?r:a+r},pU=function(t,e,n,r){return KS(e,new jS(n,t),r)},WS=function(t,e,n){return KS(t,new GS(e),n)};function KS(t,e,n){const r=t.getPriority().val(),i=rP(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const a=t,u=rP(a.getValue(),e,n);return u!==a.getValue()||i!==a.getPriority().val()?new fn(u,kt(i)):t}else{const a=t;return o=a,i!==a.getPriority().val()&&(o=o.updatePriority(new fn(i))),a.forEachChild(St,(u,c)=>{const d=KS(c,e.getImmediateChild(u),n);d!==c&&(o=o.updateImmediateChild(u,d))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Mg(t,e){let n=e instanceof it?e:new it(e),r=t,i=ze(n);for(;i!==null;){const o=Ua(r.node.children,i)||{children:{},childCount:0};r=new YS(i,r,o),n=gt(n),i=ze(n)}return r}function il(t){return t.node.value}function JS(t,e){t.node.value=e,AT(t)}function mU(t){return t.node.childCount>0}function BW(t){return il(t)===void 0&&!mU(t)}function kg(t,e){vn(t.node.children,(n,r)=>{e(new YS(n,t,r))})}function gU(t,e,n,r){n&&e(t),kg(t,i=>{gU(i,e,!0)})}function FW(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function zd(t){return new it(t.parent===null?t.name:zd(t.parent)+"/"+t.name)}function AT(t){t.parent!==null&&VW(t.parent,t.name,t)}function VW(t,e,n){const r=BW(n),i=Rr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,AT(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,AT(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW=/[\[\].#$\/\u0000-\u001F\u007F]/,$W=/[\[\].#$\u0000-\u001F\u007F]/,p0=10*1024*1024,Og=function(t){return typeof t=="string"&&t.length!==0&&!qW.test(t)},vU=function(t){return typeof t=="string"&&t.length!==0&&!$W.test(t)},zW=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),vU(t)},md=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Sg(t)||t&&typeof t=="object"&&Rr(t,".sv")},Hi=function(t,e,n,r){r&&e===void 0||Hd(ar(t,"value"),e,n)},Hd=function(t,e,n){const r=n instanceof it?new o9(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ga(r));if(typeof e=="function")throw new Error(t+"contains a function "+ga(r)+" with contents = "+e.toString());if(Sg(e))throw new Error(t+"contains "+e.toString()+" "+ga(r));if(typeof e=="string"&&e.length>p0/3&&dg(e)>p0)throw new Error(t+"contains a string greater than "+p0+" utf8 bytes "+ga(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(vn(e,(a,u)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!Og(a)))throw new Error(t+" contains an invalid key ("+a+") "+ga(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);s9(r,a),Hd(t,u,r),a9(r)}),i&&o)throw new Error(t+' contains ".value" child '+ga(r)+" in addition to actual children.")}},HW=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const o=ud(r);for(let a=0;a<o.length;a++)if(!(o[a]===".priority"&&a===o.length-1)){if(!Og(o[a]))throw new Error(t+"contains an invalid key ("+o[a]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(i9);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Yr(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},yU=function(t,e,n,r){const i=ar(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];vn(e,(a,u)=>{const c=new it(a);if(Hd(i,u,Pt(n,c)),AS(c)===".priority"&&!md(u))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),HW(i,o)},XS=function(t,e,n){if(Sg(e))throw new Error(ar(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!md(e))throw new Error(ar(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Gd=function(t,e,n,r){if(n!==void 0&&!Og(n))throw new Error(ar(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},gd=function(t,e,n,r){if(!vU(n))throw new Error(ar(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},GW=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gd(t,e,n)},Jr=function(t,e){if(ze(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},_U=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Og(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!zW(n))throw new Error(ar(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Dg(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!IS(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function bU(t,e,n){Dg(t,n),TU(t,r=>IS(r,e))}function Pr(t,e,n){Dg(t,n),TU(t,r=>Yr(r,e)||Yr(e,r))}function TU(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(WW(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function WW(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Pa&&mn("event: "+n.toString()),Xu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="repo_interrupt",KW=25;class YW{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cm(),this.transactionQueueTree_=new YS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JW(t,e,n){if(t.stats_=CS(t.repoInfo_),t.forceRestClient_||Rj())t.server_=new um(t.repoInfo_,(r,i,o,a)=>{iP(t,r,i,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>oP(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new To(t.repoInfo_,e,(r,i,o,a)=>{iP(t,r,i,o,a)},r=>{oP(t,r)},r=>{XW(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Oj(t.repoInfo_,()=>new D9(t.stats_,t.server_)),t.infoData_=new P9,t.infoSyncTree_=new nP({startListening:(r,i,o,a)=>{let u=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(u=$d(t.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),ZS(t,"connected",!1),t.serverSyncTree_=new nP({startListening:(r,i,o,a)=>(t.server_.listen(r,o,i,(u,c)=>{const d=a(u,c);Pr(t.eventQueue_,r._path,d)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function SU(t){const n=t.infoData_.getNode(new it(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function jd(t){return DW({timestamp:SU(t)})}function iP(t,e,n,r,i){t.dataUpdateCount++;const o=new it(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(i)if(r){const c=Zp(n,d=>kt(d));a=RW(t.serverSyncTree_,o,c,i)}else{const c=kt(n);a=cU(t.serverSyncTree_,o,c,i)}else if(r){const c=Zp(n,d=>kt(d));a=xW(t.serverSyncTree_,o,c)}else{const c=kt(n);a=$d(t.serverSyncTree_,o,c)}let u=o;a.length>0&&(u=Nu(t,o)),Pr(t.eventQueue_,u,a)}function oP(t,e){ZS(t,"connected",e),e===!1&&e7(t)}function XW(t,e){vn(e,(n,r)=>{ZS(t,n,r)})}function ZS(t,e,n){const r=new it("/.info/"+e),i=kt(n);t.infoData_.updateSnapshot(r,i);const o=$d(t.infoSyncTree_,r,i);Pr(t.eventQueue_,r,o)}function Lg(t){return t.nextWriteId_++}function ZW(t,e,n){const r=PW(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=kt(i).withIndex(e._queryParams.getIndex());xT(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=$d(t.serverSyncTree_,e._path,o);else{const u=pd(t.serverSyncTree_,e);a=cU(t.serverSyncTree_,e._path,o,u)}return Pr(t.eventQueue_,e._path,a),ym(t.serverSyncTree_,e,n,null,!0),o},i=>(ec(t,"get for query "+nn(e)+" failed: "+i),Promise.reject(new Error(i))))}function QS(t,e,n,r,i){ec(t,"set",{path:e.toString(),value:n,priority:r});const o=jd(t),a=kt(n,r),u=Pg(t.serverSyncTree_,e),c=WS(a,u,o),d=Lg(t),h=qS(t.serverSyncTree_,e,c,d,!0);Dg(t.eventQueue_,h),t.server_.put(e.toString(),a.val(!0),(_,T)=>{const E=_==="ok";E||Vn("set at "+e+" failed: "+_);const S=bs(t.serverSyncTree_,d,!E);Pr(t.eventQueue_,e,S),Ds(t,i,_,T)});const v=tw(t,e);Nu(t,v),Pr(t.eventQueue_,v,[])}function QW(t,e,n,r){ec(t,"update",{path:e.toString(),value:n});let i=!0;const o=jd(t),a={};if(vn(n,(u,c)=>{i=!1,a[u]=pU(Pt(e,u),kt(c),t.serverSyncTree_,o)}),i)mn("update() called with empty data.  Don't do anything."),Ds(t,r,"ok",void 0);else{const u=Lg(t),c=CW(t.serverSyncTree_,e,a,u);Dg(t.eventQueue_,c),t.server_.merge(e.toString(),n,(d,h)=>{const v=d==="ok";v||Vn("update at "+e+" failed: "+d);const _=bs(t.serverSyncTree_,u,!v),T=_.length>0?Nu(t,e):e;Pr(t.eventQueue_,T,_),Ds(t,r,d,h)}),vn(n,d=>{const h=tw(t,Pt(e,d));Nu(t,h)}),Pr(t.eventQueue_,e,[])}}function e7(t){ec(t,"onDisconnectEvents");const e=jd(t),n=cm();bT(t.onDisconnect_,et(),(i,o)=>{const a=pU(i,o,t.serverSyncTree_,e);Zu(n,i,a)});let r=[];bT(n,et(),(i,o)=>{r=r.concat($d(t.serverSyncTree_,i,o));const a=tw(t,i);Nu(t,a)}),t.onDisconnect_=cm(),Pr(t.eventQueue_,et(),r)}function t7(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&_T(t.onDisconnect_,e),Ds(t,n,r,i)})}function sP(t,e,n,r){const i=kt(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,a)=>{o==="ok"&&Zu(t.onDisconnect_,e,i),Ds(t,r,o,a)})}function n7(t,e,n,r,i){const o=kt(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(a,u)=>{a==="ok"&&Zu(t.onDisconnect_,e,o),Ds(t,i,a,u)})}function r7(t,e,n,r){if(Xp(n)){mn("onDisconnect().update() called with empty data.  Don't do anything."),Ds(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{i==="ok"&&vn(n,(a,u)=>{const c=kt(u);Zu(t.onDisconnect_,Pt(e,a),c)}),Ds(t,r,i,o)})}function i7(t,e,n){let r;ze(e._path)===".info"?r=xT(t.infoSyncTree_,e,n):r=xT(t.serverSyncTree_,e,n),bU(t.eventQueue_,e._path,r)}function IT(t,e,n){let r;ze(e._path)===".info"?r=ym(t.infoSyncTree_,e,n):r=ym(t.serverSyncTree_,e,n),bU(t.eventQueue_,e._path,r)}function wU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(EU)}function o7(t){t.persistentConnection_&&t.persistentConnection_.resume(EU)}function ec(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),mn(n,...e)}function Ds(t,e,n,r){e&&Xu(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const a=new Error(o);a.code=i,e(a)}})}function s7(t,e,n,r,i,o){ec(t,"transaction on "+e);const a={path:e,update:n,onComplete:r,status:null,order:_2(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=ew(t,e,void 0);a.currentInputSnapshot=u;const c=a.update(u.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Hd("transaction failed: Data returned ",c,a.path),a.status=0;const d=Mg(t.transactionQueueTree_,e),h=il(d)||[];h.push(a),JS(d,h);let v;typeof c=="object"&&c!==null&&Rr(c,".priority")?(v=Ua(c,".priority"),oe(md(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):v=(Pg(t.serverSyncTree_,e)||Ne.EMPTY_NODE).getPriority().val();const _=jd(t),T=kt(c,v),E=WS(T,u,_);a.currentOutputSnapshotRaw=T,a.currentOutputSnapshotResolved=E,a.currentWriteId=Lg(t);const S=qS(t.serverSyncTree_,e,E,a.currentWriteId,a.applyLocally);Pr(t.eventQueue_,e,S),Ug(t,t.transactionQueueTree_)}}function ew(t,e,n){return Pg(t.serverSyncTree_,e,n)||Ne.EMPTY_NODE}function Ug(t,e=t.transactionQueueTree_){if(e||Bg(t,e),il(e)){const n=xU(t,e);oe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&a7(t,zd(e),n)}else mU(e)&&kg(e,n=>{Ug(t,n)})}function a7(t,e,n){const r=n.map(d=>d.currentWriteId),i=ew(t,e,r);let o=i;const a=i.hash();for(let d=0;d<n.length;d++){const h=n[d];oe(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const v=jn(e,h.path);o=o.updateChild(v,h.currentOutputSnapshotRaw)}const u=o.val(!0),c=e;t.server_.put(c.toString(),u,d=>{ec(t,"transaction put response",{path:c.toString(),status:d});let h=[];if(d==="ok"){const v=[];for(let _=0;_<n.length;_++)n[_].status=2,h=h.concat(bs(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&v.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();Bg(t,Mg(t.transactionQueueTree_,e)),Ug(t,t.transactionQueueTree_),Pr(t.eventQueue_,e,h);for(let _=0;_<v.length;_++)Xu(v[_])}else{if(d==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{Vn("transaction at "+c.toString()+" failed: "+d);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=d}Nu(t,e)}},a)}function Nu(t,e){const n=CU(t,e),r=zd(n),i=xU(t,n);return l7(t,i,r),r}function l7(t,e,n){if(e.length===0)return;const r=[];let i=[];const a=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const c=e[u],d=jn(n,c.path);let h=!1,v;if(oe(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,v=c.abortReason,i=i.concat(bs(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=KW)h=!0,v="maxretry",i=i.concat(bs(t.serverSyncTree_,c.currentWriteId,!0));else{const _=ew(t,c.path,a);c.currentInputSnapshot=_;const T=e[u].update(_.val());if(T!==void 0){Hd("transaction failed: Data returned ",T,c.path);let E=kt(T);typeof T=="object"&&T!=null&&Rr(T,".priority")||(E=E.updatePriority(_.getPriority()));const w=c.currentWriteId,x=jd(t),N=WS(E,_,x);c.currentOutputSnapshotRaw=E,c.currentOutputSnapshotResolved=N,c.currentWriteId=Lg(t),a.splice(a.indexOf(w),1),i=i.concat(qS(t.serverSyncTree_,c.path,N,c.currentWriteId,c.applyLocally)),i=i.concat(bs(t.serverSyncTree_,w,!0))}else h=!0,v="nodata",i=i.concat(bs(t.serverSyncTree_,c.currentWriteId,!0))}Pr(t.eventQueue_,n,i),i=[],h&&(e[u].status=2,function(_){setTimeout(_,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(v==="nodata"?r.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):r.push(()=>e[u].onComplete(new Error(v),!1,null))))}Bg(t,t.transactionQueueTree_);for(let u=0;u<r.length;u++)Xu(r[u]);Ug(t,t.transactionQueueTree_)}function CU(t,e){let n,r=t.transactionQueueTree_;for(n=ze(e);n!==null&&il(r)===void 0;)r=Mg(r,n),e=gt(e),n=ze(e);return r}function xU(t,e){const n=[];return AU(t,e,n),n.sort((r,i)=>r.order-i.order),n}function AU(t,e,n){const r=il(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);kg(e,i=>{AU(t,i,n)})}function Bg(t,e){const n=il(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,JS(e,n.length>0?n:void 0)}kg(e,r=>{Bg(t,r)})}function tw(t,e){const n=zd(CU(t,e)),r=Mg(t.transactionQueueTree_,e);return FW(r,i=>{m0(t,i)}),m0(t,r),gU(r,i=>{m0(t,i)}),n}function m0(t,e){const n=il(e);if(n){const r=[];let i=[],o=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(oe(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(oe(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(bs(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?JS(e,void 0):n.length=o+1,Pr(t.eventQueue_,zd(e),i);for(let a=0;a<r.length;a++)Xu(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function c7(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Vn(`Invalid query segment '${n}' in query '${t}'`)}return e}const RT=function(t,e){const n=f7(t),r=n.namespace;n.domain==="firebase.com"&&zi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&zi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||bj();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new k2(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new it(n.pathString)}},f7=function(t){let e="",n="",r="",i="",o="",a=!0,u="https",c=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(u=t.substring(0,d-1),t=t.substring(d+2));let h=t.indexOf("/");h===-1&&(h=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(h,v)),h<v&&(i=u7(t.substring(h,v)));const _=c7(t.substring(Math.min(t.length,v)));d=e.indexOf(":"),d>=0?(a=u==="https"||u==="wss",c=parseInt(e.substring(d+1),10)):d=e.length;const T=e.slice(0,d);if(T.toLowerCase()==="localhost")n="localhost";else if(T.split(".").length<=2)n=T;else{const E=e.indexOf(".");r=e.substring(0,E).toLowerCase(),n=e.substring(E+1),o=r}"ns"in _&&(o=_.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",d7=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=aP.charAt(n%64),n=Math.floor(n/64);oe(n===0,"Cannot push at time == 0");let a=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=aP.charAt(e[i]);return oe(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+nn(this.snapshot.exportVal())}}class RU{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return oe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h7=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new ir;return t7(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Jr("OnDisconnect.remove",this._path);const e=new ir;return sP(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Jr("OnDisconnect.set",this._path),Hi("OnDisconnect.set",e,this._path,!1);const n=new ir;return sP(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Jr("OnDisconnect.setWithPriority",this._path),Hi("OnDisconnect.setWithPriority",e,this._path,!1),XS("OnDisconnect.setWithPriority",n);const r=new ir;return n7(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Jr("OnDisconnect.update",this._path),yU("OnDisconnect.update",e,this._path);const n=new ir;return r7(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return He(this._path)?null:AS(this._path)}get ref(){return new si(this._repo,this._path)}get _queryIdentifier(){const e=jR(this._queryParams),n=SS(e);return n==="{}"?"default":n}get _queryObject(){return jR(this._queryParams)}isEqual(e){if(e=xe(e),!(e instanceof ur))return!1;const n=this._repo===e._repo,r=IS(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+r9(this._path)}}function Fg(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function qs(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Bi){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ns)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Ao)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===St){if(e!=null&&!md(e)||n!=null&&!md(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(oe(t.getIndex()instanceof NS||t.getIndex()===MS,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Vg(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class si extends ur{constructor(e,n){super(e,n,new Cg,!1)}get parent(){const e=$2(this._path);return e===null?null:new si(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let qg=class PT{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new it(e),r=za(this.ref,e);return new PT(this._node.getChild(n),r,St)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new PT(i,za(this.ref,r),St)))}hasChild(e){const n=new it(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function PU(t,e){return t=xe(t),t._checkNotDeleted("ref"),e!==void 0?za(t._root,e):t._root}function lP(t,e){t=xe(t),t._checkNotDeleted("refFromURL");const n=RT(e,t._repo.repoInfo_.nodeAdmin);_U("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&zi("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),PU(t,n.path.toString())}function za(t,e){return t=xe(t),ze(t._path)===null?GW("child","path",e):gd("child","path",e),new si(t._repo,Pt(t._path,e))}function p7(t,e){t=xe(t),Jr("push",t._path),Hi("push",e,t._path,!0);const n=SU(t._repo),r=d7(n),i=za(t,r),o=za(t,r);let a;return e!=null?a=rw(o,e).then(()=>o):a=Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function m7(t){return Jr("remove",t._path),rw(t,null)}function rw(t,e){t=xe(t),Jr("set",t._path),Hi("set",e,t._path,!1);const n=new ir;return QS(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function g7(t,e){t=xe(t),Jr("setPriority",t._path),XS("setPriority",e);const n=new ir;return QS(t._repo,Pt(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function v7(t,e,n){if(Jr("setWithPriority",t._path),Hi("setWithPriority",e,t._path,!1),XS("setWithPriority",n),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new ir;return QS(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function y7(t,e){yU("update",e,t._path);const n=new ir;return QW(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function _7(t){t=xe(t);const e=new nw(()=>{}),n=new Wd(e);return ZW(t._repo,t,n).then(r=>new qg(r,new si(t._repo,t._path),t._queryParams.getIndex()))}class Wd{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new IU("value",this,new qg(e.snapshotNode,new si(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new RU(this,e,n):null}matches(e){return e instanceof Wd?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class $g{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new RU(this,e,n):null}createEvent(e,n){oe(e.childName!=null,"Child events should have a childName.");const r=za(new si(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new IU(e.type,this,new qg(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof $g?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Kd(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){const c=n,d=(h,v)=>{IT(t._repo,t,u),c(h,v)};d.userCallback=n.userCallback,d.context=n.context,n=d}const a=new nw(n,o||void 0),u=e==="value"?new Wd(a):new $g(e,a);return i7(t._repo,t,u),()=>IT(t._repo,t,u)}function NT(t,e,n,r){return Kd(t,"value",e,n,r)}function uP(t,e,n,r){return Kd(t,"child_added",e,n,r)}function cP(t,e,n,r){return Kd(t,"child_changed",e,n,r)}function fP(t,e,n,r){return Kd(t,"child_moved",e,n,r)}function dP(t,e,n,r){return Kd(t,"child_removed",e,n,r)}function hP(t,e,n){let r=null;const i=n?new nw(n):null;e==="value"?r=new Wd(i):e&&(r=new $g(e,i)),IT(t._repo,t,r)}class Ei{}class NU extends Ei{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Hi("endAt",this._value,e._path,!0);const n=yT(e._queryParams,this._value,this._key);if(Vg(n),qs(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ur(e._repo,e._path,n,e._orderByCalled)}}function b7(t,e){return Gd("endAt","key",e),new NU(t,e)}class T7 extends Ei{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Hi("endBefore",this._value,e._path,!1);const n=R9(e._queryParams,this._value,this._key);if(Vg(n),qs(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ur(e._repo,e._path,n,e._orderByCalled)}}function E7(t,e){return Gd("endBefore","key",e),new T7(t,e)}class MU extends Ei{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Hi("startAt",this._value,e._path,!0);const n=vT(e._queryParams,this._value,this._key);if(Vg(n),qs(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ur(e._repo,e._path,n,e._orderByCalled)}}function S7(t=null,e){return Gd("startAt","key",e),new MU(t,e)}class w7 extends Ei{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Hi("startAfter",this._value,e._path,!1);const n=I9(e._queryParams,this._value,this._key);if(Vg(n),qs(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ur(e._repo,e._path,n,e._orderByCalled)}}function C7(t,e){return Gd("startAfter","key",e),new w7(t,e)}class x7 extends Ei{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ur(e._repo,e._path,x9(e._queryParams,this._limit),e._orderByCalled)}}function A7(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new x7(t)}class I7 extends Ei{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ur(e._repo,e._path,A9(e._queryParams,this._limit),e._orderByCalled)}}function R7(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new I7(t)}class P7 extends Ei{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Fg(e,"orderByChild");const n=new it(this._path);if(He(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new NS(n),i=xg(e._queryParams,r);return qs(i),new ur(e._repo,e._path,i,!0)}}function N7(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return gd("orderByChild","path",t),new P7(t)}class M7 extends Ei{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Fg(e,"orderByKey");const n=xg(e._queryParams,Bi);return qs(n),new ur(e._repo,e._path,n,!0)}}function k7(){return new M7}class O7 extends Ei{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){Fg(e,"orderByPriority");const n=xg(e._queryParams,St);return qs(n),new ur(e._repo,e._path,n,!0)}}function D7(){return new O7}class L7 extends Ei{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){Fg(e,"orderByValue");const n=xg(e._queryParams,MS);return qs(n),new ur(e._repo,e._path,n,!0)}}function U7(){return new L7}class B7 extends Ei{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Hi("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new NU(this._value,this._key)._apply(new MU(this._value,this._key)._apply(e))}}function F7(t,e){return Gd("equalTo","key",e),new B7(t,e)}function hi(t,...e){let n=xe(t);for(const r of e)n=r._apply(n);return n}vW(si);EW(si);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7="FIREBASE_DATABASE_EMULATOR_HOST",MT={};let q7=!1;function $7(t,e,n,r){const i=e.lastIndexOf(":"),o=e.substring(0,i),a=Fs(o);t.repoInfo_=new k2(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function kU(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||zi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=RT(o,i),u=a.repoInfo,c,d;typeof process<"u"&&IR&&(d=IR[V7]),d?(c=!0,o=`http://${d}?ns=${u.namespace}`,a=RT(o,i),u=a.repoInfo):c=!a.repoInfo.secure;const h=i&&c?new gu(gu.OWNER):new Nj(t.name,t.options,e);_U("Invalid Firebase Database URL",a),He(a.path)||zi("Database URL must point to the root of a Firebase Database (not including a child path).");const v=H7(u,t,h,new Pj(t,n));return new G7(v,t)}function z7(t,e){const n=MT[e];(!n||n[t.key]!==t)&&zi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),wU(t),delete n[t.key]}function H7(t,e,n,r){let i=MT[e.name];i||(i={},MT[e.name]=i);let o=i[t.toURLString()];return o&&zi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new YW(t,q7,n,r),i[t.toURLString()]=o,o}let G7=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(JW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new si(this._repo,et())),this._rootInternal}_delete(){return this._rootInternal!==null&&(z7(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&zi("Cannot call "+e+" on a deleted database.")}};function OU(){Au.IS_TRANSPORT_INITIALIZED&&Vn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function j7(){OU(),_s.forceDisallow()}function W7(){OU(),Kr.forceDisallow(),_s.forceAllow()}function K7(t,e,n,r={}){t=xe(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Eu(r,o.repoInfo_.emulatorOptions))return;zi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&zi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new gu(gu.OWNER);else if(r.mockUserToken){const u=typeof r.mockUserToken=="string"?r.mockUserToken:QD(r.mockUserToken,t.app.options.projectId);a=new gu(u)}Fs(e)&&(KE(e),YE("Database",!0)),$7(o,i,r,a)}function Y7(t){t=xe(t),t._checkNotDeleted("goOffline"),wU(t._repo)}function J7(t){t=xe(t),t._checkNotDeleted("goOnline"),o7(t._repo)}function X7(t,e){T2(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t){v2(ko),Co(new lr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return kU(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),xr(RR,PR,t),xr(RR,PR,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7={".sv":"timestamp"};function eK(){return Q7}function tK(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nK=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function rK(t,e,n){var r;if(t=xe(t),Jr("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,o=new ir,a=(c,d,h)=>{let v=null;c?o.reject(c):(v=new qg(h,new si(t._repo,t._path),St),o.resolve(new nK(d,v)))},u=NT(t,()=>{});return s7(t._repo,t._path,e,a,u,i),o.promise}To.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};To.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Z7();const iK="@firebase/database-compat",oK="2.0.11";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK=new Nd("@firebase/database-compat"),DU=function(t){const e="FIREBASE WARNING: "+t;sK.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=function(t,e,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(ar(t,e)+"must be a boolean.")},lK=function(t,e,n){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ar(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e){this._delegate=e}cancel(e){Me("OnDisconnect.cancel",0,1,arguments.length),hn("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){Me("OnDisconnect.remove",0,1,arguments.length),hn("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){Me("OnDisconnect.set",1,2,arguments.length),hn("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Me("OnDisconnect.setWithPriority",2,3,arguments.length),hn("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if(Me("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,DU("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}hn("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return Me("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this._database=e,this._delegate=n}val(){return Me("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return Me("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return Me("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return Me("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return Me("DataSnapshot.child",0,1,arguments.length),e=String(e),gd("DataSnapshot.child","path",e),new Cs(this._database,this._delegate.child(e))}hasChild(e){return Me("DataSnapshot.hasChild",1,1,arguments.length),gd("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)}getPriority(){return Me("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return Me("DataSnapshot.forEach",1,1,arguments.length),hn("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Cs(this._database,n)))}hasChildren(){return Me("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return Me("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return Me("DataSnapshot.ref",0,0,arguments.length),new Ea(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class An{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;Me("Query.on",2,4,arguments.length),hn("Query.on","callback",n,!1);const a=An.getCancelAndContextArgs_("Query.on",r,i),u=(d,h)=>{n.call(a.context,new Cs(this.database,d),h)};u.userCallback=n,u.context=a.context;const c=(o=a.cancel)===null||o===void 0?void 0:o.bind(a.context);switch(e){case"value":return NT(this._delegate,u,c),n;case"child_added":return uP(this._delegate,u,c),n;case"child_removed":return dP(this._delegate,u,c),n;case"child_changed":return cP(this._delegate,u,c),n;case"child_moved":return fP(this._delegate,u,c),n;default:throw new Error(ar("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(Me("Query.off",0,3,arguments.length),lK("Query.off",e),hn("Query.off","callback",n,!0),JI("Query.off","context",r),n){const i=()=>{};i.userCallback=n,i.context=r,hP(this._delegate,e,i)}else hP(this._delegate,e)}get(){return _7(this._delegate).then(e=>new Cs(this.database,e))}once(e,n,r,i){Me("Query.once",1,4,arguments.length),hn("Query.once","callback",n,!0);const o=An.getCancelAndContextArgs_("Query.once",r,i),a=new ir,u=(d,h)=>{const v=new Cs(this.database,d);n&&n.call(o.context,v,h),a.resolve(v)};u.userCallback=n,u.context=o.context;const c=d=>{o.cancel&&o.cancel.call(o.context,d),a.reject(d)};switch(e){case"value":NT(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":uP(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":dP(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":cP(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":fP(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(ar("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(e){return Me("Query.limitToFirst",1,1,arguments.length),new An(this.database,hi(this._delegate,A7(e)))}limitToLast(e){return Me("Query.limitToLast",1,1,arguments.length),new An(this.database,hi(this._delegate,R7(e)))}orderByChild(e){return Me("Query.orderByChild",1,1,arguments.length),new An(this.database,hi(this._delegate,N7(e)))}orderByKey(){return Me("Query.orderByKey",0,0,arguments.length),new An(this.database,hi(this._delegate,k7()))}orderByPriority(){return Me("Query.orderByPriority",0,0,arguments.length),new An(this.database,hi(this._delegate,D7()))}orderByValue(){return Me("Query.orderByValue",0,0,arguments.length),new An(this.database,hi(this._delegate,U7()))}startAt(e=null,n){return Me("Query.startAt",0,2,arguments.length),new An(this.database,hi(this._delegate,S7(e,n)))}startAfter(e=null,n){return Me("Query.startAfter",0,2,arguments.length),new An(this.database,hi(this._delegate,C7(e,n)))}endAt(e=null,n){return Me("Query.endAt",0,2,arguments.length),new An(this.database,hi(this._delegate,b7(e,n)))}endBefore(e=null,n){return Me("Query.endBefore",0,2,arguments.length),new An(this.database,hi(this._delegate,E7(e,n)))}equalTo(e,n){return Me("Query.equalTo",1,2,arguments.length),new An(this.database,hi(this._delegate,F7(e,n)))}toString(){return Me("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return Me("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(Me("Query.isEqual",1,1,arguments.length),!(e instanceof An)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,hn(e,"cancel",i.cancel,!0),i.context=r,JI(e,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(ar(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new Ea(this.database,new si(this._delegate._repo,this._delegate._path))}}let Ea=class ou extends An{constructor(e,n){super(e,new ur(n._repo,n._path,new Cg,!1)),this.database=e,this._delegate=n}getKey(){return Me("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return Me("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new ou(this.database,za(this._delegate,e))}getParent(){Me("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ou(this.database,e):null}getRoot(){return Me("Reference.root",0,0,arguments.length),new ou(this.database,this._delegate.root)}set(e,n){Me("Reference.set",1,2,arguments.length),hn("Reference.set","onComplete",n,!0);const r=rw(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(Me("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,DU("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Jr("Reference.update",this._delegate._path),hn("Reference.update","onComplete",n,!0);const r=y7(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){Me("Reference.setWithPriority",2,3,arguments.length),hn("Reference.setWithPriority","onComplete",r,!0);const i=v7(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){Me("Reference.remove",0,1,arguments.length),hn("Reference.remove","onComplete",e,!0);const n=m7(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){Me("Reference.transaction",1,3,arguments.length),hn("Reference.transaction","transactionUpdate",e,!1),hn("Reference.transaction","onComplete",n,!0),aK("Reference.transaction","applyLocally",r);const i=rK(this._delegate,e,{applyLocally:r}).then(o=>new cK(o.committed,new Cs(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){Me("Reference.setPriority",1,2,arguments.length),hn("Reference.setPriority","onComplete",n,!0);const r=g7(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){Me("Reference.push",0,2,arguments.length),hn("Reference.push","onComplete",n,!0);const r=p7(this._delegate,e),i=r.then(a=>new ou(this.database,a));n&&i.then(()=>n(null),a=>n(a));const o=new ou(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return Jr("Reference.onDisconnect",this._delegate._path),new uK(new h7(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:j7,forceLongPolling:W7}}useEmulator(e,n,r={}){K7(this._delegate,e,n,r)}ref(e){if(Me("database.ref",0,1,arguments.length),e instanceof Ea){const n=lP(this._delegate,e.toString());return new Ea(this,n)}else{const n=PU(this._delegate,e);return new Ea(this,n)}}refFromURL(e){Me("database.refFromURL",1,1,arguments.length);const r=lP(this._delegate,e);return new Ea(this,r)}goOffline(){return Me("database.goOffline",0,0,arguments.length),Y7(this._delegate)}goOnline(){return Me("database.goOnline",0,0,arguments.length),J7(this._delegate)}}vd.ServerValue={TIMESTAMP:eK(),increment:t=>tK(t)};function fK({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:a=!1}){v2(n);const u=new XE("database-standalone"),c=new tT("auth-internal",u);c.setComponent(new lr("auth-internal",()=>r,"PRIVATE"));let d;return i&&(d=new tT("app-check-internal",u),d.setComponent(new lr("app-check-internal",()=>i,"PRIVATE"))),{instance:new vd(kU(t,c,d,e,a),t),namespace:o}}var dK=Object.freeze({__proto__:null,initStandalone:fK});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK=vd.ServerValue;function pK(t){t.INTERNAL.registerComponent(new lr("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new vd(i,r)},"PUBLIC").setServiceProps({Reference:Ea,Query:An,Database:vd,DataSnapshot:Cs,enableLogging:X7,INTERNAL:dK,ServerValue:hK}).setMultipleInstances(!0)),t.registerVersion(iK,oK)}pK(Wu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU="firebasestorage.googleapis.com",UU="storageBucket",mK=2*60*1e3,gK=10*60*1e3,vK=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt extends Kn{constructor(e,n,r=0){super(g0(e),`Firebase Storage: ${n} (${g0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return g0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function g0(t){return"storage/"+t}function iw(){const t="An unknown error occurred, please check the error payload for server response.";return new Dt(At.UNKNOWN,t)}function yK(t){return new Dt(At.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _K(t){return new Dt(At.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function bK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Dt(At.UNAUTHENTICATED,t)}function TK(){return new Dt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function EK(t){return new Dt(At.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function BU(){return new Dt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FU(){return new Dt(At.CANCELED,"User canceled the upload/download.")}function SK(t){return new Dt(At.INVALID_URL,"Invalid URL '"+t+"'.")}function wK(t){return new Dt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function CK(){return new Dt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+UU+"' property when initializing the app?")}function VU(){return new Dt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xK(){return new Dt(At.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function AK(){return new Dt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function IK(t){return new Dt(At.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vu(t){return new Dt(At.INVALID_ARGUMENT,t)}function qU(){return new Dt(At.APP_DELETED,"The Firebase app was deleted.")}function $U(t){return new Dt(At.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kf(t,e){return new Dt(At.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ef(t){throw new Dt(At.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(r.path==="")return r;throw wK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function d(k){k.path_=decodeURIComponent(k.path)}const h="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",T=new RegExp(`^https?://${v}/${h}/b/${i}/o${_}`,"i"),E={bucket:1,path:3},S=n===LU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",x=new RegExp(`^https?://${S}/${i}/${w}`,"i"),P=[{regex:u,indices:c,postModify:o},{regex:T,indices:E,postModify:d},{regex:x,indices:{bucket:1,path:2},postModify:d}];for(let k=0;k<P.length;k++){const M=P[k],L=M.regex.exec(e);if(L){const F=L[M.indices.bucket];let X=L[M.indices.path];X||(X=""),r=new Bn(F,X),M.postModify(r);break}}if(r==null)throw SK(e);return r}}class RK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(t,e,n){let r=1,i=null,o=null,a=!1,u=0;function c(){return u===2}let d=!1;function h(...w){d||(d=!0,e.apply(null,w))}function v(w){i=setTimeout(()=>{i=null,t(T,c())},w)}function _(){o&&clearTimeout(o)}function T(w,...x){if(d){_();return}if(w){_(),h.call(null,w,...x);return}if(c()||a){_(),h.call(null,w,...x);return}r<64&&(r*=2);let P;u===1?(u=2,P=0):P=(r+Math.random())*1e3,v(P)}let E=!1;function S(w){E||(E=!0,_(),!d&&(i!==null?(w||(u=2),clearTimeout(i),v(0)):w||(u=1)))}return v(0),o=setTimeout(()=>{a=!0,S(!0)},n),S}function NK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MK(t){return t!==void 0}function kK(t){return typeof t=="function"}function OK(t){return typeof t=="object"&&!Array.isArray(t)}function zg(t){return typeof t=="string"||t instanceof String}function pP(t){return ow()&&t instanceof Blob}function ow(){return typeof Blob<"u"}function kT(t,e,n,r){if(r<e)throw vu(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw vu(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function zU(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Na;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Na||(Na={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e,n,r,i,o,a,u,c,d,h,v,_=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=v,this.retry=_,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,S)=>{this.resolve_=E,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Sp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const u=o.getErrorCode()===Na.NO_ERROR,c=o.getStatus();if(!u||HU(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Na.ABORT;r(!1,new Sp(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Sp(d,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());MK(c)?o(c):o()}catch(c){a(c)}else if(u!==null){const c=iw();c.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,c)):a(c)}else if(i.canceled){const c=this.appDelete_?qU():FU();a(c)}else{const c=BU();a(c)}};this.canceled_?n(!1,new Sp(!1,null,!0)):this.backoffId_=PK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function LK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function UK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function FK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function VK(t,e,n,r,i,o,a=!0,u=!1){const c=zU(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return BK(h,e),LK(h,n),UK(h,o),FK(h,r),new DK(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $K(...t){const e=qK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ow())return new Blob(t);throw new Dt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(t){if(typeof atob>"u")throw IK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class v0{constructor(e,n){this.data=e,this.contentType=n||null}}function GU(t,e){switch(t){case Xr.RAW:return new v0(jU(e));case Xr.BASE64:case Xr.BASE64URL:return new v0(WU(t,e));case Xr.DATA_URL:return new v0(jK(e),WK(e))}throw iw()}function jU(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function GK(t){let e;try{e=decodeURIComponent(t)}catch{throw Kf(Xr.DATA_URL,"Malformed data URL.")}return jU(e)}function WU(t,e){switch(t){case Xr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Kf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Kf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=HK(e)}catch(i){throw i.message.includes("polyfill")?i:Kf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class KU{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Kf(Xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=KK(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function jK(t){const e=new KU(t);return e.base64?WU(Xr.BASE64,e.rest):GK(e.rest)}function WK(t){return new KU(t).contentType}function KK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){let r=0,i="";pP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(pP(this.data_)){const r=this.data_,i=zK(r,e,n);return i===null?null:new fo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new fo(r,!0)}}static getBlob(...e){if(ow()){const n=e.map(r=>r instanceof fo?r.data_:r);return new fo($K.apply(null,n))}else{const n=e.map(a=>zg(a)?GU(Xr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let u=0;u<a.length;u++)i[o++]=a[u]}),new fo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){let e;try{e=JSON.parse(t)}catch{return null}return OK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function JK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function YU(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XK(t,e){return e}class Hn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||XK}}let wp=null;function ZK(t){return!zg(t)||t.length<2?t:YU(t)}function Hg(){if(wp)return wp;const t=[];t.push(new Hn("bucket")),t.push(new Hn("generation")),t.push(new Hn("metageneration")),t.push(new Hn("name","fullPath",!0));function e(o,a){return ZK(a)}const n=new Hn("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new Hn("size");return i.xform=r,t.push(i),t.push(new Hn("timeCreated")),t.push(new Hn("updated")),t.push(new Hn("md5Hash",null,!0)),t.push(new Hn("cacheControl",null,!0)),t.push(new Hn("contentDisposition",null,!0)),t.push(new Hn("contentEncoding",null,!0)),t.push(new Hn("contentLanguage",null,!0)),t.push(new Hn("contentType",null,!0)),t.push(new Hn("metadata","customMetadata",!0)),wp=t,wp}function QK(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Bn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function eY(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return QK(r,t),r}function JU(t,e,n){const r=sw(e);return r===null?null:eY(t,r,n)}function tY(t,e,n,r){const i=sw(e);if(i===null||!zg(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(d=>{const h=t.bucket,v=t.fullPath,_="/b/"+a(h)+"/o/"+a(v),T=$s(_,n,r),E=zU({alt:"media",token:d});return T+E})[0]}function aw(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="prefixes",gP="items";function nY(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[mP])for(const i of n[mP]){const o=i.replace(/\/$/,""),a=t._makeStorageReference(new Bn(e,o));r.prefixes.push(a)}if(n[gP])for(const i of n[gP]){const o=t._makeStorageReference(new Bn(e,i.name));r.items.push(o)}return r}function rY(t,e,n){const r=sw(n);return r===null?null:nY(t,e,r)}class Lo{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t){if(!t)throw iw()}function Gg(t,e){function n(r,i){const o=JU(t,i,e);return Fi(o!==null),o}return n}function iY(t,e){function n(r,i){const o=rY(t,e,i);return Fi(o!==null),o}return n}function oY(t,e){function n(r,i){const o=JU(t,i,e);return Fi(o!==null),tY(o,i,t.host,t._protocol)}return n}function tc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=TK():i=bK():n.getStatus()===402?i=_K(t.bucket):n.getStatus()===403?i=EK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function jg(t){const e=tc(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=yK(t.path)),o.serverResponse=i.serverResponse,o}return n}function XU(t,e,n){const r=e.fullServerUrl(),i=$s(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,u=new Lo(i,o,Gg(t,n),a);return u.errorHandler=jg(e),u}function sY(t,e,n,r,i){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=e.bucketOnlyServerUrl(),u=$s(a,t.host,t._protocol),c="GET",d=t.maxOperationRetryTime,h=new Lo(u,c,iY(t,e.bucket),d);return h.urlParams=o,h.errorHandler=tc(e),h}function aY(t,e,n){const r=e.fullServerUrl(),i=$s(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,u=new Lo(i,o,oY(t,n),a);return u.errorHandler=jg(e),u}function lY(t,e,n,r){const i=e.fullServerUrl(),o=$s(i,t.host,t._protocol),a="PATCH",u=aw(n,r),c={"Content-Type":"application/json; charset=utf-8"},d=t.maxOperationRetryTime,h=new Lo(o,a,Gg(t,r),d);return h.headers=c,h.body=u,h.errorHandler=jg(e),h}function uY(t,e){const n=e.fullServerUrl(),r=$s(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function a(c,d){}const u=new Lo(r,i,a,o);return u.successCodes=[200,204],u.errorHandler=jg(e),u}function cY(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ZU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=cY(null,e)),r}function fY(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let P="";for(let k=0;k<2;k++)P=P+Math.random().toString().slice(2);return P}const c=u();a["Content-Type"]="multipart/related; boundary="+c;const d=ZU(e,r,i),h=aw(d,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,_=`\r
--`+c+"--",T=fo.getBlob(v,r,_);if(T===null)throw VU();const E={name:d.fullPath},S=$s(o,t.host,t._protocol),w="POST",x=t.maxUploadRetryTime,N=new Lo(S,w,Gg(t,n),x);return N.urlParams=E,N.headers=a,N.body=T.uploadData(),N.errorHandler=tc(e),N}class _m{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function lw(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Fi(!1)}return Fi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function dY(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a=ZU(e,r,i),u={name:a.fullPath},c=$s(o,t.host,t._protocol),d="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=aw(a,n),_=t.maxUploadRetryTime;function T(S){lw(S);let w;try{w=S.getResponseHeader("X-Goog-Upload-URL")}catch{Fi(!1)}return Fi(zg(w)),w}const E=new Lo(c,d,T,_);return E.urlParams=u,E.headers=h,E.body=v,E.errorHandler=tc(e),E}function hY(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function o(d){const h=lw(d,["active","final"]);let v=null;try{v=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Fi(!1)}v||Fi(!1);const _=Number(v);return Fi(!isNaN(_)),new _m(_,r.size(),h==="final")}const a="POST",u=t.maxUploadRetryTime,c=new Lo(n,a,o,u);return c.headers=i,c.errorHandler=tc(e),c}const vP=256*1024;function pY(t,e,n,r,i,o,a,u){const c=new _m(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw xK();const d=c.total-c.current;let h=d;i>0&&(h=Math.min(h,i));const v=c.current,_=v+h;let T="";h===0?T="finalize":d===h?T="upload, finalize":T="upload";const E={"X-Goog-Upload-Command":T,"X-Goog-Upload-Offset":`${c.current}`},S=r.slice(v,_);if(S===null)throw VU();function w(k,M){const L=lw(k,["active","final"]),F=c.current+h,X=r.size();let G;return L==="final"?G=Gg(e,o)(k,M):G=null,new _m(F,X,L==="final",G)}const x="POST",N=e.maxUploadRetryTime,P=new Lo(n,x,w,N);return P.headers=E,P.body=S.uploadData(),P.progressCallback=u||null,P.errorHandler=tc(t),P}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY={STATE_CHANGED:"state_changed"},Gn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function y0(t){switch(t){case"running":case"pausing":case"canceling":return Gn.RUNNING;case"paused":return Gn.PAUSED;case"success":return Gn.SUCCESS;case"canceled":return Gn.CANCELED;case"error":return Gn.ERROR;default:return Gn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e,n,r){if(kK(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class vY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Na.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Na.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Na.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw Ef("cannot .send() more than once");if(Fs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const a in o)o.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,o[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ef("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ef("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ef("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ef("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class yY extends vY{initXhr(){this.xhr_.responseType="text"}}function ki(){return new yY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Hg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(At.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(HU(i.status,[]))if(o)i=BU();else{this.sleepTime=Math.max(this.sleepTime*2,vK),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(At.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=dY(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ki,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=hY(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,ki,n,r);this._request=o,o.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=vP*this._chunkMultiplier,n=new _m(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let a;try{a=pY(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const u=this._ref.storage._makeRequest(a,ki,i,o,!1);this._request=u,u.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){vP*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=XU(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ki,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=fY(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ki,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=FU(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=y0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new gY(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(y0(this._state)){case Gn.SUCCESS:tu(this._resolve.bind(null,this.snapshot))();break;case Gn.CANCELED:case Gn.ERROR:const n=this._reject;tu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(y0(this._state)){case Gn.RUNNING:case Gn.PAUSED:e.next&&tu(e.next.bind(e,this.snapshot))();break;case Gn.SUCCESS:e.complete&&tu(e.complete.bind(e))();break;case Gn.CANCELED:case Gn.ERROR:e.error&&tu(e.error.bind(e,this._error))();break;default:e.error&&tu(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ha(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YU(this._location.path)}get storage(){return this._service}get parent(){const e=YK(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new Ha(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $U(e)}}function _Y(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new QU(t,new fo(e),n)}function bY(t){const e={prefixes:[],items:[]};return eB(t,e).then(()=>e)}async function eB(t,e,n){const i=await tB(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await eB(t,e,i.nextPageToken)}function tB(t,e){e!=null&&typeof e.maxResults=="number"&&kT("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=sY(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,ki)}function TY(t){t._throwIfRoot("getMetadata");const e=XU(t.storage,t._location,Hg());return t.storage.makeRequestWithTokens(e,ki)}function EY(t,e){t._throwIfRoot("updateMetadata");const n=lY(t.storage,t._location,e,Hg());return t.storage.makeRequestWithTokens(n,ki)}function SY(t){t._throwIfRoot("getDownloadURL");const e=aY(t.storage,t._location,Hg());return t.storage.makeRequestWithTokens(e,ki).then(n=>{if(n===null)throw AK();return n})}function wY(t){t._throwIfRoot("deleteObject");const e=uY(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ki)}function nB(t,e){const n=JK(t._location.path,e),r=new Bn(t._location.bucket,n);return new Ha(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CY(t){return/^[A-Za-z]+:\/\//.test(t)}function xY(t,e){return new Ha(t,e)}function rB(t,e){if(t instanceof uw){const n=t;if(n._bucket==null)throw CK();const r=new Ha(n,n._bucket);return e!=null?rB(r,e):r}else return e!==void 0?nB(t,e):t}function AY(t,e){if(e&&CY(e)){if(t instanceof uw)return xY(t,e);throw vu("To use ref(service, url), the first argument must be a Storage instance.")}else return rB(t,e)}function yP(t,e){const n=e==null?void 0:e[UU];return n==null?null:Bn.makeFromBucketSpec(n,t)}function IY(t,e,n,r={}){t.host=`${e}:${n}`;const i=Fs(e);i&&(KE(`https://${t.host}/b`),YE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:QD(o,t.app.options.projectId))}class uw{constructor(e,n,r,i,o,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=a,this._bucket=null,this._host=LU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mK,this._maxUploadRetryTime=gK,this._requests=new Set,i!=null?this._bucket=Bn.makeFromBucketSpec(i,this._host):this._bucket=yP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=yP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ha(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new RK(qU());{const a=VK(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const _P="@firebase/storage",bP="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RY="storage";function PY(t,e,n){return t=xe(t),_Y(t,e,n)}function NY(t){return t=xe(t),TY(t)}function MY(t,e){return t=xe(t),EY(t,e)}function kY(t,e){return t=xe(t),tB(t,e)}function OY(t){return t=xe(t),bY(t)}function DY(t){return t=xe(t),SY(t)}function LY(t){return t=xe(t),wY(t)}function TP(t,e){return t=xe(t),AY(t,e)}function UY(t,e){return nB(t,e)}function BY(t,e,n,r={}){IY(t,e,n,r)}function FY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new uw(n,r,i,e,ko)}function VY(){Co(new lr(RY,FY,"PUBLIC").setMultipleInstances(!0)),xr(_P,bP,""),xr(_P,bP,"esm2017")}VY();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Cp(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new Cp(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(typeof n=="function"?o=a=>n(new Cp(a,this,this._ref)):o={next:n.next?a=>n.next(new Cp(a,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class SP{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Eo(e,this._service))}get items(){return this._delegate.items.map(e=>new Eo(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=UY(this._delegate,e);return new Eo(n,this.storage)}get root(){return new Eo(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Eo(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new EP(PY(this._delegate,e,n),this)}putString(e,n=Xr.RAW,r){this._throwIfRoot("putString");const i=GU(n,e),o=Object.assign({},r);return o.contentType==null&&i.contentType!=null&&(o.contentType=i.contentType),new EP(new QU(this._delegate,new fo(i.data,!0),o),this)}listAll(){return OY(this._delegate).then(e=>new SP(e,this.storage))}list(e){return kY(this._delegate,e||void 0).then(n=>new SP(n,this.storage))}getMetadata(){return NY(this._delegate)}updateMetadata(e){return MY(this._delegate,e)}getDownloadURL(){return DY(this._delegate)}delete(){return this._throwIfRoot("delete"),LY(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw $U(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(wP(e))throw vu("ref() expected a child path but got a URL, use refFromURL instead.");return new Eo(TP(this._delegate,e),this)}refFromURL(e){if(!wP(e))throw vu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Bn.makeFromUrl(e,this._delegate.host)}catch{throw vu("refFromUrl() expected a valid full URL but got an invalid one.")}return new Eo(TP(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){BY(this._delegate,e,n,r)}}function wP(t){return/^[A-Za-z]+:\/\//.test(t)}const qY="@firebase/storage-compat",$Y="0.3.24";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zY="storage-compat";function HY(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new iB(n,r)}function GY(t){const e={TaskState:Gn,TaskEvent:mY,StringFormat:Xr,Storage:iB,Reference:Eo};t.INTERNAL.registerComponent(new lr(zY,HY,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(qY,$Y)}GY(Wu);const jY={0:"맑음 ☀️",1:"대체로 맑음 🌤️",2:"부분적 흐림 🌥️",3:"흐림 ☁️",45:"안개 🌫️",48:"서리 안개 🌫️",51:"이슬비 (약) 💧",53:"이슬비 💧",55:"이슬비 (강) 💧",61:"비 (약) 🌧️",63:"비 🌧️",65:"비 (강) 🌧️",71:"눈 (약) 🌨️",73:"눈 🌨️",75:"눈 (강) 🌨️",80:"소나기 (약) 🌦️",81:"소나기 🌦️",82:"소나기 (강) 🌦️",95:"뇌우 ⛈️"},WY=50,KY=20,CP=10,xP=5,OT=t=>100+(t-1)*50,bm=[{id:"lettuce",name:"상추",emoji:"🥬",unlockLevel:1,description:"가장 키우기 쉬운 기본 작물입니다. 기본부터 차근차근!",harvestTime:"약 30일"},{id:"tomato",name:"토마토",emoji:"🍅",unlockLevel:2,description:"조금 더 까다로운 토마토에 도전해보세요. 온도 관리가 중요합니다.",harvestTime:"약 60일"},{id:"strawberry",name:"딸기",emoji:"🍓",unlockLevel:4,description:"섬세한 물 조절이 필요한 딸기! 코딩 실력이 늘고 있군요.",harvestTime:"약 45일"},{id:"bell_pepper",name:"파프리카",emoji:"🫑",unlockLevel:6,description:"온습도와 물주기, 둘 다 잡아야 하는 상급 작물입니다.",harvestTime:"약 75일"},{id:"ginseng",name:"산삼",emoji:"👑",unlockLevel:10,description:"스마트팜의 마스터! 모든 조건을 이해하고 제어할 수 있습니다.",harvestTime:"약 120일"}],oB=[{id:"nutrient_pack_1",name:"영양제 팩",emoji:"💊",description:"작물에게 영양을 공급하여 즉시 25 XP를 얻습니다.",price:30,effect:{type:"INSTANT_XP",value:25}},{id:"super_nutrient_1",name:"슈퍼 영양제",emoji:"✨",description:"다음 3번의 도전과제 완료 시 2배의 경험치를 얻습니다.",price:50,effect:{type:"XP_BOOST",value:2,duration:3}},{id:"xp_large",name:"농축 성장 촉진제",emoji:"🧪",description:"엄청난 영양분으로 즉시 100 XP를 얻습니다. 레벨업이 눈앞에!",price:100,effect:{type:"INSTANT_XP",value:100}}],sB=[{id:"real_nutrient_1",name:"프리미엄 식물 영양제",emoji:"🌿",description:"모든 성장 단계의 식물에 필수적인 미량 원소를 공급하는 고농축 영양제입니다. 수확량을 증대시킵니다.",image:"https://images.unsplash.com/photo-1587334274328-64186a80a5ba?q=80&w=400&auto=format&fit=crop",price:"₩5,000",coinPrice:450},{id:"real_ph_kit_1",name:"토양 pH 테스트 키트",emoji:"🧪",description:"정확한 토양 산성도(pH)를 측정하여 작물이 영양분을 최적으로 흡수할 수 있는 환경을 만드세요.",image:"https://images.unsplash.com/photo-1629162984136-abd302451f2a?q=80&w=400&auto=format&fit=crop",price:"₩8,000",coinPrice:700},{id:"real_led_1",name:"식물 성장용 LED 전구",emoji:"💡",description:"태양광과 유사한 풀 스펙트럼을 제공하여 실내에서도 식물의 건강한 성장을 촉진합니다.",image:"https://images.unsplash.com/photo-1621383713831-4182b8137357?q=80&w=400&auto=format&fit=crop",price:"₩12,000",coinPrice:1e3}],YY={level:1,xp:0,coins:20,lastCheckIn:"",unlockedCrops:["lettuce"],currentCrop:null,hasSelectedInitialCrop:!1,activeBoosts:{}},JY=[{id:1,title:"첫걸음: LED 켜기",desc:"LED를 켜는 블록을 조립하고 실행해보세요.",check:t=>t.led_status==="ON"},{id:2,title:"물주기 자동화",desc:"토양 습도가 400 미만일 때 펌프를 켜는 코드를 만드세요. (값이 낮을수록 습함)",check:t=>(t.soil_moisture??500)<400&&t.pump_status==="ON"},{id:3,title:"고온 대처",desc:"온도가 30도 이상일 때 LED를 꺼서 열 발생을 줄여보세요.",check:t=>(t.temperature??0)>30&&t.led_status==="OFF"},{id:4,title:"저온 대비",desc:"온도가 15도 미만으로 떨어졌습니다. LED를 켜서 작물을 따뜻하게 보호하세요.",check:t=>(t.temperature??20)<15&&t.led_status==="ON"},{id:5,title:"물 절약하기",desc:"토양이 충분히 젖어있습니다 (토양 습도 300 미만). 펌프를 꺼서 물을 절약하세요.",check:t=>(t.soil_moisture??500)<300&&t.pump_status==="OFF"},{id:6,title:"가뭄 대책",desc:"토양이 매우 건조합니다 (토양 습도 800 이상). 즉시 펌프를 켜서 물을 공급하세요.",check:t=>(t.soil_moisture??0)>800&&t.pump_status==="ON"},{id:7,title:"에너지 절약",desc:"농장이 충분히 따뜻합니다 (온도 25도 이상). LED를 꺼서 에너지를 절약하세요.",check:t=>(t.temperature??0)>25&&t.led_status==="OFF"},{id:8,title:"종합 관리",desc:"고온 건조한 상태입니다 (온도 28도 이상, 토양 습도 700 이상). LED를 끄고 펌프를 켜세요.",check:t=>(t.temperature??0)>28&&(t.soil_moisture??0)>700&&t.led_status==="OFF"&&t.pump_status==="ON"}],XY={apiKey:"YOUR_API_KEY"};var Qe;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const a of i)o[a]=a;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),a={};for(const u of o)a[u]=i[u];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&o.push(a);return o},t.find=(i,o)=>{for(const a of i)if(o(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Qe||(Qe={}));var AP;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(AP||(AP={}));const ge=Qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ms=t=>{switch(typeof t){case"undefined":return ge.undefined;case"string":return ge.string;case"number":return Number.isNaN(t)?ge.nan:ge.number;case"boolean":return ge.boolean;case"function":return ge.function;case"bigint":return ge.bigint;case"symbol":return ge.symbol;case"object":return Array.isArray(t)?ge.array:t===null?ge.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ge.promise:typeof Map<"u"&&t instanceof Map?ge.map:typeof Set<"u"&&t instanceof Set?ge.set:typeof Date<"u"&&t instanceof Date?ge.date:ge.object;default:return ge.unknown}},se=Qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Io extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let u=r,c=0;for(;c<a.path.length;){const d=a.path[c];c===a.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(n(a))):u[d]=u[d]||{_errors:[]},u=u[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof Io))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const o=i.path[0];n[o]=n[o]||[],n[o].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Io.create=t=>new Io(t);const DT=(t,e)=>{let n;switch(t.code){case se.invalid_type:t.received===ge.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case se.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Qe.jsonStringifyReplacer)}`;break;case se.unrecognized_keys:n=`Unrecognized key(s) in object: ${Qe.joinValues(t.keys,", ")}`;break;case se.invalid_union:n="Invalid input";break;case se.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Qe.joinValues(t.options)}`;break;case se.invalid_enum_value:n=`Invalid enum value. Expected ${Qe.joinValues(t.options)}, received '${t.received}'`;break;case se.invalid_arguments:n="Invalid function arguments";break;case se.invalid_return_type:n="Invalid function return type";break;case se.invalid_date:n="Invalid date";break;case se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Qe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case se.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case se.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case se.custom:n="Invalid input";break;case se.invalid_intersection_types:n="Intersection results could not be merged";break;case se.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case se.not_finite:n="Number must be finite";break;default:n=e.defaultError,Qe.assertNever(t)}return{message:n}};let ZY=DT;function QY(){return ZY}const eJ=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],a={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let u="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)u=d(a,{data:e,defaultError:u}).message;return{...i,path:o,message:u}};function de(t,e){const n=QY(),r=eJ({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===DT?void 0:DT].filter(i=>!!i)});t.common.issues.push(r)}class Yn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Be;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,a=await i.value;r.push({key:o,value:a})}return Yn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:a}=i;if(o.status==="aborted"||a.status==="aborted")return Be;o.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[o.value]=a.value)}return{status:e.value,value:r}}}const Be=Object.freeze({status:"aborted"}),Of=t=>({status:"dirty",value:t}),ai=t=>({status:"valid",value:t}),IP=t=>t.status==="aborted",RP=t=>t.status==="dirty",Mu=t=>t.status==="valid",Tm=t=>typeof Promise<"u"&&t instanceof Promise;var ye;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ye||(ye={}));class Gi{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const PP=(t,e)=>{if(Mu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Io(t.common.issues);return this._error=n,this._error}}};function qe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,u)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??r??u.defaultError}:a.code!=="invalid_type"?{message:u.defaultError}:{message:c??n??u.defaultError}},description:i}}class Ye{get description(){return this._def.description}_getType(e){return ms(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ms(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Yn,ctx:{common:e.parent.common,data:e.data,parsedType:ms(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Tm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ms(e)},i=this._parseSync({data:e,path:r.path,parent:r});return PP(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ms(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return Mu(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>Mu(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ms(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(Tm(i)?i:Promise.resolve(i));return PP(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const a=e(i),u=()=>o.addIssue({code:se.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(u(),!1)):a?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Du({schema:this,typeName:Ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return xs.create(this,this._def)}nullable(){return Lu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Vi.create(this)}promise(){return xm.create(this,this._def)}or(e){return Sm.create([this,e],this._def)}and(e){return wm.create(this,e,this._def)}transform(e){return new Du({...qe(this._def),schema:this,typeName:Ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new FT({...qe(this._def),innerType:this,defaultValue:n,typeName:Ue.ZodDefault})}brand(){return new SJ({typeName:Ue.ZodBranded,type:this,...qe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new VT({...qe(this._def),innerType:this,catchValue:n,typeName:Ue.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return cw.create(this,e)}readonly(){return qT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tJ=/^c[^\s-]{8,}$/i,nJ=/^[0-9a-z]+$/,rJ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iJ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oJ=/^[a-z0-9_-]{21}$/i,sJ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,aJ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lJ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,uJ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _0;const cJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dJ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,hJ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pJ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mJ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gJ=new RegExp(`^${aB}$`);function lB(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function vJ(t){return new RegExp(`^${lB(t)}$`)}function yJ(t){let e=`${aB}T${lB(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function _J(t,e){return!!((e==="v4"||!e)&&cJ.test(t)||(e==="v6"||!e)&&dJ.test(t))}function bJ(t,e){if(!sJ.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function TJ(t,e){return!!((e==="v4"||!e)&&fJ.test(t)||(e==="v6"||!e)&&hJ.test(t))}class Di extends Ye{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ge.string){const o=this._getOrReturnCtx(e);return de(o,{code:se.invalid_type,expected:ge.string,received:o.parsedType}),Be}const r=new Yn;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),de(i,{code:se.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),de(i,{code:se.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const a=e.data.length>o.value,u=e.data.length<o.value;(a||u)&&(i=this._getOrReturnCtx(e,i),a?de(i,{code:se.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&de(i,{code:se.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")lJ.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"email",code:se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")_0||(_0=new RegExp(uJ,"u")),_0.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"emoji",code:se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")iJ.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"uuid",code:se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")oJ.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"nanoid",code:se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")tJ.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"cuid",code:se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")nJ.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"cuid2",code:se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")rJ.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"ulid",code:se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),de(i,{validation:"url",code:se.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"regex",code:se.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),de(i,{code:se.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),de(i,{code:se.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),de(i,{code:se.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?yJ(o).test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{code:se.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?gJ.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{code:se.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?vJ(o).test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{code:se.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?aJ.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"duration",code:se.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?_J(e.data,o.version)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"ip",code:se.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?bJ(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"jwt",code:se.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?TJ(e.data,o.version)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"cidr",code:se.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?pJ.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"base64",code:se.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?mJ.test(e.data)||(i=this._getOrReturnCtx(e,i),de(i,{validation:"base64url",code:se.invalid_string,message:o.message}),r.dirty()):Qe.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:se.invalid_string,...ye.errToObj(r)})}_addCheck(e){return new Di({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ye.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ye.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ye.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ye.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ye.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ye.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ye.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ye.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ye.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ye.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ye.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ye.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ye.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ye.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ye.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ye.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ye.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ye.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ye.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ye.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ye.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ye.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ye.errToObj(n)})}nonempty(e){return this.min(1,ye.errToObj(e))}trim(){return new Di({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Di({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Di({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Di.create=t=>new Di({checks:[],typeName:Ue.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...qe(t)});function EJ(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return o%a/10**i}class Ga extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ge.number){const o=this._getOrReturnCtx(e);return de(o,{code:se.invalid_type,expected:ge.number,received:o.parsedType}),Be}let r;const i=new Yn;for(const o of this._def.checks)o.kind==="int"?Qe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:se.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:se.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:se.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?EJ(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),de(r,{code:se.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:se.not_finite,message:o.message}),i.dirty()):Qe.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ye.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ye.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ye.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ye.toString(n))}setLimit(e,n,r,i){return new Ga({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ye.toString(i)}]})}_addCheck(e){return new Ga({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ye.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ye.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ye.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ye.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ye.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Qe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ga.create=t=>new Ga({checks:[],typeName:Ue.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...qe(t)});class ja extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ge.bigint)return this._getInvalidInput(e);let r;const i=new Yn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:se.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:se.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),de(r,{code:se.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Qe.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return de(n,{code:se.invalid_type,expected:ge.bigint,received:n.parsedType}),Be}gte(e,n){return this.setLimit("min",e,!0,ye.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ye.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ye.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ye.toString(n))}setLimit(e,n,r,i){return new ja({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ye.toString(i)}]})}_addCheck(e){return new ja({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ja.create=t=>new ja({checks:[],typeName:Ue.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...qe(t)});class Em extends Ye{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ge.boolean){const r=this._getOrReturnCtx(e);return de(r,{code:se.invalid_type,expected:ge.boolean,received:r.parsedType}),Be}return ai(e.data)}}Em.create=t=>new Em({typeName:Ue.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...qe(t)});class ku extends Ye{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ge.date){const o=this._getOrReturnCtx(e);return de(o,{code:se.invalid_type,expected:ge.date,received:o.parsedType}),Be}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return de(o,{code:se.invalid_date}),Be}const r=new Yn;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),de(i,{code:se.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),de(i,{code:se.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Qe.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ku({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ye.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ye.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ku.create=t=>new ku({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ue.ZodDate,...qe(t)});class NP extends Ye{_parse(e){if(this._getType(e)!==ge.symbol){const r=this._getOrReturnCtx(e);return de(r,{code:se.invalid_type,expected:ge.symbol,received:r.parsedType}),Be}return ai(e.data)}}NP.create=t=>new NP({typeName:Ue.ZodSymbol,...qe(t)});class MP extends Ye{_parse(e){if(this._getType(e)!==ge.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:se.invalid_type,expected:ge.undefined,received:r.parsedType}),Be}return ai(e.data)}}MP.create=t=>new MP({typeName:Ue.ZodUndefined,...qe(t)});class kP extends Ye{_parse(e){if(this._getType(e)!==ge.null){const r=this._getOrReturnCtx(e);return de(r,{code:se.invalid_type,expected:ge.null,received:r.parsedType}),Be}return ai(e.data)}}kP.create=t=>new kP({typeName:Ue.ZodNull,...qe(t)});class OP extends Ye{constructor(){super(...arguments),this._any=!0}_parse(e){return ai(e.data)}}OP.create=t=>new OP({typeName:Ue.ZodAny,...qe(t)});class LT extends Ye{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ai(e.data)}}LT.create=t=>new LT({typeName:Ue.ZodUnknown,...qe(t)});class Ls extends Ye{_parse(e){const n=this._getOrReturnCtx(e);return de(n,{code:se.invalid_type,expected:ge.never,received:n.parsedType}),Be}}Ls.create=t=>new Ls({typeName:Ue.ZodNever,...qe(t)});class DP extends Ye{_parse(e){if(this._getType(e)!==ge.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:se.invalid_type,expected:ge.void,received:r.parsedType}),Be}return ai(e.data)}}DP.create=t=>new DP({typeName:Ue.ZodVoid,...qe(t)});class Vi extends Ye{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ge.array)return de(n,{code:se.invalid_type,expected:ge.array,received:n.parsedType}),Be;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,u=n.data.length<i.exactLength.value;(a||u)&&(de(n,{code:a?se.too_big:se.too_small,minimum:u?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(de(n,{code:se.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(de(n,{code:se.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,u)=>i.type._parseAsync(new Gi(n,a,n.path,u)))).then(a=>Yn.mergeArray(r,a));const o=[...n.data].map((a,u)=>i.type._parseSync(new Gi(n,a,n.path,u)));return Yn.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new Vi({...this._def,minLength:{value:e,message:ye.toString(n)}})}max(e,n){return new Vi({...this._def,maxLength:{value:e,message:ye.toString(n)}})}length(e,n){return new Vi({...this._def,exactLength:{value:e,message:ye.toString(n)}})}nonempty(e){return this.min(1,e)}}Vi.create=(t,e)=>new Vi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ue.ZodArray,...qe(e)});function su(t){if(t instanceof Jt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=xs.create(su(r))}return new Jt({...t._def,shape:()=>e})}else return t instanceof Vi?new Vi({...t._def,type:su(t.element)}):t instanceof xs?xs.create(su(t.unwrap())):t instanceof Lu?Lu.create(su(t.unwrap())):t instanceof Wa?Wa.create(t.items.map(e=>su(e))):t}class Jt extends Ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Qe.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ge.object){const d=this._getOrReturnCtx(e);return de(d,{code:se.invalid_type,expected:ge.object,received:d.parsedType}),Be}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ls&&this._def.unknownKeys==="strip"))for(const d in i.data)a.includes(d)||u.push(d);const c=[];for(const d of a){const h=o[d],v=i.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Gi(i,v,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Ls){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of u)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")u.length>0&&(de(i,{code:se.unrecognized_keys,keys:u}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of u){const v=i.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Gi(i,v,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of c){const v=await h.key,_=await h.value;d.push({key:v,value:_,alwaysSet:h.alwaysSet})}return d}).then(d=>Yn.mergeObjectSync(r,d)):Yn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return ye.errToObj,new Jt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,a;const i=((a=(o=this._def).errorMap)==null?void 0:a.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ye.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Jt({...this._def,unknownKeys:"strip"})}passthrough(){return new Jt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Jt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Jt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ue.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Jt({...this._def,catchall:e})}pick(e){const n={};for(const r of Qe.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Jt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Qe.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Jt({...this._def,shape:()=>n})}deepPartial(){return su(this)}partial(e){const n={};for(const r of Qe.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Jt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Qe.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof xs;)o=o._def.innerType;n[r]=o}return new Jt({...this._def,shape:()=>n})}keyof(){return uB(Qe.objectKeys(this.shape))}}Jt.create=(t,e)=>new Jt({shape:()=>t,unknownKeys:"strip",catchall:Ls.create(),typeName:Ue.ZodObject,...qe(e)});Jt.strictCreate=(t,e)=>new Jt({shape:()=>t,unknownKeys:"strict",catchall:Ls.create(),typeName:Ue.ZodObject,...qe(e)});Jt.lazycreate=(t,e)=>new Jt({shape:t,unknownKeys:"strip",catchall:Ls.create(),typeName:Ue.ZodObject,...qe(e)});class Sm extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const a=o.map(u=>new Io(u.ctx.common.issues));return de(n,{code:se.invalid_union,unionErrors:a}),Be}if(n.common.async)return Promise.all(r.map(async o=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let o;const a=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!o&&(o={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const u=a.map(c=>new Io(c));return de(n,{code:se.invalid_union,unionErrors:u}),Be}}get options(){return this._def.options}}Sm.create=(t,e)=>new Sm({options:t,typeName:Ue.ZodUnion,...qe(e)});function UT(t,e){const n=ms(t),r=ms(e);if(t===e)return{valid:!0,data:t};if(n===ge.object&&r===ge.object){const i=Qe.objectKeys(e),o=Qe.objectKeys(t).filter(u=>i.indexOf(u)!==-1),a={...t,...e};for(const u of o){const c=UT(t[u],e[u]);if(!c.valid)return{valid:!1};a[u]=c.data}return{valid:!0,data:a}}else if(n===ge.array&&r===ge.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const a=t[o],u=e[o],c=UT(a,u);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===ge.date&&r===ge.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class wm extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,a)=>{if(IP(o)||IP(a))return Be;const u=UT(o.value,a.value);return u.valid?((RP(o)||RP(a))&&n.dirty(),{status:n.value,value:u.data}):(de(r,{code:se.invalid_intersection_types}),Be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,a])=>i(o,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}wm.create=(t,e,n)=>new wm({left:t,right:e,typeName:Ue.ZodIntersection,...qe(n)});class Wa extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.array)return de(r,{code:se.invalid_type,expected:ge.array,received:r.parsedType}),Be;if(r.data.length<this._def.items.length)return de(r,{code:se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&r.data.length>this._def.items.length&&(de(r,{code:se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((a,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Gi(r,a,r.path,u)):null}).filter(a=>!!a);return r.common.async?Promise.all(o).then(a=>Yn.mergeArray(n,a)):Yn.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Wa({...this._def,rest:e})}}Wa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wa({items:t,typeName:Ue.ZodTuple,rest:null,...qe(e)})};class Cm extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.object)return de(r,{code:se.invalid_type,expected:ge.object,received:r.parsedType}),Be;const i=[],o=this._def.keyType,a=this._def.valueType;for(const u in r.data)i.push({key:o._parse(new Gi(r,u,r.path,u)),value:a._parse(new Gi(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?Yn.mergeObjectAsync(n,i):Yn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ye?new Cm({keyType:e,valueType:n,typeName:Ue.ZodRecord,...qe(r)}):new Cm({keyType:Di.create(),valueType:e,typeName:Ue.ZodRecord,...qe(n)})}}class LP extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.map)return de(r,{code:se.invalid_type,expected:ge.map,received:r.parsedType}),Be;const i=this._def.keyType,o=this._def.valueType,a=[...r.data.entries()].map(([u,c],d)=>({key:i._parse(new Gi(r,u,r.path,[d,"key"])),value:o._parse(new Gi(r,c,r.path,[d,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of a){const d=await c.key,h=await c.value;if(d.status==="aborted"||h.status==="aborted")return Be;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(d.value,h.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const c of a){const d=c.key,h=c.value;if(d.status==="aborted"||h.status==="aborted")return Be;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(d.value,h.value)}return{status:n.value,value:u}}}}LP.create=(t,e,n)=>new LP({valueType:e,keyType:t,typeName:Ue.ZodMap,...qe(n)});class yd extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.set)return de(r,{code:se.invalid_type,expected:ge.set,received:r.parsedType}),Be;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(de(r,{code:se.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(de(r,{code:se.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function a(c){const d=new Set;for(const h of c){if(h.status==="aborted")return Be;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const u=[...r.data.values()].map((c,d)=>o._parse(new Gi(r,c,r.path,d)));return r.common.async?Promise.all(u).then(c=>a(c)):a(u)}min(e,n){return new yd({...this._def,minSize:{value:e,message:ye.toString(n)}})}max(e,n){return new yd({...this._def,maxSize:{value:e,message:ye.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}yd.create=(t,e)=>new yd({valueType:t,minSize:null,maxSize:null,typeName:Ue.ZodSet,...qe(e)});class BT extends Ye{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}BT.create=(t,e)=>new BT({getter:t,typeName:Ue.ZodLazy,...qe(e)});class UP extends Ye{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return de(n,{received:n.data,code:se.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:e.data}}get value(){return this._def.value}}UP.create=(t,e)=>new UP({value:t,typeName:Ue.ZodLiteral,...qe(e)});function uB(t,e){return new Ou({values:t,typeName:Ue.ZodEnum,...qe(e)})}class Ou extends Ye{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return de(n,{expected:Qe.joinValues(r),received:n.parsedType,code:se.invalid_type}),Be}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return de(n,{received:n.data,code:se.invalid_enum_value,options:r}),Be}return ai(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ou.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ou.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Ou.create=uB;class BP extends Ye{_parse(e){const n=Qe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ge.string&&r.parsedType!==ge.number){const i=Qe.objectValues(n);return de(r,{expected:Qe.joinValues(i),received:r.parsedType,code:se.invalid_type}),Be}if(this._cache||(this._cache=new Set(Qe.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Qe.objectValues(n);return de(r,{received:r.data,code:se.invalid_enum_value,options:i}),Be}return ai(e.data)}get enum(){return this._def.values}}BP.create=(t,e)=>new BP({values:t,typeName:Ue.ZodNativeEnum,...qe(e)});class xm extends Ye{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.promise&&n.common.async===!1)return de(n,{code:se.invalid_type,expected:ge.promise,received:n.parsedType}),Be;const r=n.parsedType===ge.promise?n.data:Promise.resolve(n.data);return ai(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}xm.create=(t,e)=>new xm({type:t,typeName:Ue.ZodPromise,...qe(e)});class Du extends Ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:a=>{de(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const a=i.transform(r.data,o);if(r.common.async)return Promise.resolve(a).then(async u=>{if(n.value==="aborted")return Be;const c=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return c.status==="aborted"?Be:c.status==="dirty"||n.value==="dirty"?Of(c.value):c});{if(n.value==="aborted")return Be;const u=this._def.schema._parseSync({data:a,path:r.path,parent:r});return u.status==="aborted"?Be:u.status==="dirty"||n.value==="dirty"?Of(u.value):u}}if(i.type==="refinement"){const a=u=>{const c=i.refinement(u,o);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Be:(u.status==="dirty"&&n.dirty(),a(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Be:(u.status==="dirty"&&n.dirty(),a(u.value).then(()=>({status:n.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Mu(a))return Be;const u=i.transform(a.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Mu(a)?Promise.resolve(i.transform(a.value,o)).then(u=>({status:n.value,value:u})):Be);Qe.assertNever(i)}}Du.create=(t,e,n)=>new Du({schema:t,typeName:Ue.ZodEffects,effect:e,...qe(n)});Du.createWithPreprocess=(t,e,n)=>new Du({schema:e,effect:{type:"preprocess",transform:t},typeName:Ue.ZodEffects,...qe(n)});class xs extends Ye{_parse(e){return this._getType(e)===ge.undefined?ai(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xs.create=(t,e)=>new xs({innerType:t,typeName:Ue.ZodOptional,...qe(e)});class Lu extends Ye{_parse(e){return this._getType(e)===ge.null?ai(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lu.create=(t,e)=>new Lu({innerType:t,typeName:Ue.ZodNullable,...qe(e)});class FT extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ge.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}FT.create=(t,e)=>new FT({innerType:t,typeName:Ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...qe(e)});class VT extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Tm(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Io(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Io(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}VT.create=(t,e)=>new VT({innerType:t,typeName:Ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...qe(e)});class FP extends Ye{_parse(e){if(this._getType(e)!==ge.nan){const r=this._getOrReturnCtx(e);return de(r,{code:se.invalid_type,expected:ge.nan,received:r.parsedType}),Be}return{status:"valid",value:e.data}}}FP.create=t=>new FP({typeName:Ue.ZodNaN,...qe(t)});class SJ extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class cw extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Be:o.status==="dirty"?(n.dirty(),Of(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Be:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new cw({in:e,out:n,typeName:Ue.ZodPipeline})}}class qT extends Ye{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Mu(i)&&(i.value=Object.freeze(i.value)),i);return Tm(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}qT.create=(t,e)=>new qT({innerType:t,typeName:Ue.ZodReadonly,...qe(e)});var Ue;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ue||(Ue={}));const pa=Di.create,VP=Ga.create;ja.create;const wJ=Em.create;ku.create;const qP=LT.create;Ls.create;const Df=Vi.create,CJ=Jt.create,xJ=Sm.create;wm.create;Wa.create;const AJ=Cm.create,IJ=BT.create,RJ=Ou.create;xm.create;xs.create;Lu.create;const nu={string:t=>Di.create({...t,coerce:!0}),number:t=>Ga.create({...t,coerce:!0}),boolean:t=>Em.create({...t,coerce:!0}),bigint:t=>ja.create({...t,coerce:!0}),date:t=>ku.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PJ,NJ;function MJ(){return{geminiUrl:PJ,vertexUrl:NJ}}function kJ(t,e,n){var r,i,o;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const a=MJ();return t.vertexai?(i=a.vertexUrl)!==null&&i!==void 0?i:e:(o=a.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ol{}function _e(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const a=e[o];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];m(h,e.slice(o+1),n[d])}else for(const d of c)m(d,e.slice(o+1),n)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];m(c[0],e.slice(o+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function p(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(a=>p(a,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $P;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($P||($P={}));var zP;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(zP||(zP={}));var Li;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Li||(Li={}));var HP;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(HP||(HP={}));var GP;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(GP||(GP={}));var jP;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(jP||(jP={}));var WP;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(WP||(WP={}));var KP;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(KP||(KP={}));var YP;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(YP||(YP={}));var JP;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(JP||(JP={}));var XP;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(XP||(XP={}));var ZP;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(ZP||(ZP={}));var QP;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(QP||(QP={}));var eN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(eN||(eN={}));var tN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(tN||(tN={}));var nN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(nN||(nN={}));var Am;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Am||(Am={}));var rN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rN||(rN={}));var $T;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($T||($T={}));var iN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(iN||(iN={}));var oN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(oN||(oN={}));var sN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(sN||(sN={}));var aN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(aN||(aN={}));var lN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(lN||(lN={}));var uN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(uN||(uN={}));var cN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(cN||(cN={}));var fN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(fN||(fN={}));var dN;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dN||(dN={}));var hN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hN||(hN={}));var pN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(pN||(pN={}));var mN;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(mN||(mN={}));var gN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(gN||(gN={}));var vN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(vN||(vN={}));var yN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(yN||(yN={}));var _N;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(_N||(_N={}));var bN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(bN||(bN={}));var TN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(TN||(TN={}));var EN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(EN||(EN={}));var SN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(SN||(SN={}));var wN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(wN||(wN={}));var CN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(CN||(CN={}));var lu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(lu||(lu={}));class zT{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Sf{get text(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const v=[];for(const _ of(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[T,E]of Object.entries(_))T!=="text"&&T!=="thought"&&(E!==null||E!==void 0)&&v.push(T);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;h=!0,d+=_.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const v of(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[_,T]of Object.entries(v))_!=="inlineData"&&(T!==null||T!==void 0)&&h.push(_);v.inlineData&&typeof v.inlineData.data=="string"&&(d+=atob(v.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,a,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,o,a,u,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,a,u,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class xN{}class AN{}class OJ{}class DJ{}class IN{}class RN{}class PN{}class LJ{}class NN{}class MN{}class kN{}class UJ{}class BJ{}class FJ{}class ON{}class VJ{get text(){var e,n,r;let i="",o=!1;const a=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&a.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(a))u!=="inlineData"&&c!==null&&o.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class qJ{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ct(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function cB(t,e){const n=ct(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function fB(t){return Array.isArray(t)?t.map(e=>Im(e)):[Im(t)]}function Im(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function dB(t){const e=Im(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function hB(t){const e=Im(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function DN(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function pB(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>DN(e)):[DN(t)]}function HT(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function LN(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function UN(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Fn(t){if(t==null)throw new Error("ContentUnion is required");return HT(t)?t:{role:"user",parts:pB(t)}}function mB(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Fn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Fn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Fn(n)):[Fn(e)]}function ti(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(LN(t)||UN(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Fn(t)]}const e=[],n=[],r=HT(t[0]);for(const i of t){const o=HT(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(LN(i)||UN(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:pB(n)}),e}const $J=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),BN=RJ(["string","number","integer","object","array","boolean","null"]),zJ=xJ([BN,Df(BN)]);function HJ(t=!0){const e=IJ(()=>{const n=CJ({type:zJ.optional(),format:pa().optional(),title:pa().optional(),description:pa().optional(),default:qP().optional(),items:e.optional(),minItems:nu.string().optional(),maxItems:nu.string().optional(),enum:Df(qP()).optional(),properties:AJ(pa(),e).optional(),required:Df(pa()).optional(),minProperties:nu.string().optional(),maxProperties:nu.string().optional(),propertyOrdering:Df(pa()).optional(),minimum:VP().optional(),maximum:VP().optional(),minLength:nu.string().optional(),maxLength:nu.string().optional(),pattern:pa().optional(),anyOf:Df(e).optional(),additionalProperties:wJ().optional()});return t?n.strict():n});return e}function GJ(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Li).includes(n[0].toUpperCase())?n[0].toUpperCase():Li.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Li).includes(r.toUpperCase())?r.toUpperCase():Li.TYPE_UNSPECIFIED})}}function yu(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&GJ(t.type,e);for(const[a,u]of Object.entries(t))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Li).includes(u.toUpperCase())?u.toUpperCase():Li.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=yu(u);else if(r.includes(a)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(yu(d))}e[a]=c}else if(i.includes(a)){const c={};for(const[d,h]of Object.entries(u))c[d]=yu(h);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=u}return e}function _d(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=HJ().parse(t);return yu(e)}else return yu(t)}function fw(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function dw(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function nc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=_d(e.parameters)),e.response&&(e.response=_d(e.response));return t}function rc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function jJ(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Uo(t,e){if(typeof e!="string")throw new Error("name must be a string");return jJ(t,e,"cachedContents")}function gB(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Bo(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function WJ(t){return t!=null&&typeof t=="object"&&"name"in t}function KJ(t){return t!=null&&typeof t=="object"&&"video"in t}function YJ(t){return t!=null&&typeof t=="object"&&"uri"in t}function vB(t){var e;let n;if(WJ(t)&&(n=t.name),!(YJ(t)&&(n=t.uri,n===void 0))&&!(KJ(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function yB(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function _B(t){for(const e of["models","tunedModels","publisherModels"])if(JJ(t,e))return t[e];return[]}function JJ(t,e){return t!==null&&typeof t=="object"&&e in t}function XJ(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:yu(Wg(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ZJ(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=XJ(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function QJ(t){const e=[];for(const n of t)e.push(Wg(n));return e}function eX(t){const e={};for(const[n,r]of Object.entries(t)){const i=r;e[n]=Wg(i)}return e}function Wg(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),i={};for(const[o,a]of Object.entries(t))if(e.has(o))i[o]=Wg(a);else if(n.has(o))i[o]=QJ(a);else if(r.has(o))i[o]=eX(a);else if(o==="type"){const u=a.toUpperCase();i[o]=Object.values(Li).includes(u)?u:Li.TYPE_UNSPECIFIED}else $J.has(o)&&(i[o]=a);return i}function bB(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function tX(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ic(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function TB(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nX(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function rX(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function iX(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function oX(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],nX(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],rX(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],iX(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=p(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const v=p(t,["text"]);return v!=null&&m(e,["text"],v),e}function EB(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>oX(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function sX(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const a=p(t,["example"]);a!=null&&m(e,["example"],a);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const c=p(t,["items"]);c!=null&&m(e,["items"],c);const d=p(t,["maxItems"]);d!=null&&m(e,["maxItems"],d);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const v=p(t,["maxProperties"]);v!=null&&m(e,["maxProperties"],v);const _=p(t,["maximum"]);_!=null&&m(e,["maximum"],_);const T=p(t,["minItems"]);T!=null&&m(e,["minItems"],T);const E=p(t,["minLength"]);E!=null&&m(e,["minLength"],E);const S=p(t,["minProperties"]);S!=null&&m(e,["minProperties"],S);const w=p(t,["minimum"]);w!=null&&m(e,["minimum"],w);const x=p(t,["nullable"]);x!=null&&m(e,["nullable"],x);const N=p(t,["pattern"]);N!=null&&m(e,["pattern"],N);const P=p(t,["properties"]);P!=null&&m(e,["properties"],P);const k=p(t,["propertyOrdering"]);k!=null&&m(e,["propertyOrdering"],k);const M=p(t,["required"]);M!=null&&m(e,["required"],M);const L=p(t,["title"]);L!=null&&m(e,["title"],L);const F=p(t,["type"]);return F!=null&&m(e,["type"],F),e}function aX(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function lX(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function uX(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function cX(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],uX(n)),e}function fX(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function dX(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],fX(n)),e}function hX(){return{}}function pX(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>lX(d))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],cX(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],dX(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],hX());const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const u=p(t,["computerUse"]);return u!=null&&m(e,["computerUse"],u),e}function mX(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function gX(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function vX(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],gX(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function yX(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],mX(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],vX(r)),e}function _X(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function SB(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],_X(n)),e}function bX(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],SB(r)),e}function TX(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bX(i))),m(e,["speakerVoiceConfigs"],r)}return e}function EX(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],SB(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],TX(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function SX(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function wX(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],EB(Fn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const c=p(e,["candidateCount"]);c!=null&&m(r,["candidateCount"],c);const d=p(e,["maxOutputTokens"]);d!=null&&m(r,["maxOutputTokens"],d);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const v=p(e,["responseLogprobs"]);v!=null&&m(r,["responseLogprobs"],v);const _=p(e,["logprobs"]);_!=null&&m(r,["logprobs"],_);const T=p(e,["presencePenalty"]);T!=null&&m(r,["presencePenalty"],T);const E=p(e,["frequencyPenalty"]);E!=null&&m(r,["frequencyPenalty"],E);const S=p(e,["seed"]);S!=null&&m(r,["seed"],S);const w=p(e,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],sX(_d(x)));const N=p(e,["responseJsonSchema"]);if(N!=null&&m(r,["responseJsonSchema"],N),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=p(e,["safetySettings"]);if(n!==void 0&&P!=null){let Q=P;Array.isArray(Q)&&(Q=Q.map(W=>aX(W))),m(n,["safetySettings"],Q)}const k=p(e,["tools"]);if(n!==void 0&&k!=null){let Q=rc(k);Array.isArray(Q)&&(Q=Q.map(W=>pX(nc(W)))),m(n,["tools"],Q)}const M=p(e,["toolConfig"]);if(n!==void 0&&M!=null&&m(n,["toolConfig"],yX(M)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=p(e,["cachedContent"]);n!==void 0&&L!=null&&m(n,["cachedContent"],Uo(t,L));const F=p(e,["responseModalities"]);F!=null&&m(r,["responseModalities"],F);const X=p(e,["mediaResolution"]);X!=null&&m(r,["mediaResolution"],X);const G=p(e,["speechConfig"]);if(G!=null&&m(r,["speechConfig"],EX(fw(G))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=p(e,["thinkingConfig"]);return ae!=null&&m(r,["thinkingConfig"],SX(ae)),r}function CX(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["request","model"],ct(t,r));const i=p(e,["contents"]);if(i!=null){let a=ti(i);Array.isArray(a)&&(a=a.map(u=>EB(u))),m(n,["request","contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["request","generationConfig"],wX(t,o,n)),n}function xX(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>CX(t,a))),m(n,["requests","requests"],o)}return n}function AX(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function IX(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["src"]);i!=null&&m(n,["batch","inputConfig"],xX(t,bB(t,i)));const o=p(e,["config"]);return o!=null&&m(n,["config"],AX(o,n)),n}function RX(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],ic(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function PX(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],ic(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function NX(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function MX(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],NX(n,e)),e}function kX(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],ic(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function OX(t){const e={},n=p(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function DX(t){const e={},n=p(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function LX(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],DX(tX(i))),n}function UX(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],ct(t,r));const i=p(e,["src"]);i!=null&&m(n,["inputConfig"],OX(bB(t,i)));const o=p(e,["config"]);return o!=null&&m(n,["config"],LX(o,n)),n}function BX(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],ic(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function FX(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],ic(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function VX(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function qX(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],VX(n,e)),e}function $X(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],ic(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function wB(){return{}}function zX(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function HX(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function GX(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function jX(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],zX(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],HX(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],GX(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=p(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const v=p(t,["text"]);return v!=null&&m(e,["text"],v),e}function WX(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jX(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function KX(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function YX(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function JX(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>YX(i))),m(e,["urlMetadata"],r)}return e}function XX(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],WX(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],KX(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["urlContextMetadata"]);a!=null&&m(e,["urlContextMetadata"],JX(a));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&m(e,["groundingMetadata"],c);const d=p(t,["index"]);d!=null&&m(e,["index"],d);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const v=p(t,["safetyRatings"]);return v!=null&&m(e,["safetyRatings"],v),e}function ZX(t){const e={},n=p(t,["candidates"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>XX(u))),m(e,["candidates"],a)}const r=p(t,["modelVersion"]);r!=null&&m(e,["modelVersion"],r);const i=p(t,["promptFeedback"]);i!=null&&m(e,["promptFeedback"],i);const o=p(t,["usageMetadata"]);return o!=null&&m(e,["usageMetadata"],o),e}function QX(t){const e={},n=p(t,["response"]);return n!=null&&m(e,["response"],ZX(n)),p(t,["error"])!=null&&m(e,["error"],wB()),e}function eZ(t){const e={},n=p(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>QX(o))),m(e,["inlinedResponses"],i)}return e}function GT(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&m(e,["state"],TB(i));const o=p(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["metadata","endTime"]);a!=null&&m(e,["endTime"],a);const u=p(t,["metadata","updateTime"]);u!=null&&m(e,["updateTime"],u);const c=p(t,["metadata","model"]);c!=null&&m(e,["model"],c);const d=p(t,["metadata","output"]);return d!=null&&m(e,["dest"],eZ(d)),e}function tZ(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=p(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>GT(o))),m(e,["batchJobs"],i)}return e}function nZ(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["done"]);return r!=null&&m(e,["done"],r),p(t,["error"])!=null&&m(e,["error"],wB()),e}function CB(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["code"]);r!=null&&m(e,["code"],r);const i=p(t,["message"]);return i!=null&&m(e,["message"],i),e}function rZ(t){const e={},n=p(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function iZ(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function jT(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["state"]);i!=null&&m(e,["state"],TB(i));const o=p(t,["error"]);o!=null&&m(e,["error"],CB(o));const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const u=p(t,["startTime"]);u!=null&&m(e,["startTime"],u);const c=p(t,["endTime"]);c!=null&&m(e,["endTime"],c);const d=p(t,["updateTime"]);d!=null&&m(e,["updateTime"],d);const h=p(t,["model"]);h!=null&&m(e,["model"],h);const v=p(t,["inputConfig"]);v!=null&&m(e,["src"],rZ(v));const _=p(t,["outputConfig"]);return _!=null&&m(e,["dest"],iZ(_)),e}function oZ(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=p(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>jT(o))),m(e,["batchJobs"],i)}return e}function sZ(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["done"]);r!=null&&m(e,["done"],r);const i=p(t,["error"]);return i!=null&&m(e,["error"],CB(i)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ka;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ka||(Ka={}));class Yd{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let a={config:{}};r?typeof r=="object"?a=Object.assign({},r):a=r:a={config:{}},a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aZ extends ol{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const i=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${i}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Yd(Ka.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=UX(this.apiClient,e);return u=_e("batchPredictionJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>jT(h))}else{const d=IX(this.apiClient,e);return u=_e("{model}:batchGenerateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>GT(h))}}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=BX(this.apiClient,e);return u=_e("batchPredictionJobs/{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>jT(h))}else{const d=RX(this.apiClient,e);return u=_e("batches/{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>GT(h))}}async cancel(e){var n,r,i,o;let a="",u={};if(this.apiClient.isVertexAI()){const c=FX(this.apiClient,e);a=_e("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=PX(this.apiClient,e);a=_e("batches/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=qX(e);return u=_e("batchPredictionJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const v=oZ(h),_=new ON;return Object.assign(_,v),_})}else{const d=MX(e);return u=_e("batches",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const v=tZ(h),_=new ON;return Object.assign(_,v),_})}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=$X(this.apiClient,e);return u=_e("batchPredictionJobs/{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>sZ(h))}else{const d=kX(this.apiClient,e);return u=_e("batches/{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>nZ(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lZ(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function uZ(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function cZ(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function fZ(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],lZ(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],uZ(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],cZ(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=p(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const v=p(t,["text"]);return v!=null&&m(e,["text"],v),e}function FN(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>fZ(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function dZ(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function hZ(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function pZ(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],hZ(n)),e}function mZ(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function gZ(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],mZ(n)),e}function vZ(){return{}}function yZ(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>dZ(d))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],pZ(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],gZ(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],vZ());const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const u=p(t,["computerUse"]);return u!=null&&m(e,["computerUse"],u),e}function _Z(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function bZ(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function TZ(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],bZ(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function EZ(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],_Z(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],TZ(r)),e}function SZ(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let h=ti(a);Array.isArray(h)&&(h=h.map(v=>FN(v))),m(e,["contents"],h)}const u=p(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],FN(Fn(u)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(v=>yZ(v))),m(e,["tools"],h)}const d=p(t,["toolConfig"]);if(e!==void 0&&d!=null&&m(e,["toolConfig"],EZ(d)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function wZ(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],cB(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],SZ(i,n)),n}function CZ(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Uo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function xZ(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Uo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function AZ(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function IZ(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Uo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],AZ(i,n)),n}function RZ(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function PZ(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],RZ(n,e)),e}function NZ(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function MZ(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function kZ(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function OZ(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],NZ(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],MZ(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],kZ(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=p(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const v=p(t,["text"]);return v!=null&&m(e,["text"],v),e}function VN(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>OZ(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function DZ(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function LZ(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function UZ(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],LZ(n)),e}function BZ(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function FZ(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],BZ(n)),e}function VZ(){return{}}function qZ(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function $Z(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],qZ(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const a=p(t,["oauthConfig"]);a!=null&&m(e,["oauthConfig"],a);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function zZ(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],$Z(n)),e}function HZ(){return{}}function GZ(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>DZ(_))),m(e,["functionDeclarations"],v)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],UZ(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],FZ(o)),p(t,["enterpriseWebSearch"])!=null&&m(e,["enterpriseWebSearch"],VZ());const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],zZ(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],HZ());const d=p(t,["codeExecution"]);d!=null&&m(e,["codeExecution"],d);const h=p(t,["computerUse"]);return h!=null&&m(e,["computerUse"],h),e}function jZ(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function WZ(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function KZ(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],WZ(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function YZ(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],jZ(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],KZ(r)),e}function JZ(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const a=p(t,["contents"]);if(e!==void 0&&a!=null){let v=ti(a);Array.isArray(v)&&(v=v.map(_=>VN(_))),m(e,["contents"],v)}const u=p(t,["systemInstruction"]);e!==void 0&&u!=null&&m(e,["systemInstruction"],VN(Fn(u)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let v=c;Array.isArray(v)&&(v=v.map(_=>GZ(_))),m(e,["tools"],v)}const d=p(t,["toolConfig"]);e!==void 0&&d!=null&&m(e,["toolConfig"],YZ(d));const h=p(t,["kmsKeyName"]);return e!==void 0&&h!=null&&m(e,["encryption_spec","kmsKeyName"],h),n}function XZ(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["model"],cB(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],JZ(i,n)),n}function ZZ(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Uo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function QZ(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Uo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function eQ(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function tQ(t,e){const n={},r=p(e,["name"]);r!=null&&m(n,["_url","name"],Uo(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],eQ(i,n)),n}function nQ(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function rQ(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],nQ(n,e)),e}function Gp(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["model"]);i!=null&&m(e,["model"],i);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["updateTime"]);a!=null&&m(e,["updateTime"],a);const u=p(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const c=p(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function iQ(){return{}}function oQ(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=p(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Gp(o))),m(e,["cachedContents"],i)}return e}function jp(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["model"]);i!=null&&m(e,["model"],i);const o=p(t,["createTime"]);o!=null&&m(e,["createTime"],o);const a=p(t,["updateTime"]);a!=null&&m(e,["updateTime"],a);const u=p(t,["expireTime"]);u!=null&&m(e,["expireTime"],u);const c=p(t,["usageMetadata"]);return c!=null&&m(e,["usageMetadata"],c),e}function sQ(){return{}}function aQ(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=p(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>jp(o))),m(e,["cachedContents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lQ extends ol{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Yd(Ka.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=XZ(this.apiClient,e);return u=_e("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>jp(h))}else{const d=wZ(this.apiClient,e);return u=_e("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Gp(h))}}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=ZZ(this.apiClient,e);return u=_e("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>jp(h))}else{const d=CZ(this.apiClient,e);return u=_e("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Gp(h))}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=QZ(this.apiClient,e);return u=_e("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(()=>{const h=sQ(),v=new MN;return Object.assign(v,h),v})}else{const d=xZ(this.apiClient,e);return u=_e("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(()=>{const h=iQ(),v=new MN;return Object.assign(v,h),v})}}async update(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=tQ(this.apiClient,e);return u=_e("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>jp(h))}else{const d=IZ(this.apiClient,e);return u=_e("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Gp(h))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=rQ(e);return u=_e("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const v=aQ(h),_=new kN;return Object.assign(_,v),_})}else{const d=PZ(e);return u=_e("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const v=oQ(h),_=new kN;return Object.assign(_,v),_})}}}function qN(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wt(t){return this instanceof wt?(this.v=t,this):new wt(t)}function _u(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(T){return function(E){return Promise.resolve(E).then(T,v)}}function u(T,E){r[T]&&(i[T]=function(S){return new Promise(function(w,x){o.push([T,S,w,x])>1||c(T,S)})},E&&(i[T]=E(i[T])))}function c(T,E){try{d(r[T](E))}catch(S){_(o[0][3],S)}}function d(T){T.value instanceof wt?Promise.resolve(T.value.v).then(h,v):_(o[0][2],T)}function h(T){c("next",T)}function v(T){c("throw",T)}function _(T,E){T(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Yf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qN=="function"?qN(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(u,c){a=t[o](a),i(u,c,a.done,a.value)})}}function i(o,a,u,c){Promise.resolve(c).then(function(d){o({value:d,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uQ(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:xB(n)}function xB(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function cQ(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function $N(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!xB(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class fQ{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new dQ(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class dQ{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),cQ(o)}async sendMessage(e){var n;await this.sendPromise;const r=Fn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,u;const c=await i,d=(a=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,h=c.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let _=[];h!=null&&(_=(u=h.slice(v))!==null&&u!==void 0?u:[]);const T=d?[d]:[];this.recordHistory(r,T,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Fn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?$N(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return _u(this,arguments,function*(){var a,u,c,d;const h=[];try{for(var v=!0,_=Yf(e),T;T=yield wt(_.next()),a=T.done,!a;v=!0){d=T.value,v=!1;const E=d;if(uQ(E)){const S=(i=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&h.push(S)}yield yield wt(E)}}catch(E){u={error:E}}finally{try{!v&&!a&&(c=_.return)&&(yield wt(c.call(_)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...$N(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kg extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Kg.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hQ(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function pQ(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],hQ(n,e)),e}function mQ(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["message"]);r!=null&&m(e,["message"],r);const i=p(t,["code"]);return i!=null&&m(e,["code"],i),e}function gQ(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const o=p(t,["sizeBytes"]);o!=null&&m(e,["sizeBytes"],o);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const u=p(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const d=p(t,["sha256Hash"]);d!=null&&m(e,["sha256Hash"],d);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const v=p(t,["downloadUri"]);v!=null&&m(e,["downloadUri"],v);const _=p(t,["state"]);_!=null&&m(e,["state"],_);const T=p(t,["source"]);T!=null&&m(e,["source"],T);const E=p(t,["videoMetadata"]);E!=null&&m(e,["videoMetadata"],E);const S=p(t,["error"]);return S!=null&&m(e,["error"],mQ(S)),e}function vQ(t){const e={},n=p(t,["file"]);n!=null&&m(e,["file"],gQ(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function yQ(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","file"],vB(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function _Q(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","file"],vB(n));const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function bQ(t){const e={},n=p(t,["details"]);n!=null&&m(e,["details"],n);const r=p(t,["message"]);r!=null&&m(e,["message"],r);const i=p(t,["code"]);return i!=null&&m(e,["code"],i),e}function WT(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&m(e,["mimeType"],i);const o=p(t,["sizeBytes"]);o!=null&&m(e,["sizeBytes"],o);const a=p(t,["createTime"]);a!=null&&m(e,["createTime"],a);const u=p(t,["expirationTime"]);u!=null&&m(e,["expirationTime"],u);const c=p(t,["updateTime"]);c!=null&&m(e,["updateTime"],c);const d=p(t,["sha256Hash"]);d!=null&&m(e,["sha256Hash"],d);const h=p(t,["uri"]);h!=null&&m(e,["uri"],h);const v=p(t,["downloadUri"]);v!=null&&m(e,["downloadUri"],v);const _=p(t,["state"]);_!=null&&m(e,["state"],_);const T=p(t,["source"]);T!=null&&m(e,["source"],T);const E=p(t,["videoMetadata"]);E!=null&&m(e,["videoMetadata"],E);const S=p(t,["error"]);return S!=null&&m(e,["error"],bQ(S)),e}function TQ(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=p(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>WT(o))),m(e,["files"],i)}return e}function EQ(){return{}}function SQ(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wQ extends ol{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Yd(Ka.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>WT(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pQ(e);return o=_e("files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=TQ(c),h=new UJ;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vQ(e);return o=_e("upload/v1beta/files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(()=>{const c=EQ(),d=new BJ;return Object.assign(d,c),d})}}async get(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yQ(e);return o=_e("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>WT(c))}}async delete(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_Q(e);return o=_e("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(()=>{const c=SQ(),d=new FJ;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CQ(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function xQ(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function AB(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],CQ(n)),e}function AQ(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],xQ(n)),e}function IQ(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],AB(r)),e}function RQ(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>IQ(i))),m(e,["speakerVoiceConfigs"],r)}return e}function PQ(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],AB(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],RQ(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function NQ(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],AQ(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function MQ(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function kQ(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function OQ(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function DQ(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function LQ(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function UQ(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function BQ(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],MQ(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],OQ(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],LQ(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=p(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const v=p(t,["text"]);return v!=null&&m(e,["text"],v),e}function FQ(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],kQ(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],DQ(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],UQ(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=p(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const v=p(t,["text"]);return v!=null&&m(e,["text"],v),e}function VQ(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>BQ(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function qQ(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>FQ(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function $Q(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function zQ(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function HQ(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function GQ(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function jQ(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],HQ(n)),e}function WQ(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],GQ(n)),e}function KQ(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function YQ(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function JQ(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],KQ(n)),e}function XQ(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],YQ(n)),e}function ZQ(){return{}}function QQ(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function eee(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],QQ(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const a=p(t,["oauthConfig"]);a!=null&&m(e,["oauthConfig"],a);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function tee(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],eee(n)),e}function nee(){return{}}function ree(){return{}}function iee(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>$Q(d))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],jQ(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],JQ(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],nee());const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const u=p(t,["computerUse"]);return u!=null&&m(e,["computerUse"],u),e}function oee(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>zQ(_))),m(e,["functionDeclarations"],v)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],WQ(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],XQ(o)),p(t,["enterpriseWebSearch"])!=null&&m(e,["enterpriseWebSearch"],ZQ());const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],tee(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],ree());const d=p(t,["codeExecution"]);d!=null&&m(e,["codeExecution"],d);const h=p(t,["computerUse"]);return h!=null&&m(e,["computerUse"],h),e}function see(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function aee(t){const e={},n=p(t,["handle"]);n!=null&&m(e,["handle"],n);const r=p(t,["transparent"]);return r!=null&&m(e,["transparent"],r),e}function zN(){return{}}function HN(){return{}}function lee(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const a=p(t,["silenceDurationMs"]);return a!=null&&m(e,["silenceDurationMs"],a),e}function uee(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const a=p(t,["silenceDurationMs"]);return a!=null&&m(e,["silenceDurationMs"],a),e}function cee(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],lee(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function fee(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],uee(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function dee(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function hee(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function pee(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],dee(r)),e}function mee(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],hee(r)),e}function gee(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function vee(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function yee(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const v=p(t,["speechConfig"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","speechConfig"],PQ(dw(v)));const _=p(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],_);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&m(e,["setup","systemInstruction"],VQ(Fn(T)));const E=p(t,["tools"]);if(e!==void 0&&E!=null){let M=rc(E);Array.isArray(M)&&(M=M.map(L=>iee(nc(L)))),m(e,["setup","tools"],M)}const S=p(t,["sessionResumption"]);e!==void 0&&S!=null&&m(e,["setup","sessionResumption"],see(S));const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],zN());const x=p(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","outputAudioTranscription"],zN());const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],cee(N));const P=p(t,["contextWindowCompression"]);e!==void 0&&P!=null&&m(e,["setup","contextWindowCompression"],pee(P));const k=p(t,["proactivity"]);return e!==void 0&&k!=null&&m(e,["setup","proactivity"],gee(k)),n}function _ee(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const v=p(t,["speechConfig"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","speechConfig"],NQ(dw(v)));const _=p(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],_);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&m(e,["setup","systemInstruction"],qQ(Fn(T)));const E=p(t,["tools"]);if(e!==void 0&&E!=null){let M=rc(E);Array.isArray(M)&&(M=M.map(L=>oee(nc(L)))),m(e,["setup","tools"],M)}const S=p(t,["sessionResumption"]);e!==void 0&&S!=null&&m(e,["setup","sessionResumption"],aee(S));const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],HN());const x=p(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","outputAudioTranscription"],HN());const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],fee(N));const P=p(t,["contextWindowCompression"]);e!==void 0&&P!=null&&m(e,["setup","contextWindowCompression"],mee(P));const k=p(t,["proactivity"]);return e!==void 0&&k!=null&&m(e,["setup","proactivity"],vee(k)),n}function bee(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],ct(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],yee(i,n)),n}function Tee(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],ct(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],_ee(i,n)),n}function Eee(){return{}}function See(){return{}}function wee(){return{}}function Cee(){return{}}function xee(t){const e={},n=p(t,["media"]);n!=null&&m(e,["mediaChunks"],fB(n));const r=p(t,["audio"]);r!=null&&m(e,["audio"],hB(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],dB(o));const a=p(t,["text"]);return a!=null&&m(e,["text"],a),p(t,["activityStart"])!=null&&m(e,["activityStart"],Eee()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],wee()),e}function Aee(t){const e={},n=p(t,["media"]);n!=null&&m(e,["mediaChunks"],fB(n));const r=p(t,["audio"]);r!=null&&m(e,["audio"],hB(r));const i=p(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&m(e,["video"],dB(o));const a=p(t,["text"]);return a!=null&&m(e,["text"],a),p(t,["activityStart"])!=null&&m(e,["activityStart"],See()),p(t,["activityEnd"])!=null&&m(e,["activityEnd"],Cee()),e}function IB(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function Iee(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>IB(i))),m(e,["weightedPrompts"],r)}return e}function RB(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&m(e,["topK"],r);const i=p(t,["seed"]);i!=null&&m(e,["seed"],i);const o=p(t,["guidance"]);o!=null&&m(e,["guidance"],o);const a=p(t,["bpm"]);a!=null&&m(e,["bpm"],a);const u=p(t,["density"]);u!=null&&m(e,["density"],u);const c=p(t,["brightness"]);c!=null&&m(e,["brightness"],c);const d=p(t,["scale"]);d!=null&&m(e,["scale"],d);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const v=p(t,["muteDrums"]);v!=null&&m(e,["muteDrums"],v);const _=p(t,["onlyBassAndDrums"]);return _!=null&&m(e,["onlyBassAndDrums"],_),e}function Ree(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],RB(n)),e}function PB(t){const e={},n=p(t,["model"]);return n!=null&&m(e,["model"],n),e}function NB(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>IB(i))),m(e,["weightedPrompts"],r)}return e}function KT(t){const e={},n=p(t,["setup"]);n!=null&&m(e,["setup"],PB(n));const r=p(t,["clientContent"]);r!=null&&m(e,["clientContent"],NB(r));const i=p(t,["musicGenerationConfig"]);i!=null&&m(e,["musicGenerationConfig"],RB(i));const o=p(t,["playbackControl"]);return o!=null&&m(e,["playbackControl"],o),e}function Pee(){return{}}function Nee(t){const e={},n=p(t,["sessionId"]);return n!=null&&m(e,["sessionId"],n),e}function Mee(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function kee(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Oee(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Dee(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Lee(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Uee(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Bee(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Mee(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Oee(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Lee(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=p(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const v=p(t,["text"]);return v!=null&&m(e,["text"],v),e}function Fee(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],kee(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Dee(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Uee(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=p(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const v=p(t,["text"]);return v!=null&&m(e,["text"],v),e}function Vee(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Bee(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function qee(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Fee(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function GN(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function jN(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["finished"]);return r!=null&&m(e,["finished"],r),e}function $ee(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function zee(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$ee(i))),m(e,["urlMetadata"],r)}return e}function Hee(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],Vee(n));const r=p(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const o=p(t,["groundingMetadata"]);o!=null&&m(e,["groundingMetadata"],o);const a=p(t,["generationComplete"]);a!=null&&m(e,["generationComplete"],a);const u=p(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],GN(u));const c=p(t,["outputTranscription"]);c!=null&&m(e,["outputTranscription"],GN(c));const d=p(t,["urlContextMetadata"]);return d!=null&&m(e,["urlContextMetadata"],zee(d)),e}function Gee(t){const e={},n=p(t,["modelTurn"]);n!=null&&m(e,["modelTurn"],qee(n));const r=p(t,["turnComplete"]);r!=null&&m(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&m(e,["interrupted"],i);const o=p(t,["groundingMetadata"]);o!=null&&m(e,["groundingMetadata"],o);const a=p(t,["generationComplete"]);a!=null&&m(e,["generationComplete"],a);const u=p(t,["inputTranscription"]);u!=null&&m(e,["inputTranscription"],jN(u));const c=p(t,["outputTranscription"]);return c!=null&&m(e,["outputTranscription"],jN(c)),e}function jee(t){const e={},n=p(t,["id"]);n!=null&&m(e,["id"],n);const r=p(t,["args"]);r!=null&&m(e,["args"],r);const i=p(t,["name"]);return i!=null&&m(e,["name"],i),e}function Wee(t){const e={},n=p(t,["args"]);n!=null&&m(e,["args"],n);const r=p(t,["name"]);return r!=null&&m(e,["name"],r),e}function Kee(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jee(i))),m(e,["functionCalls"],r)}return e}function Yee(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Wee(i))),m(e,["functionCalls"],r)}return e}function Jee(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function Xee(t){const e={},n=p(t,["ids"]);return n!=null&&m(e,["ids"],n),e}function xp(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function Ap(t){const e={},n=p(t,["modality"]);n!=null&&m(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&m(e,["tokenCount"],r),e}function Zee(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["responseTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=p(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const u=p(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const c=p(t,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(T=>xp(T))),m(e,["promptTokensDetails"],_)}const d=p(t,["cacheTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(T=>xp(T))),m(e,["cacheTokensDetails"],_)}const h=p(t,["responseTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(T=>xp(T))),m(e,["responseTokensDetails"],_)}const v=p(t,["toolUsePromptTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(T=>xp(T))),m(e,["toolUsePromptTokensDetails"],_)}return e}function Qee(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const a=p(t,["thoughtsTokenCount"]);a!=null&&m(e,["thoughtsTokenCount"],a);const u=p(t,["totalTokenCount"]);u!=null&&m(e,["totalTokenCount"],u);const c=p(t,["promptTokensDetails"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(E=>Ap(E))),m(e,["promptTokensDetails"],T)}const d=p(t,["cacheTokensDetails"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(E=>Ap(E))),m(e,["cacheTokensDetails"],T)}const h=p(t,["candidatesTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(E=>Ap(E))),m(e,["responseTokensDetails"],T)}const v=p(t,["toolUsePromptTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>Ap(E))),m(e,["toolUsePromptTokensDetails"],T)}const _=p(t,["trafficType"]);return _!=null&&m(e,["trafficType"],_),e}function ete(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function tte(t){const e={},n=p(t,["timeLeft"]);return n!=null&&m(e,["timeLeft"],n),e}function nte(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function rte(t){const e={},n=p(t,["newHandle"]);n!=null&&m(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&m(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&m(e,["lastConsumedClientMessageIndex"],i),e}function ite(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],Pee());const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],Hee(r));const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],Kee(i));const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],Jee(o));const a=p(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],Zee(a));const u=p(t,["goAway"]);u!=null&&m(e,["goAway"],ete(u));const c=p(t,["sessionResumptionUpdate"]);return c!=null&&m(e,["sessionResumptionUpdate"],nte(c)),e}function ote(t){const e={},n=p(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],Nee(n));const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],Gee(r));const i=p(t,["toolCall"]);i!=null&&m(e,["toolCall"],Yee(i));const o=p(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],Xee(o));const a=p(t,["usageMetadata"]);a!=null&&m(e,["usageMetadata"],Qee(a));const u=p(t,["goAway"]);u!=null&&m(e,["goAway"],tte(u));const c=p(t,["sessionResumptionUpdate"]);return c!=null&&m(e,["sessionResumptionUpdate"],rte(c)),e}function ste(){return{}}function ate(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["weight"]);return r!=null&&m(e,["weight"],r),e}function lte(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ate(i))),m(e,["weightedPrompts"],r)}return e}function ute(t){const e={},n=p(t,["temperature"]);n!=null&&m(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&m(e,["topK"],r);const i=p(t,["seed"]);i!=null&&m(e,["seed"],i);const o=p(t,["guidance"]);o!=null&&m(e,["guidance"],o);const a=p(t,["bpm"]);a!=null&&m(e,["bpm"],a);const u=p(t,["density"]);u!=null&&m(e,["density"],u);const c=p(t,["brightness"]);c!=null&&m(e,["brightness"],c);const d=p(t,["scale"]);d!=null&&m(e,["scale"],d);const h=p(t,["muteBass"]);h!=null&&m(e,["muteBass"],h);const v=p(t,["muteDrums"]);v!=null&&m(e,["muteDrums"],v);const _=p(t,["onlyBassAndDrums"]);return _!=null&&m(e,["onlyBassAndDrums"],_),e}function cte(t){const e={},n=p(t,["clientContent"]);n!=null&&m(e,["clientContent"],lte(n));const r=p(t,["musicGenerationConfig"]);return r!=null&&m(e,["musicGenerationConfig"],ute(r)),e}function fte(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);r!=null&&m(e,["mimeType"],r);const i=p(t,["sourceMetadata"]);return i!=null&&m(e,["sourceMetadata"],cte(i)),e}function dte(t){const e={},n=p(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fte(i))),m(e,["audioChunks"],r)}return e}function hte(t){const e={},n=p(t,["text"]);n!=null&&m(e,["text"],n);const r=p(t,["filteredReason"]);return r!=null&&m(e,["filteredReason"],r),e}function pte(t){const e={};p(t,["setupComplete"])!=null&&m(e,["setupComplete"],ste());const r=p(t,["serverContent"]);r!=null&&m(e,["serverContent"],dte(r));const i=p(t,["filteredPrompt"]);return i!=null&&m(e,["filteredPrompt"],hte(i)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mte(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function gte(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function vte(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function yte(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],mte(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],gte(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],vte(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=p(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const v=p(t,["text"]);return v!=null&&m(e,["text"],v),e}function Yg(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yte(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function _te(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const a=p(t,["example"]);a!=null&&m(e,["example"],a);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const c=p(t,["items"]);c!=null&&m(e,["items"],c);const d=p(t,["maxItems"]);d!=null&&m(e,["maxItems"],d);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const v=p(t,["maxProperties"]);v!=null&&m(e,["maxProperties"],v);const _=p(t,["maximum"]);_!=null&&m(e,["maximum"],_);const T=p(t,["minItems"]);T!=null&&m(e,["minItems"],T);const E=p(t,["minLength"]);E!=null&&m(e,["minLength"],E);const S=p(t,["minProperties"]);S!=null&&m(e,["minProperties"],S);const w=p(t,["minimum"]);w!=null&&m(e,["minimum"],w);const x=p(t,["nullable"]);x!=null&&m(e,["nullable"],x);const N=p(t,["pattern"]);N!=null&&m(e,["pattern"],N);const P=p(t,["properties"]);P!=null&&m(e,["properties"],P);const k=p(t,["propertyOrdering"]);k!=null&&m(e,["propertyOrdering"],k);const M=p(t,["required"]);M!=null&&m(e,["required"],M);const L=p(t,["title"]);L!=null&&m(e,["title"],L);const F=p(t,["type"]);return F!=null&&m(e,["type"],F),e}function bte(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&m(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Tte(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function Ete(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function Ste(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],Ete(n)),e}function wte(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function Cte(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],wte(n)),e}function xte(){return{}}function Ate(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>Tte(d))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],Ste(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],Cte(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],xte());const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const u=p(t,["computerUse"]);return u!=null&&m(e,["computerUse"],u),e}function Ite(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function Rte(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function Pte(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],Rte(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Nte(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Ite(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],Pte(r)),e}function Mte(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function MB(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Mte(n)),e}function kte(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],MB(r)),e}function Ote(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kte(i))),m(e,["speakerVoiceConfigs"],r)}return e}function Dte(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],MB(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],Ote(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function Lte(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function Ute(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],Yg(Fn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const c=p(e,["candidateCount"]);c!=null&&m(r,["candidateCount"],c);const d=p(e,["maxOutputTokens"]);d!=null&&m(r,["maxOutputTokens"],d);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const v=p(e,["responseLogprobs"]);v!=null&&m(r,["responseLogprobs"],v);const _=p(e,["logprobs"]);_!=null&&m(r,["logprobs"],_);const T=p(e,["presencePenalty"]);T!=null&&m(r,["presencePenalty"],T);const E=p(e,["frequencyPenalty"]);E!=null&&m(r,["frequencyPenalty"],E);const S=p(e,["seed"]);S!=null&&m(r,["seed"],S);const w=p(e,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],_te(_d(x)));const N=p(e,["responseJsonSchema"]);if(N!=null&&m(r,["responseJsonSchema"],N),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=p(e,["safetySettings"]);if(n!==void 0&&P!=null){let Q=P;Array.isArray(Q)&&(Q=Q.map(W=>bte(W))),m(n,["safetySettings"],Q)}const k=p(e,["tools"]);if(n!==void 0&&k!=null){let Q=rc(k);Array.isArray(Q)&&(Q=Q.map(W=>Ate(nc(W)))),m(n,["tools"],Q)}const M=p(e,["toolConfig"]);if(n!==void 0&&M!=null&&m(n,["toolConfig"],Nte(M)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=p(e,["cachedContent"]);n!==void 0&&L!=null&&m(n,["cachedContent"],Uo(t,L));const F=p(e,["responseModalities"]);F!=null&&m(r,["responseModalities"],F);const X=p(e,["mediaResolution"]);X!=null&&m(r,["mediaResolution"],X);const G=p(e,["speechConfig"]);if(G!=null&&m(r,["speechConfig"],Dte(fw(G))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=p(e,["thinkingConfig"]);return ae!=null&&m(r,["thinkingConfig"],Lte(ae)),r}function WN(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["contents"]);if(i!=null){let a=ti(i);Array.isArray(a)&&(a=a.map(u=>Yg(u))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],Ute(t,o,n)),n}function Bte(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Fte(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["contents"]);i!=null&&m(n,["requests[]","content"],mB(t,i));const o=p(e,["config"]);o!=null&&m(n,["config"],Bte(o,n));const a=p(e,["model"]);return a!==void 0&&m(n,["requests[]","model"],ct(t,a)),n}function Vte(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const u=p(t,["personGeneration"]);e!==void 0&&u!=null&&m(e,["parameters","personGeneration"],u);const c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&m(e,["parameters","includeSafetyAttributes"],c);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&m(e,["parameters","includeRaiReason"],d);const h=p(t,["language"]);e!==void 0&&h!=null&&m(e,["parameters","language"],h);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const _=p(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&m(e,["parameters","outputOptions","compressionQuality"],_),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function qte(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&m(n,["config"],Vte(o,n)),n}function $te(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ct(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function zte(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],yB(t,u)),r}function Hte(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],zte(t,r,n)),n}function Gte(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function jte(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ct(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Gte(i,n)),n}function Wte(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ct(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Kte(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Yte(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["contents"]);if(i!=null){let a=ti(i);Array.isArray(a)&&(a=a.map(u=>Yg(u))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["config"],Kte(o)),n}function Jte(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Bo(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Xte(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);if(e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o),p(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const a=p(t,["personGeneration"]);if(e!==void 0&&a!=null&&m(e,["parameters","personGeneration"],a),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=p(t,["negativePrompt"]);e!==void 0&&u!=null&&m(e,["parameters","negativePrompt"],u);const c=p(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&m(e,["parameters","enhancePrompt"],c),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(p(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Zte(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);if(o!=null&&m(n,["instances[0]","image"],Jte(o)),p(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=p(e,["config"]);return a!=null&&m(n,["config"],Xte(a,n)),n}function Qte(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function ene(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function tne(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function nne(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Qte(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],ene(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],tne(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=p(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const v=p(t,["text"]);return v!=null&&m(e,["text"],v),e}function oc(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nne(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function rne(t){const e={},n=p(t,["anyOf"]);n!=null&&m(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&m(e,["default"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["enum"]);o!=null&&m(e,["enum"],o);const a=p(t,["example"]);a!=null&&m(e,["example"],a);const u=p(t,["format"]);u!=null&&m(e,["format"],u);const c=p(t,["items"]);c!=null&&m(e,["items"],c);const d=p(t,["maxItems"]);d!=null&&m(e,["maxItems"],d);const h=p(t,["maxLength"]);h!=null&&m(e,["maxLength"],h);const v=p(t,["maxProperties"]);v!=null&&m(e,["maxProperties"],v);const _=p(t,["maximum"]);_!=null&&m(e,["maximum"],_);const T=p(t,["minItems"]);T!=null&&m(e,["minItems"],T);const E=p(t,["minLength"]);E!=null&&m(e,["minLength"],E);const S=p(t,["minProperties"]);S!=null&&m(e,["minProperties"],S);const w=p(t,["minimum"]);w!=null&&m(e,["minimum"],w);const x=p(t,["nullable"]);x!=null&&m(e,["nullable"],x);const N=p(t,["pattern"]);N!=null&&m(e,["pattern"],N);const P=p(t,["properties"]);P!=null&&m(e,["properties"],P);const k=p(t,["propertyOrdering"]);k!=null&&m(e,["propertyOrdering"],k);const M=p(t,["required"]);M!=null&&m(e,["required"],M);const L=p(t,["title"]);L!=null&&m(e,["title"],L);const F=p(t,["type"]);return F!=null&&m(e,["type"],F),e}function ine(t){const e={},n=p(t,["featureSelectionPreference"]);return n!=null&&m(e,["featureSelectionPreference"],n),e}function one(t){const e={},n=p(t,["method"]);n!=null&&m(e,["method"],n);const r=p(t,["category"]);r!=null&&m(e,["category"],r);const i=p(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function sne(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&m(e,["description"],n);const r=p(t,["name"]);r!=null&&m(e,["name"],r);const i=p(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const a=p(t,["response"]);a!=null&&m(e,["response"],a);const u=p(t,["responseJsonSchema"]);return u!=null&&m(e,["responseJsonSchema"],u),e}function ane(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function lne(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],ane(n)),e}function une(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function cne(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],une(n)),e}function fne(){return{}}function dne(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&m(e,["apiKeyString"],n),e}function hne(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&m(e,["apiKeyConfig"],dne(n));const r=p(t,["authType"]);r!=null&&m(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&m(e,["googleServiceAccountConfig"],i);const o=p(t,["httpBasicAuthConfig"]);o!=null&&m(e,["httpBasicAuthConfig"],o);const a=p(t,["oauthConfig"]);a!=null&&m(e,["oauthConfig"],a);const u=p(t,["oidcConfig"]);return u!=null&&m(e,["oidcConfig"],u),e}function pne(t){const e={},n=p(t,["authConfig"]);return n!=null&&m(e,["authConfig"],hne(n)),e}function mne(){return{}}function kB(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(_=>sne(_))),m(e,["functionDeclarations"],v)}const r=p(t,["retrieval"]);r!=null&&m(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&m(e,["googleSearch"],lne(i));const o=p(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],cne(o)),p(t,["enterpriseWebSearch"])!=null&&m(e,["enterpriseWebSearch"],fne());const u=p(t,["googleMaps"]);u!=null&&m(e,["googleMaps"],pne(u)),p(t,["urlContext"])!=null&&m(e,["urlContext"],mne());const d=p(t,["codeExecution"]);d!=null&&m(e,["codeExecution"],d);const h=p(t,["computerUse"]);return h!=null&&m(e,["computerUse"],h),e}function gne(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&m(e,["allowedFunctionNames"],r),e}function vne(t){const e={},n=p(t,["latitude"]);n!=null&&m(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&m(e,["longitude"],r),e}function yne(t){const e={},n=p(t,["latLng"]);n!=null&&m(e,["latLng"],vne(n));const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function _ne(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],gne(n));const r=p(t,["retrievalConfig"]);return r!=null&&m(e,["retrievalConfig"],yne(r)),e}function bne(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function Tne(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],bne(n)),e}function Ene(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&m(e,["voiceConfig"],Tne(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&m(e,["languageCode"],r),e}function Sne(t){const e={},n=p(t,["includeThoughts"]);n!=null&&m(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&m(e,["thinkingBudget"],r),e}function wne(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],oc(Fn(i)));const o=p(e,["temperature"]);o!=null&&m(r,["temperature"],o);const a=p(e,["topP"]);a!=null&&m(r,["topP"],a);const u=p(e,["topK"]);u!=null&&m(r,["topK"],u);const c=p(e,["candidateCount"]);c!=null&&m(r,["candidateCount"],c);const d=p(e,["maxOutputTokens"]);d!=null&&m(r,["maxOutputTokens"],d);const h=p(e,["stopSequences"]);h!=null&&m(r,["stopSequences"],h);const v=p(e,["responseLogprobs"]);v!=null&&m(r,["responseLogprobs"],v);const _=p(e,["logprobs"]);_!=null&&m(r,["logprobs"],_);const T=p(e,["presencePenalty"]);T!=null&&m(r,["presencePenalty"],T);const E=p(e,["frequencyPenalty"]);E!=null&&m(r,["frequencyPenalty"],E);const S=p(e,["seed"]);S!=null&&m(r,["seed"],S);const w=p(e,["responseMimeType"]);w!=null&&m(r,["responseMimeType"],w);const x=p(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],rne(_d(x)));const N=p(e,["responseJsonSchema"]);N!=null&&m(r,["responseJsonSchema"],N);const P=p(e,["routingConfig"]);P!=null&&m(r,["routingConfig"],P);const k=p(e,["modelSelectionConfig"]);k!=null&&m(r,["modelConfig"],ine(k));const M=p(e,["safetySettings"]);if(n!==void 0&&M!=null){let Ee=M;Array.isArray(Ee)&&(Ee=Ee.map($=>one($))),m(n,["safetySettings"],Ee)}const L=p(e,["tools"]);if(n!==void 0&&L!=null){let Ee=rc(L);Array.isArray(Ee)&&(Ee=Ee.map($=>kB(nc($)))),m(n,["tools"],Ee)}const F=p(e,["toolConfig"]);n!==void 0&&F!=null&&m(n,["toolConfig"],_ne(F));const X=p(e,["labels"]);n!==void 0&&X!=null&&m(n,["labels"],X);const G=p(e,["cachedContent"]);n!==void 0&&G!=null&&m(n,["cachedContent"],Uo(t,G));const ae=p(e,["responseModalities"]);ae!=null&&m(r,["responseModalities"],ae);const Q=p(e,["mediaResolution"]);Q!=null&&m(r,["mediaResolution"],Q);const W=p(e,["speechConfig"]);W!=null&&m(r,["speechConfig"],Ene(fw(W)));const Ae=p(e,["audioTimestamp"]);Ae!=null&&m(r,["audioTimestamp"],Ae);const ke=p(e,["thinkingConfig"]);return ke!=null&&m(r,["thinkingConfig"],Sne(ke)),r}function KN(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["contents"]);if(i!=null){let a=ti(i);Array.isArray(a)&&(a=a.map(u=>oc(u))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["generationConfig"],wne(t,o,n)),n}function Cne(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const a=p(t,["mimeType"]);e!==void 0&&a!=null&&m(e,["instances[]","mimeType"],a);const u=p(t,["autoTruncate"]);return e!==void 0&&u!=null&&m(e,["parameters","autoTruncate"],u),n}function xne(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["contents"]);i!=null&&m(n,["instances[]","content"],mB(t,i));const o=p(e,["config"]);return o!=null&&m(n,["config"],Cne(o,n)),n}function Ane(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const u=p(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const v=p(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&m(e,["parameters","includeSafetyAttributes"],v);const _=p(t,["includeRaiReason"]);e!==void 0&&_!=null&&m(e,["parameters","includeRaiReason"],_);const T=p(t,["language"]);e!==void 0&&T!=null&&m(e,["parameters","language"],T);const E=p(t,["outputMimeType"]);e!==void 0&&E!=null&&m(e,["parameters","outputOptions","mimeType"],E);const S=p(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&m(e,["parameters","outputOptions","compressionQuality"],S);const w=p(t,["addWatermark"]);e!==void 0&&w!=null&&m(e,["parameters","addWatermark"],w);const x=p(t,["enhancePrompt"]);return e!==void 0&&x!=null&&m(e,["parameters","enhancePrompt"],x),n}function Ine(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&m(n,["config"],Ane(o,n)),n}function Jg(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Bo(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Rne(t){const e={},n=p(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function Pne(t){const e={},n=p(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function Nne(t){const e={},n=p(t,["styleDescription"]);return n!=null&&m(e,["styleDescription"],n),e}function Mne(t){const e={},n=p(t,["subjectType"]);n!=null&&m(e,["subjectType"],n);const r=p(t,["subjectDescription"]);return r!=null&&m(e,["subjectDescription"],r),e}function kne(t){const e={},n=p(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Jg(n));const r=p(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],Rne(o));const a=p(t,["controlImageConfig"]);a!=null&&m(e,["controlImageConfig"],Pne(a));const u=p(t,["styleImageConfig"]);u!=null&&m(e,["styleImageConfig"],Nne(u));const c=p(t,["subjectImageConfig"]);return c!=null&&m(e,["subjectImageConfig"],Mne(c)),e}function One(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const a=p(t,["aspectRatio"]);e!==void 0&&a!=null&&m(e,["parameters","aspectRatio"],a);const u=p(t,["guidanceScale"]);e!==void 0&&u!=null&&m(e,["parameters","guidanceScale"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&m(e,["parameters","seed"],c);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const v=p(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&m(e,["parameters","includeSafetyAttributes"],v);const _=p(t,["includeRaiReason"]);e!==void 0&&_!=null&&m(e,["parameters","includeRaiReason"],_);const T=p(t,["language"]);e!==void 0&&T!=null&&m(e,["parameters","language"],T);const E=p(t,["outputMimeType"]);e!==void 0&&E!=null&&m(e,["parameters","outputOptions","mimeType"],E);const S=p(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&m(e,["parameters","outputOptions","compressionQuality"],S);const w=p(t,["editMode"]);e!==void 0&&w!=null&&m(e,["parameters","editMode"],w);const x=p(t,["baseSteps"]);return e!==void 0&&x!=null&&m(e,["parameters","editConfig","baseSteps"],x),n}function Dne(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>kne(c))),m(n,["instances[0]","referenceImages"],u)}const a=p(e,["config"]);return a!=null&&m(n,["config"],One(a,n)),n}function Lne(t,e){const n={},r=p(t,["includeRaiReason"]);e!==void 0&&r!=null&&m(e,["parameters","includeRaiReason"],r);const i=p(t,["outputMimeType"]);e!==void 0&&i!=null&&m(e,["parameters","outputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&m(e,["parameters","outputOptions","compressionQuality"],o);const a=p(t,["enhanceInputImage"]);e!==void 0&&a!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],a);const u=p(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=p(t,["numberOfImages"]);e!==void 0&&c!=null&&m(e,["parameters","sampleCount"],c);const d=p(t,["mode"]);return e!==void 0&&d!=null&&m(e,["parameters","mode"],d),n}function Une(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["image"]);i!=null&&m(n,["instances[0]","image"],Jg(i));const o=p(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=p(e,["config"]);return a!=null&&m(n,["config"],Lne(a,n)),n}function Bne(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ct(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Fne(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const a=p(e,["filter"]);n!==void 0&&a!=null&&m(n,["_query","filter"],a);const u=p(e,["queryBase"]);return n!==void 0&&u!=null&&m(n,["_url","models_url"],yB(t,u)),r}function Vne(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],Fne(t,r,n)),n}function qne(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function $ne(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],qne(i,n)),n}function zne(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","name"],ct(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],i),n}function Hne(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],oc(Fn(r)));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>kB(u))),m(e,["tools"],a)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],o),n}function Gne(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["contents"]);if(i!=null){let a=ti(i);Array.isArray(a)&&(a=a.map(u=>oc(u))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["config"],Hne(o,n)),n}function jne(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["contents"]);if(i!=null){let a=ti(i);Array.isArray(a)&&(a=a.map(u=>oc(u))),m(n,["contents"],a)}const o=p(e,["config"]);return o!=null&&m(n,["config"],o),n}function Wne(t){const e={},n=p(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Bo(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Kne(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const a=p(t,["durationSeconds"]);e!==void 0&&a!=null&&m(e,["parameters","durationSeconds"],a);const u=p(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&m(e,["parameters","aspectRatio"],c);const d=p(t,["resolution"]);e!==void 0&&d!=null&&m(e,["parameters","resolution"],d);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&m(e,["parameters","personGeneration"],h);const v=p(t,["pubsubTopic"]);e!==void 0&&v!=null&&m(e,["parameters","pubsubTopic"],v);const _=p(t,["negativePrompt"]);e!==void 0&&_!=null&&m(e,["parameters","negativePrompt"],_);const T=p(t,["enhancePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","enhancePrompt"],T);const E=p(t,["generateAudio"]);e!==void 0&&E!=null&&m(e,["parameters","generateAudio"],E);const S=p(t,["lastFrame"]);e!==void 0&&S!=null&&m(e,["instances[0]","lastFrame"],Jg(S));const w=p(t,["compressionQuality"]);return e!==void 0&&w!=null&&m(e,["parameters","compressionQuality"],w),n}function Yne(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["_url","model"],ct(t,r));const i=p(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&m(n,["instances[0]","image"],Jg(o));const a=p(e,["video"]);a!=null&&m(n,["instances[0]","video"],Wne(a));const u=p(e,["config"]);return u!=null&&m(n,["config"],Kne(u,n)),n}function Jne(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Xne(t){const e={},n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Zne(t){const e={},n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Qne(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Jne(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Xne(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Zne(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=p(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const v=p(t,["text"]);return v!=null&&m(e,["text"],v),e}function ere(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Qne(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function tre(t){const e={},n=p(t,["citationSources"]);return n!=null&&m(e,["citations"],n),e}function nre(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function rre(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nre(i))),m(e,["urlMetadata"],r)}return e}function ire(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],ere(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],tre(r));const i=p(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["urlContextMetadata"]);a!=null&&m(e,["urlContextMetadata"],rre(a));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&m(e,["groundingMetadata"],c);const d=p(t,["index"]);d!=null&&m(e,["index"],d);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const v=p(t,["safetyRatings"]);return v!=null&&m(e,["safetyRatings"],v),e}function YN(t){const e={},n=p(t,["candidates"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(u=>ire(u))),m(e,["candidates"],a)}const r=p(t,["modelVersion"]);r!=null&&m(e,["modelVersion"],r);const i=p(t,["promptFeedback"]);i!=null&&m(e,["promptFeedback"],i);const o=p(t,["usageMetadata"]);return o!=null&&m(e,["usageMetadata"],o),e}function ore(t){const e={},n=p(t,["values"]);return n!=null&&m(e,["values"],n),e}function sre(){return{}}function are(t){const e={},n=p(t,["embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ore(o))),m(e,["embeddings"],i)}return p(t,["metadata"])!=null&&m(e,["metadata"],sre()),e}function lre(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Bo(n));const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function OB(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function ure(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],lre(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],OB(i)),e}function cre(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ure(o))),m(e,["generatedImages"],i)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&m(e,["positivePromptSafetyAttributes"],OB(r)),e}function fre(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function YT(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["version"]);o!=null&&m(e,["version"],o);const a=p(t,["_self"]);a!=null&&m(e,["tunedModelInfo"],fre(a));const u=p(t,["inputTokenLimit"]);u!=null&&m(e,["inputTokenLimit"],u);const c=p(t,["outputTokenLimit"]);c!=null&&m(e,["outputTokenLimit"],c);const d=p(t,["supportedGenerationMethods"]);return d!=null&&m(e,["supportedActions"],d),e}function dre(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=p(t,["_self"]);if(r!=null){let i=_B(r);Array.isArray(i)&&(i=i.map(o=>YT(o))),m(e,["models"],i)}return e}function hre(){return{}}function pre(t){const e={},n=p(t,["totalTokens"]);n!=null&&m(e,["totalTokens"],n);const r=p(t,["cachedContentTokenCount"]);return r!=null&&m(e,["cachedContentTokenCount"],r),e}function mre(t){const e={},n=p(t,["video","uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["video","encodedVideo"]);r!=null&&m(e,["videoBytes"],Bo(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function gre(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],mre(n)),e}function vre(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>gre(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function yre(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],vre(a)),e}function _re(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function bre(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["data"]);r!=null&&m(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Tre(t){const e={},n=p(t,["displayName"]);n!=null&&m(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&m(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Ere(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],_re(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],bre(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Tre(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=p(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const v=p(t,["text"]);return v!=null&&m(e,["text"],v),e}function Sre(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ere(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function wre(t){const e={},n=p(t,["citations"]);return n!=null&&m(e,["citations"],n),e}function Cre(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&m(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&m(e,["urlRetrievalStatus"],r),e}function xre(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Cre(i))),m(e,["urlMetadata"],r)}return e}function Are(t){const e={},n=p(t,["content"]);n!=null&&m(e,["content"],Sre(n));const r=p(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],wre(r));const i=p(t,["finishMessage"]);i!=null&&m(e,["finishMessage"],i);const o=p(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const a=p(t,["urlContextMetadata"]);a!=null&&m(e,["urlContextMetadata"],xre(a));const u=p(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const c=p(t,["groundingMetadata"]);c!=null&&m(e,["groundingMetadata"],c);const d=p(t,["index"]);d!=null&&m(e,["index"],d);const h=p(t,["logprobsResult"]);h!=null&&m(e,["logprobsResult"],h);const v=p(t,["safetyRatings"]);return v!=null&&m(e,["safetyRatings"],v),e}function JN(t){const e={},n=p(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>Are(d))),m(e,["candidates"],c)}const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["responseId"]);i!=null&&m(e,["responseId"],i);const o=p(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const a=p(t,["promptFeedback"]);a!=null&&m(e,["promptFeedback"],a);const u=p(t,["usageMetadata"]);return u!=null&&m(e,["usageMetadata"],u),e}function Ire(t){const e={},n=p(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function Rre(t){const e={},n=p(t,["values"]);n!=null&&m(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&m(e,["statistics"],Ire(r)),e}function Pre(t){const e={},n=p(t,["billableCharacterCount"]);return n!=null&&m(e,["billableCharacterCount"],n),e}function Nre(t){const e={},n=p(t,["predictions[]","embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Rre(o))),m(e,["embeddings"],i)}const r=p(t,["metadata"]);return r!=null&&m(e,["metadata"],Pre(r)),e}function Mre(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Bo(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function DB(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function hw(t){const e={},n=p(t,["_self"]);n!=null&&m(e,["image"],Mre(n));const r=p(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&m(e,["safetyAttributes"],DB(i));const o=p(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function kre(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hw(o))),m(e,["generatedImages"],i)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&m(e,["positivePromptSafetyAttributes"],DB(r)),e}function Ore(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hw(i))),m(e,["generatedImages"],r)}return e}function Dre(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hw(i))),m(e,["generatedImages"],r)}return e}function Lre(t){const e={},n=p(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function Ure(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function Bre(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=p(t,["step"]);return i!=null&&m(e,["step"],i),e}function JT(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=p(t,["description"]);i!=null&&m(e,["description"],i);const o=p(t,["versionId"]);o!=null&&m(e,["version"],o);const a=p(t,["deployedModels"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(_=>Lre(_))),m(e,["endpoints"],v)}const u=p(t,["labels"]);u!=null&&m(e,["labels"],u);const c=p(t,["_self"]);c!=null&&m(e,["tunedModelInfo"],Ure(c));const d=p(t,["defaultCheckpointId"]);d!=null&&m(e,["defaultCheckpointId"],d);const h=p(t,["checkpoints"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>Bre(_))),m(e,["checkpoints"],v)}return e}function Fre(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=p(t,["_self"]);if(r!=null){let i=_B(r);Array.isArray(i)&&(i=i.map(o=>JT(o))),m(e,["models"],i)}return e}function Vre(){return{}}function qre(t){const e={},n=p(t,["totalTokens"]);return n!=null&&m(e,["totalTokens"],n),e}function $re(t){const e={},n=p(t,["tokensInfo"]);return n!=null&&m(e,["tokensInfo"],n),e}function zre(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Bo(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Hre(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],zre(n)),e}function Gre(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Hre(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function jre(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Gre(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wre="Content-Type",Kre="X-Server-Timeout",Yre="User-Agent",XT="x-goog-api-client",Jre="1.8.0",Xre=`google-genai-sdk/${Jre}`,Zre="v1beta1",Qre="v1beta",XN=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class eie{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Zre,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Qre,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>i.abort(),n.timeout),r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&tie(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ZN(i),new zT(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ZN(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return _u(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:c}=yield wt(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c);try{const v=JSON.parse(d);if("error"in v){const _=JSON.parse(JSON.stringify(v.error)),T=_.status,E=_.code,S=`got status: ${T}. ${JSON.stringify(v)}`;if(E>=400&&E<600)throw new Kg({message:S,status:E})}}catch(v){if(v.name==="ApiError")throw v}a+=d;let h=a.match(XN);for(;h;){const v=h[1];try{const _=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield wt(new zT(_)),a=a.slice(h[0].length),h=a.match(XN)}catch(_){throw new Error(`exception parsing stream chunk ${v}. ${_}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Xre+" "+this.clientOptions.userAgentExtra;return e[Yre]=n,e[XT]=n,e[Wre]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(Kre,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(e);i.sizeBytes=String(a.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c=await this.fetchUploadUrl(i,n);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},a=await this.request({path:_e("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=a==null?void 0:a.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function ZN(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Kg({message:i,status:n}):new Error(i)}}function tie(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const u=Object.assign({},o);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const d=a[c],h=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nie="mcp_used/unknown";function LB(t){for(const e of t)if(pw(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function UB(t){var e;const n=(e=t[XT])!==null&&e!==void 0?e:"";t[XT]=(n+` ${nie}`).trimStart()}function rie(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>pw(i)))!==null&&r!==void 0?r:!1}function iie(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!pw(i)))!==null&&r!==void 0?r:!1}function pw(t){return t!==null&&typeof t=="object"&&t instanceof mw}function oie(t,e=100){return _u(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield wt(t.listTools({cursor:r}));for(const a of o.tools)yield yield wt(a),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class mw{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new mw(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Yf(oie(h))),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const v=i;a.push(v);const _=v.name;if(o[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);o[_]=h}}catch(v){n={error:v}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),ZJ(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sie(t,e,n){const r=new qJ;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=pte(i);Object.assign(r,o),e(r)}class aie{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=cie(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(P=>{d=P}),v=e.callbacks,_=function(){d({})},T=this.apiClient,E={onopen:_,onmessage:P=>{sie(T,v.onmessage,P)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(P){}},S=this.webSocketFactory.create(c,uie(a),E);S.connect(),await h;const w=ct(this.apiClient,e.model),x=PB({model:w}),N=KT({setup:x});return S.send(JSON.stringify(N)),new lie(S,this.apiClient)}}class lie{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Iee(e),r=NB(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Ree(e),r=KT(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=KT({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(lu.PLAY)}pause(){this.sendPlaybackControl(lu.PAUSE)}stop(){this.sendPlaybackControl(lu.STOP)}resetContext(){this.sendPlaybackControl(lu.RESET_CONTEXT)}close(){this.conn.close()}}function uie(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function cie(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fie="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function die(t,e,n){const r=new VJ;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const a=ote(o);Object.assign(r,a)}else{const a=ite(o);Object.assign(r,a)}e(r)}class hie{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new aie(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,a,u;const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const v=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&LB(e.config.tools)&&UB(v);const _=vie(v);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const G=this.apiClient.getApiKey();let ae="BidiGenerateContent",Q="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),ae="BidiGenerateContentConstrained",Q="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${ae}?${Q}=${G}`}let T=()=>{};const E=new Promise(G=>{T=G}),S=e.callbacks,w=function(){var G;(G=S==null?void 0:S.onopen)===null||G===void 0||G.call(S),T({})},x=this.apiClient,N={onopen:w,onmessage:G=>{die(x,S.onmessage,G)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(G){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(G){}},P=this.webSocketFactory.create(h,gie(_),N);P.connect(),await E;let k=ct(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const G=this.apiClient.getProject(),ae=this.apiClient.getLocation();k=`projects/${G}/locations/${ae}/`+k}let M={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Am.AUDIO]}:e.config.responseModalities=[Am.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],F=[];for(const G of L)if(this.isCallableTool(G)){const ae=G;F.push(await ae.tool())}else F.push(G);F.length>0&&(e.config.tools=F);const X={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?M=Tee(this.apiClient,X):M=bee(this.apiClient,X),delete M.config,P.send(JSON.stringify(M)),new mie(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const pie={turnComplete:!0};class mie{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ti(n.turns),e.isVertexAI()?r=r.map(i=>oc(i)):r=r.map(i=>Yg(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(fie)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},pie),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Aee(e)}:n={realtimeInput:xee(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function gie(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function vie(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QN=10;function eM(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Wp(a)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Wp(t){return"callTool"in t&&typeof t.callTool=="function"}function tM(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yie extends ol{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,a,u;const c=await this.processParamsForMcpUsage(n);if(!rie(n)||eM(n.config))return await this.generateContentInternal(c);if(iie(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,h;const v=ti(c.contents),_=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:QN;let T=0;for(;T<_&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const E=d.candidates[0].content,S=[];for(const w of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(Wp(w)){const N=await w.callTool(d.functionCalls);S.push(...N)}T++,h={role:"user",parts:S},c.contents=ti(c.contents),c.contents.push(E),c.contents.push(h),tM(c.config)&&(v.push(E),v.push(h))}return tM(c.config)&&(d.automaticFunctionCallingHistory=v),d},this.generateContentStream=async n=>{if(eM(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:a.push(c);let u;return o?u={generatedImages:a,positivePromptSafetyAttributes:o}:u={generatedImages:a},u}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Yd(Ka.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const a=await Promise.all(o.map(async c=>Wp(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&LB(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),UB(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Wp(a)){const u=a,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:QN;let a=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,h,v){var _,T;return _u(this,arguments,function*(){for(var E,S,w,x;u<o;){a&&(u++,a=!1);const M=yield wt(d.processParamsForMcpUsage(v)),L=yield wt(d.generateContentStreamInternal(M)),F=[],X=[];try{for(var N=!0,P=(S=void 0,Yf(L)),k;k=yield wt(P.next()),E=k.done,!E;N=!0){x=k.value,N=!1;const G=x;if(yield yield wt(G),G.candidates&&(!((_=G.candidates[0])===null||_===void 0)&&_.content)){X.push(G.candidates[0].content);for(const ae of(T=G.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(u<o&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(ae.functionCall.name)){const Q=yield wt(h.get(ae.functionCall.name).callTool([ae.functionCall]));F.push(...Q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(G){S={error:G}}finally{try{!N&&!E&&(w=P.return)&&(yield wt(w.call(P)))}finally{if(S)throw S.error}}if(F.length>0){a=!0;const G=new Sf;G.candidates=[{content:{role:"user",parts:F}}],yield yield wt(G);const ae=[];ae.push(...X),ae.push({role:"user",parts:F});const Q=ti(v.contents).concat(ae);v.contents=Q}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=KN(this.apiClient,e);return u=_e("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const v=JN(h),_=new Sf;return Object.assign(_,v),_})}else{const d=WN(this.apiClient,e);return u=_e("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const v=YN(h),_=new Sf;return Object.assign(_,v),_})}}async generateContentStreamInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=KN(this.apiClient,e);return u=_e("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(v){return _u(this,arguments,function*(){var _,T,E,S;try{for(var w=!0,x=Yf(v),N;N=yield wt(x.next()),_=N.done,!_;w=!0){S=N.value,w=!1;const k=JN(yield wt(S.json())),M=new Sf;Object.assign(M,k),yield yield wt(M)}}catch(P){T={error:P}}finally{try{!w&&!_&&(E=x.return)&&(yield wt(E.call(x)))}finally{if(T)throw T.error}}})})}else{const d=WN(this.apiClient,e);return u=_e("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(v){return _u(this,arguments,function*(){var _,T,E,S;try{for(var w=!0,x=Yf(v),N;N=yield wt(x.next()),_=N.done,!_;w=!0){S=N.value,w=!1;const k=YN(yield wt(S.json())),M=new Sf;Object.assign(M,k),yield yield wt(M)}}catch(P){T={error:P}}finally{try{!w&&!_&&(E=x.return)&&(yield wt(E.call(x)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=xne(this.apiClient,e);return u=_e("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const v=Nre(h),_=new xN;return Object.assign(_,v),_})}else{const d=Fte(this.apiClient,e);return u=_e("{model}:batchEmbedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const v=are(h),_=new xN;return Object.assign(_,v),_})}}async generateImagesInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Ine(this.apiClient,e);return u=_e("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const v=kre(h),_=new AN;return Object.assign(_,v),_})}else{const d=qte(this.apiClient,e);return u=_e("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const v=cre(h),_=new AN;return Object.assign(_,v),_})}}async editImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Dne(this.apiClient,e);return o=_e("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Ore(c),h=new OJ;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Une(this.apiClient,e);return o=_e("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Dre(c),h=new DJ;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Bne(this.apiClient,e);return u=_e("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>JT(h))}else{const d=$te(this.apiClient,e);return u=_e("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>YT(h))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Vne(this.apiClient,e);return u=_e("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const v=Fre(h),_=new IN;return Object.assign(_,v),_})}else{const d=Hte(this.apiClient,e);return u=_e("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const v=dre(h),_=new IN;return Object.assign(_,v),_})}}async update(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=$ne(this.apiClient,e);return u=_e("{model}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>JT(h))}else{const d=jte(this.apiClient,e);return u=_e("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>YT(h))}}async delete(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=zne(this.apiClient,e);return u=_e("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(()=>{const h=Vre(),v=new RN;return Object.assign(v,h),v})}else{const d=Wte(this.apiClient,e);return u=_e("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(()=>{const h=hre(),v=new RN;return Object.assign(v,h),v})}}async countTokens(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Gne(this.apiClient,e);return u=_e("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const v=qre(h),_=new PN;return Object.assign(_,v),_})}else{const d=Yte(this.apiClient,e);return u=_e("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const v=pre(h),_=new PN;return Object.assign(_,v),_})}}async computeTokens(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=jne(this.apiClient,e);return o=_e("{model}:computeTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=$re(c),h=new LJ;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Yne(this.apiClient,e);return u=_e("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>jre(h))}else{const d=Zte(this.apiClient,e);return u=_e("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>yre(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _ie(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function bie(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function Tie(t){const e={},n=p(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=p(t,["resourceName"]);r!=null&&m(e,["_url","resourceName"],r);const i=p(t,["config"]);return i!=null&&m(e,["config"],i),e}function Eie(t){const e={},n=p(t,["video","uri"]);n!=null&&m(e,["uri"],n);const r=p(t,["video","encodedVideo"]);r!=null&&m(e,["videoBytes"],Bo(r));const i=p(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function Sie(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],Eie(n)),e}function wie(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Sie(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function Cie(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response","generateVideoResponse"]);return a!=null&&m(e,["response"],wie(a)),e}function xie(t){const e={},n=p(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Bo(r));const i=p(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Aie(t){const e={},n=p(t,["_self"]);return n!=null&&m(e,["video"],xie(n)),e}function Iie(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Aie(a))),m(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function nM(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);o!=null&&m(e,["error"],o);const a=p(t,["response"]);return a!=null&&m(e,["response"],Iie(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rie extends ol{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;return r&&"httpOptions"in r&&(o=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=bie(e);return u=_e("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>nM(h))}else{const d=_ie(e);return u=_e("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>Cie(h))}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=Tie(e);return o=_e("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>nM(c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pie(t){const e={},n=p(t,["voiceName"]);return n!=null&&m(e,["voiceName"],n),e}function BB(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&m(e,["prebuiltVoiceConfig"],Pie(n)),e}function Nie(t){const e={},n=p(t,["speaker"]);n!=null&&m(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&m(e,["voiceConfig"],BB(r)),e}function Mie(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Nie(i))),m(e,["speakerVoiceConfigs"],r)}return e}function kie(t){const e={},n=p(t,["voiceConfig"]);n!=null&&m(e,["voiceConfig"],BB(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&m(e,["multiSpeakerVoiceConfig"],Mie(r));const i=p(t,["languageCode"]);return i!=null&&m(e,["languageCode"],i),e}function Oie(t){const e={},n=p(t,["fps"]);n!=null&&m(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&m(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&m(e,["startOffset"],i),e}function Die(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&m(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Lie(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Uie(t){const e={},n=p(t,["videoMetadata"]);n!=null&&m(e,["videoMetadata"],Oie(n));const r=p(t,["thought"]);r!=null&&m(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&m(e,["inlineData"],Die(i));const o=p(t,["fileData"]);o!=null&&m(e,["fileData"],Lie(o));const a=p(t,["thoughtSignature"]);a!=null&&m(e,["thoughtSignature"],a);const u=p(t,["codeExecutionResult"]);u!=null&&m(e,["codeExecutionResult"],u);const c=p(t,["executableCode"]);c!=null&&m(e,["executableCode"],c);const d=p(t,["functionCall"]);d!=null&&m(e,["functionCall"],d);const h=p(t,["functionResponse"]);h!=null&&m(e,["functionResponse"],h);const v=p(t,["text"]);return v!=null&&m(e,["text"],v),e}function Bie(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Uie(o))),m(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&m(e,["role"],r),e}function Fie(t){const e={},n=p(t,["behavior"]);n!=null&&m(e,["behavior"],n);const r=p(t,["description"]);r!=null&&m(e,["description"],r);const i=p(t,["name"]);i!=null&&m(e,["name"],i);const o=p(t,["parameters"]);o!=null&&m(e,["parameters"],o);const a=p(t,["parametersJsonSchema"]);a!=null&&m(e,["parametersJsonSchema"],a);const u=p(t,["response"]);u!=null&&m(e,["response"],u);const c=p(t,["responseJsonSchema"]);return c!=null&&m(e,["responseJsonSchema"],c),e}function Vie(t){const e={},n=p(t,["startTime"]);n!=null&&m(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&m(e,["endTime"],r),e}function qie(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],Vie(n)),e}function $ie(t){const e={},n=p(t,["mode"]);n!=null&&m(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&m(e,["dynamicThreshold"],r),e}function zie(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&m(e,["dynamicRetrievalConfig"],$ie(n)),e}function Hie(){return{}}function Gie(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>Fie(d))),m(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&m(e,["googleSearch"],qie(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&m(e,["googleSearchRetrieval"],zie(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&m(e,["urlContext"],Hie());const a=p(t,["codeExecution"]);a!=null&&m(e,["codeExecution"],a);const u=p(t,["computerUse"]);return u!=null&&m(e,["computerUse"],u),e}function jie(t){const e={},n=p(t,["handle"]);if(n!=null&&m(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rM(){return{}}function Wie(t){const e={},n=p(t,["disabled"]);n!=null&&m(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&m(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&m(e,["endOfSpeechSensitivity"],i);const o=p(t,["prefixPaddingMs"]);o!=null&&m(e,["prefixPaddingMs"],o);const a=p(t,["silenceDurationMs"]);return a!=null&&m(e,["silenceDurationMs"],a),e}function Kie(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&m(e,["automaticActivityDetection"],Wie(n));const r=p(t,["activityHandling"]);r!=null&&m(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&m(e,["turnCoverage"],i),e}function Yie(t){const e={},n=p(t,["targetTokens"]);return n!=null&&m(e,["targetTokens"],n),e}function Jie(t){const e={},n=p(t,["triggerTokens"]);n!=null&&m(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&m(e,["slidingWindow"],Yie(r)),e}function Xie(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&m(e,["proactiveAudio"],n),e}function Zie(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const a=p(t,["topP"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topP"],a);const u=p(t,["topK"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topK"],u);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","maxOutputTokens"],c);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const h=p(t,["seed"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","seed"],h);const v=p(t,["speechConfig"]);e!==void 0&&v!=null&&m(e,["setup","generationConfig","speechConfig"],kie(dw(v)));const _=p(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],_);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&m(e,["setup","systemInstruction"],Bie(Fn(T)));const E=p(t,["tools"]);if(e!==void 0&&E!=null){let M=rc(E);Array.isArray(M)&&(M=M.map(L=>Gie(nc(L)))),m(e,["setup","tools"],M)}const S=p(t,["sessionResumption"]);e!==void 0&&S!=null&&m(e,["setup","sessionResumption"],jie(S));const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&m(e,["setup","inputAudioTranscription"],rM());const x=p(t,["outputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","outputAudioTranscription"],rM());const N=p(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&m(e,["setup","realtimeInputConfig"],Kie(N));const P=p(t,["contextWindowCompression"]);e!==void 0&&P!=null&&m(e,["setup","contextWindowCompression"],Jie(P));const k=p(t,["proactivity"]);return e!==void 0&&k!=null&&m(e,["setup","proactivity"],Xie(k)),n}function Qie(t,e){const n={},r=p(e,["model"]);r!=null&&m(n,["setup","model"],ct(t,r));const i=p(e,["config"]);return i!=null&&m(n,["config"],Zie(i,n)),n}function eoe(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const a=p(e,["uses"]);n!==void 0&&a!=null&&m(n,["uses"],a);const u=p(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&m(n,["bidiGenerateContentSetup"],Qie(t,u));const c=p(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&m(n,["fieldMask"],c),r}function toe(t,e){const n={},r=p(e,["config"]);return r!=null&&m(n,["config"],eoe(t,r,n)),n}function noe(t){const e={},n=p(t,["name"]);return n!=null&&m(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function roe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function ioe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=roe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>a.includes(d)?`generationConfig.${d}`:d));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class ooe extends ol{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=toe(this.apiClient,e);o=_e("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=ioe(u,e.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>noe(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function soe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function aoe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function loe(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],aoe(n,e)),e}function uoe(t){const e={},n=p(t,["textInput"]);n!=null&&m(e,["textInput"],n);const r=p(t,["output"]);return r!=null&&m(e,["output"],r),e}function coe(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=p(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>uoe(i))),m(e,["examples","examples"],r)}return e}function foe(t,e){const n={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&m(e,["displayName"],r),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=p(t,["epochCount"]);e!==void 0&&i!=null&&m(e,["tuningTask","hyperparameters","epochCount"],i);const o=p(t,["learningRateMultiplier"]);if(o!=null&&m(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=p(t,["batchSize"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","batchSize"],a);const u=p(t,["learningRate"]);return e!==void 0&&u!=null&&m(e,["tuningTask","hyperparameters","learningRate"],u),n}function doe(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["trainingDataset"]);r!=null&&m(e,["tuningTask","trainingData"],coe(r));const i=p(t,["config"]);return i!=null&&m(e,["config"],foe(i,e)),e}function hoe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&m(e,["config"],r),e}function poe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function moe(t){const e={},n=p(t,["config"]);return n!=null&&m(e,["config"],poe(n,e)),e}function goe(t,e){const n={},r=p(t,["gcsUri"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function voe(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function yoe(t,e){const n={},r=p(t,["validationDataset"]);e!==void 0&&r!=null&&m(e,["supervisedTuningSpec"],voe(r,n));const i=p(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&m(e,["tunedModelDisplayName"],i);const o=p(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const a=p(t,["epochCount"]);e!==void 0&&a!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const u=p(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=p(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const d=p(t,["adapterSize"]);if(e!==void 0&&d!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function _oe(t){const e={},n=p(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=p(t,["trainingDataset"]);r!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],goe(r,e));const i=p(t,["config"]);return i!=null&&m(e,["config"],yoe(i,e)),e}function boe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["model"],n);const r=p(t,["name"]);return r!=null&&m(e,["endpoint"],r),e}function FB(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["state"]);r!=null&&m(e,["state"],gB(r));const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=p(t,["tuningTask","startTime"]);o!=null&&m(e,["startTime"],o);const a=p(t,["tuningTask","completeTime"]);a!=null&&m(e,["endTime"],a);const u=p(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const c=p(t,["description"]);c!=null&&m(e,["description"],c);const d=p(t,["baseModel"]);d!=null&&m(e,["baseModel"],d);const h=p(t,["_self"]);h!=null&&m(e,["tunedModel"],boe(h));const v=p(t,["distillationSpec"]);v!=null&&m(e,["distillationSpec"],v);const _=p(t,["experiment"]);_!=null&&m(e,["experiment"],_);const T=p(t,["labels"]);T!=null&&m(e,["labels"],T);const E=p(t,["pipelineJob"]);E!=null&&m(e,["pipelineJob"],E);const S=p(t,["satisfiesPzi"]);S!=null&&m(e,["satisfiesPzi"],S);const w=p(t,["satisfiesPzs"]);w!=null&&m(e,["satisfiesPzs"],w);const x=p(t,["serviceAccount"]);x!=null&&m(e,["serviceAccount"],x);const N=p(t,["tunedModelDisplayName"]);return N!=null&&m(e,["tunedModelDisplayName"],N),e}function Toe(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=p(t,["tunedModels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>FB(o))),m(e,["tuningJobs"],i)}return e}function Eoe(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=p(t,["done"]);i!=null&&m(e,["done"],i);const o=p(t,["error"]);return o!=null&&m(e,["error"],o),e}function Soe(t){const e={},n=p(t,["checkpointId"]);n!=null&&m(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&m(e,["epoch"],r);const i=p(t,["step"]);i!=null&&m(e,["step"],i);const o=p(t,["endpoint"]);return o!=null&&m(e,["endpoint"],o),e}function woe(t){const e={},n=p(t,["model"]);n!=null&&m(e,["model"],n);const r=p(t,["endpoint"]);r!=null&&m(e,["endpoint"],r);const i=p(t,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Soe(a))),m(e,["checkpoints"],o)}return e}function ZT(t){const e={},n=p(t,["name"]);n!=null&&m(e,["name"],n);const r=p(t,["state"]);r!=null&&m(e,["state"],gB(r));const i=p(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=p(t,["startTime"]);o!=null&&m(e,["startTime"],o);const a=p(t,["endTime"]);a!=null&&m(e,["endTime"],a);const u=p(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const c=p(t,["error"]);c!=null&&m(e,["error"],c);const d=p(t,["description"]);d!=null&&m(e,["description"],d);const h=p(t,["baseModel"]);h!=null&&m(e,["baseModel"],h);const v=p(t,["tunedModel"]);v!=null&&m(e,["tunedModel"],woe(v));const _=p(t,["supervisedTuningSpec"]);_!=null&&m(e,["supervisedTuningSpec"],_);const T=p(t,["tuningDataStats"]);T!=null&&m(e,["tuningDataStats"],T);const E=p(t,["encryptionSpec"]);E!=null&&m(e,["encryptionSpec"],E);const S=p(t,["partnerModelTuningSpec"]);S!=null&&m(e,["partnerModelTuningSpec"],S);const w=p(t,["distillationSpec"]);w!=null&&m(e,["distillationSpec"],w);const x=p(t,["experiment"]);x!=null&&m(e,["experiment"],x);const N=p(t,["labels"]);N!=null&&m(e,["labels"],N);const P=p(t,["pipelineJob"]);P!=null&&m(e,["pipelineJob"],P);const k=p(t,["satisfiesPzi"]);k!=null&&m(e,["satisfiesPzi"],k);const M=p(t,["satisfiesPzs"]);M!=null&&m(e,["satisfiesPzs"],M);const L=p(t,["serviceAccount"]);L!=null&&m(e,["serviceAccount"],L);const F=p(t,["tunedModelDisplayName"]);return F!=null&&m(e,["tunedModelDisplayName"],F),e}function Coe(t){const e={},n=p(t,["nextPageToken"]);n!=null&&m(e,["nextPageToken"],n);const r=p(t,["tuningJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ZT(o))),m(e,["tuningJobs"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xoe extends ol{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Yd(Ka.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:$T.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=hoe(e);return u=_e("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>ZT(h))}else{const d=soe(e);return u=_e("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>FB(h))}}async listInternal(e){var n,r,i,o;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=moe(e);return u=_e("tuningJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const v=Coe(h),_=new NN;return Object.assign(_,v),_})}else{const d=loe(e);return u=_e("tunedModels",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),a.then(h=>{const v=Toe(h),_=new NN;return Object.assign(_,v),_})}}async tuneInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const u=_oe(e);return o=_e("tuningJobs",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>ZT(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=doe(e);return o=_e("tunedModels",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Eoe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aoe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ioe=1024*1024*8,Roe=3,Poe=1e3,Noe=2,b0="x-goog-upload-status";async function Moe(t,e,n){var r,i,o;let a=0,u=0,c=new zT(new Response),d="upload";for(a=t.size;u<a;){const v=Math.min(Ioe,a-u),_=t.slice(u,u+v);u+v>=a&&(d+=", finalize");let T=0,E=Poe;for(;T<Roe&&(c=await n.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(u),"Content-Length":String(v)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[b0]));)T++,await Ooe(E),E=E*Noe;if(u+=v,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[b0])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(c==null?void 0:c.json());if(((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[b0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function koe(t){return{size:t.size,type:t.type}}function Ooe(t){return new Promise(e=>setTimeout(e,t))}class Doe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Moe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await koe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Loe{create(e,n,r){return new Uoe(e,n,r)}}class Uoe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iM="x-goog-api-key";class Boe{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(iM)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(iM,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Foe="gl-node/";class Voe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=kJ(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Boe(this.apiKey);this.apiClient=new eie({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Foe+"web",uploader:new Doe,downloader:new Aoe}),this.models=new yie(this.apiClient),this.live=new hie(this.apiClient,i,new Loe),this.batches=new aZ(this.apiClient),this.chats=new fQ(this.models,this.apiClient),this.caches=new lQ(this.apiClient),this.files=new wQ(this.apiClient),this.operations=new Rie(this.apiClient),this.authTokens=new ooe(this.apiClient),this.tunings=new xoe(this.apiClient)}}const VB=new Voe({apiKey:"PLACEHOLDER_API_KEY"}),qoe=`You are a 'Blockly XML Generator' for a smart farm application called 'FarmCoding'.
Your task is to convert a user's natural language request into a valid Blockly XML string.
The user's goal is to automate farm tasks.
You MUST ONLY respond with a JSON object containing a single key "xml". The value of "xml" should be the complete and valid Blockly XML string.

**Available Blocks and their XML structure:**

1.  **Control Pump:**
    - Type: \`controls_pump\`
    - Fields: \`STATE\` ('ON' or 'OFF')
    - Example: \`<block type="controls_pump"><field name="STATE">ON</field></block>\`

2.  **Control LED:**
    - Type: \`controls_led\`
    - Fields: \`STATE\` ('ON' or 'OFF')
    - Example: \`<block type="controls_led"><field name="STATE">OFF</field></block>\`

3.  **Get Sensor Value:**
    - Type: \`get_sensor_value\`
    - Fields: \`SENSOR_TYPE\` ('temperature', 'humidity', 'soil_moisture')
    - Output: Number
    - Example: \`<block type="get_sensor_value"><field name="SENSOR_TYPE">temperature</field></block>\`

4.  **Wait:**
    - Type: \`wait_seconds\`
    - Inputs: \`SECONDS\` (expects a number block)
    - Example: \`<block type="wait_seconds"><value name="SECONDS"><shadow type="math_number"><field name="NUM">5</field></shadow></value></block>\`

5.  **Log Message:**
    - Type: \`log_message\`
    - Inputs: \`MESSAGE\` (expects a text block)
    - Example: \`<block type="log_message"><value name="MESSAGE"><shadow type="text"><field name="TEXT">Hello</field></shadow></value></block>\`

6.  **If/Else Condition:**
    - Type: \`controls_if\`
    - Inputs: \`IF0\` (condition), \`DO0\` (statement)
    - Example for "if temperature > 30":
      \`<block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">GT</field><value name="A"><block type="get_sensor_value"><field name="SENSOR_TYPE">temperature</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">30</field></shadow></value></block></value><statement name="DO0"><!-- blocks to execute go here --></statement></block>\`

7. **Numbers and Text:**
   - Use \`<shadow type="math_number"><field name="NUM">...</field></shadow>\` for numbers.
   - Use \`<shadow type="text"><field name="TEXT">...</field></shadow>\` for text.

**IMPORTANT RULES:**
- The final output MUST be a single XML string wrapped in \`<xml xmlns="https://developers.google.com/blockly/xml">...</xml>\`.
- Multiple top-level blocks should be linked using \`<next>...</next>\`.
- Analyze the user's request carefully and construct the most logical block sequence.
- Do NOT include any explanations or text outside of the JSON object.
- The user input will be in Korean.
`,$oe=async(t,e)=>{const n="gemini-2.5-flash-preview-04-17",r=`You are 'AI 농부' (AI Farmer), an expert farming assistant for a smart farm called 'FarmCoding'. 
Your goal is to provide concise, helpful, and actionable advice to a user managing their farm.
Base your answers on the provided real-time sensor data.
Keep your responses brief and easy to understand. Format important points with markdown lists.

Current farm conditions:
- Temperature: ${e.temperature??"N/A"}°C
- Humidity: ${e.humidity??"N/A"}%
- Soil Moisture: ${e.soil_moisture??"N/A"} (Note: Lower values mean wetter soil, higher values mean drier soil)
- Pump Status: ${e.pump_status??"N/A"}
- LED Status: ${e.led_status??"N/A"}
`;try{return(await VB.models.generateContent({model:n,contents:t,config:{systemInstruction:r,temperature:.7,topP:1,topK:32}})).text}catch(i){return console.error("Error calling Gemini API:",i),"죄송합니다. 생각하는 도중에 오류가 발생했습니다. 자세한 내용은 콘솔을 확인해주세요."}},zoe=async t=>{const e="gemini-2.5-flash-preview-04-17";try{let r=(await VB.models.generateContent({model:e,contents:t,config:{systemInstruction:qoe,temperature:.2,topP:1,topK:32,responseMimeType:"application/json"}})).text.trim();const i=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,o=r.match(i);o&&o[2]&&(r=o[2].trim());const a=JSON.parse(r);if(a&&typeof a.xml=="string")return a.xml;throw new Error("AI response did not contain valid XML.")}catch(n){throw console.error("Error calling Gemini API for block generation:",n),new Error("AI가 블록을 생성하는 데 실패했습니다. 다시 시도해 주세요.")}},Hoe=()=>{Blockly.Blocks.controls_pump||(Blockly.defineBlocksWithJsonArray([{type:"controls_pump",message0:"💧 펌프 %1",args0:[{type:"field_dropdown",name:"STATE",options:[["켜기","ON"],["끄기","OFF"]]}],previousStatement:null,nextStatement:null,colour:230,tooltip:"펌프를 켜거나 끕니다."},{type:"controls_led",message0:"💡 LED %1",args0:[{type:"field_dropdown",name:"STATE",options:[["켜기","ON"],["끄기","OFF"]]}],previousStatement:null,nextStatement:null,colour:65,tooltip:"LED를 켜거나 끕니다."},{type:"get_sensor_value",message0:"📈 센서 값 %1",args0:[{type:"field_dropdown",name:"SENSOR_TYPE",options:[["온도","temperature"],["습도","humidity"],["토양 습도","soil_moisture"]]}],output:"Number",colour:160,tooltip:"지정된 센서의 현재 값을 가져옵니다."},{type:"wait_seconds",message0:"⏱️ %1 초 기다리기",args0:[{type:"input_value",name:"SECONDS",check:"Number"}],previousStatement:null,nextStatement:null,colour:50,tooltip:"지정된 시간(초)만큼 실행을 중지합니다."},{type:"get_setting_value",message0:"⚙️ 설정 값 %1",args0:[{type:"field_dropdown",name:"SETTING_TYPE",options:[["고온 기준","highTemp"],["저온 기준","lowTemp"]]}],output:"Number",colour:160,tooltip:"사용자 설정에서 경고 기준 온도를 가져옵니다."},{type:"log_message",message0:"✍️ 로그 남기기 %1",args0:[{type:"input_value",name:"MESSAGE",check:"String"}],previousStatement:null,nextStatement:null,colour:45,tooltip:"이벤트 로그에 메시지를 기록합니다."},{type:"device_status_check",message0:"%1 (이)가 %2 상태",args0:[{type:"field_dropdown",name:"DEVICE",options:[["💧 펌프","pump"],["💡 LED","led"]]},{type:"field_dropdown",name:"STATE",options:[["켜짐","ON"],["꺼짐","OFF"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"펌프나 LED의 현재 상태가 맞는지 확인합니다."},{type:"text_comment",message0:"💬 주석: %1",args0:[{type:"field_input",name:"COMMENT",text:"내용을 입력하세요"}],previousStatement:null,nextStatement:null,colour:180,tooltip:"코드에 대한 설명을 추가합니다. 실제 동작에는 영향을 주지 않습니다."}]),Blockly.JavaScript.controls_pump=function(t){return`uploadCodeToFirebase('pump_${t.getFieldValue("STATE").toLowerCase()}');
`},Blockly.JavaScript.controls_led=function(t){return`uploadCodeToFirebase('led_${t.getFieldValue("STATE").toLowerCase()}');
`},Blockly.JavaScript.get_sensor_value=function(t){return[`getSensorValue('${t.getFieldValue("SENSOR_TYPE")}')`,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.wait_seconds=function(t){return`await new Promise(resolve => setTimeout(resolve, ${Blockly.JavaScript.valueToCode(t,"SECONDS",Blockly.JavaScript.ORDER_ATOMIC)||0} * 1000));
`},Blockly.JavaScript.get_setting_value=function(t){return[`getSettingValue('${t.getFieldValue("SETTING_TYPE")}')`,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.log_message=function(t){return`addLog(${Blockly.JavaScript.valueToCode(t,"MESSAGE",Blockly.JavaScript.ORDER_ATOMIC)||"''"});
`},Blockly.JavaScript.device_status_check=function(t){const e=t.getFieldValue("DEVICE"),n=t.getFieldValue("STATE");return[`(getSensorValue('${e}_status') === '${n}')`,Blockly.JavaScript.ORDER_EQUALITY]},Blockly.JavaScript.text_comment=function(t){return"// "+t.getFieldValue("COMMENT")+"\\n"})},Goe=`
  <xml id="toolbox" style="display: none">
    <category name="🌱 팜 제어" colour="#5B80A5">
      <block type="controls_pump"></block>
      <block type="controls_led"></block>
      <block type="log_message"></block>
    </category>
    <category name="⏳ 흐름 제어" colour="#5BA55B">
       <block type="wait_seconds">
         <value name="SECONDS">
           <shadow type="math_number"><field name="NUM">1</field></shadow>
         </value>
       </block>
    </category>
    <category name="📈 센서 &amp; 설정" colour="#A5745B">
        <block type="get_sensor_value"></block>
        <block type="get_setting_value"></block>
    </category>
    <category name="⚙️ 논리" colour="%{BKY_LOGIC_HUE}">
      <block type="controls_if"></block>
      <block type="logic_compare"></block>
      <block type="logic_operation"></block>
      <block type="logic_negate"></block>
      <block type="logic_boolean"></block>
      <block type="device_status_check"></block>
    </category>
    <category name="🔁 반복" colour="%{BKY_LOOPS_HUE}">
      <block type="controls_repeat_ext">
        <value name="TIMES">
          <shadow type="math_number"><field name="NUM">10</field></shadow>
        </value>
      </block>
    </category>
    <category name="🧮 수학" colour="%{BKY_MATH_HUE}">
      <block type="math_number"><field name="NUM">0</field></block>
      <block type="math_arithmetic"></block>
    </category>
    <category name="📝 텍스트" colour="%{BKY_TEXTS_HUE}">
      <block type="text"></block>
    </category>
    <category name="💬 주석" colour="#999999">
      <block type="text_comment"></block>
    </category>
  </xml>
`,joe=A.forwardRef(({onCodeChange:t},e)=>{const n=A.useRef(null),r=A.useRef(null);return A.useEffect(()=>{if(!n.current)return;Hoe(),r.current=Blockly.inject(n.current,{toolbox:Goe,scrollbars:!0,trashcan:!0,renderer:"zelos",theme:Blockly.Themes.Zelos});const i=()=>{if(r.current){const o=Blockly.JavaScript.workspaceToCode(r.current);t(o)}};return r.current.addChangeListener(i),()=>{var o;(o=r.current)==null||o.dispose()}},[]),A.useImperativeHandle(e,()=>({getJsCode:()=>r.current?Blockly.JavaScript.workspaceToCode(r.current):"",getXml:()=>{if(r.current)try{const i=Blockly.Xml.workspaceToDom(r.current);return new XMLSerializer().serializeToString(i)}catch(i){return console.error("Failed to get XML from workspace:",i),""}return""},loadXml:i=>{if(r.current)try{if(r.current.clear(),i){const a=new DOMParser().parseFromString(i,"text/xml");if(a.getElementsByTagName("parsererror").length>0)return console.error("Error parsing stored XML for Blockly."),!1;Blockly.Xml.domToWorkspace(a.documentElement,r.current)}return!0}catch(o){return console.error("Failed to load XML to workspace:",o),!1}return!1}})),I.jsx("div",{ref:n,className:"w-full h-full"})});function qB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=qB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=qB(t))&&(r&&(r+=" "),r+=e);return r}var T0={},E0={},oM;function Woe(){return oM||(oM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(E0)),E0}var S0={},sM;function $B(){return sM||(sM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(S0)),S0}var w0={},aM;function zB(){return aM||(aM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e}(w0)),w0}var C0={},lM;function gw(){return lM||(lM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,a="",u="",c=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const d=n[o];u?d==="\\"&&o+1<i?(o++,a+=n[o]):d===u?u="":a+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,r.push(a),a=""):a+=d:d==="["?(c=!0,a&&(r.push(a),a="")):d==="."?a&&(r.push(a),a=""):a+=d,o++}return a&&r.push(a),r}t.toPath=e}(C0)),C0}var uM;function vw(){return uM||(uM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Woe(),n=$B(),r=zB(),i=gw();function o(u,c,d){if(u==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?n.isDeepKey(c)?o(u,i.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?d:h}default:{if(Array.isArray(c))return a(u,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?d:h}}}function a(u,c,d){if(c.length===0)return d;let h=u;for(let v=0;v<c.length;v++){if(h==null||e.isUnsafeProperty(c[v]))return d;h=h[c[v]]}return h===void 0?d:h}t.get=o}(T0)),T0}var x0,cM;function Koe(){return cM||(cM=1,x0=vw().get),x0}var Yoe=Koe();const Ya=Ki(Yoe);var A0={exports:{}},pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fM;function Joe(){if(fM)return pt;fM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function E(S){if(typeof S=="object"&&S!==null){var w=S.$$typeof;switch(w){case t:switch(S=S.type,S){case n:case i:case r:case c:case d:case _:return S;default:switch(S=S&&S.$$typeof,S){case a:case u:case v:case h:return S;case o:return S;default:return w}}case e:return w}}}return pt.ContextConsumer=o,pt.ContextProvider=a,pt.Element=t,pt.ForwardRef=u,pt.Fragment=n,pt.Lazy=v,pt.Memo=h,pt.Portal=e,pt.Profiler=i,pt.StrictMode=r,pt.Suspense=c,pt.SuspenseList=d,pt.isContextConsumer=function(S){return E(S)===o},pt.isContextProvider=function(S){return E(S)===a},pt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},pt.isForwardRef=function(S){return E(S)===u},pt.isFragment=function(S){return E(S)===n},pt.isLazy=function(S){return E(S)===v},pt.isMemo=function(S){return E(S)===h},pt.isPortal=function(S){return E(S)===e},pt.isProfiler=function(S){return E(S)===i},pt.isStrictMode=function(S){return E(S)===r},pt.isSuspense=function(S){return E(S)===c},pt.isSuspenseList=function(S){return E(S)===d},pt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===c||S===d||typeof S=="object"&&S!==null&&(S.$$typeof===v||S.$$typeof===h||S.$$typeof===a||S.$$typeof===o||S.$$typeof===u||S.$$typeof===T||S.getModuleId!==void 0)},pt.typeOf=E,pt}var dM;function Xoe(){return dM||(dM=1,A0.exports=Joe()),A0.exports}var Zoe=Xoe(),Zr=t=>t===0?0:t>0?1:-1,ri=t=>typeof t=="number"&&t!=+t,Sa=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,be=t=>(typeof t=="number"||t instanceof Number)&&!ri(t),ji=t=>be(t)||typeof t=="string",Qoe=0,bd=t=>{var e=++Qoe;return"".concat(t||"").concat(e)},Us=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(e)&&typeof e!="string")return r;var o;if(Sa(e)){if(n==null)return r;var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return ri(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},HB=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},wf=(t,e)=>be(t)&&be(e)?n=>t+n*(e-t):()=>e;function yw(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Ya(r,e))===n)}var Ht=t=>t===null||typeof t>"u",Jd=t=>Ht(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),ese=["viewBox","children"],tse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hM=["points","pathLength"],I0={svg:ese,polygon:hM,polyline:hM},_w=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bw=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{_w.includes(i)&&(r[i]=o=>n[i](n,o))}),r},nse=(t,e,n)=>r=>(t(e,n,r),null),GB=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];_w.includes(i)&&typeof o=="function"&&(r||(r={}),r[i]=nse(o,e,n))}),r},pM=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",mM=null,R0=null,jB=t=>{if(t===mM&&Array.isArray(R0))return R0;var e=[];return A.Children.forEach(t,n=>{Ht(n)||(Zoe.isFragment(n)?e=e.concat(jB(n.props.children)):e.push(n))}),R0=e,mM=t,e};function WB(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>pM(i)):r=[pM(e)],jB(t).forEach(i=>{var o=Ya(i,"type.displayName")||Ya(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var KB=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,rse=(t,e,n,r)=>{var i,o=(i=r&&(I0==null?void 0:I0[r]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&o.includes(e)||tse.includes(e))||n&&_w.includes(e)},Et=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(A.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var a;rse((a=r)===null||a===void 0?void 0:a[o],o,e,n)&&(i[o]=r[o])}),i},ise=["children","width","height","viewBox","className","style","title","desc"];function QT(){return QT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QT.apply(null,arguments)}function ose(t,e){if(t==null)return{};var n,r,i=sse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tw=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:u,title:c,desc:d}=t,h=ose(t,ise),v=o||{width:r,height:i,x:0,y:0},_=vt("recharts-surface",a);return A.createElement("svg",QT({},Et(h,!0,"svg"),{className:_,width:r,height:i,style:u,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:e}),A.createElement("title",null,c),A.createElement("desc",null,d),n)}),ase=["children","className"];function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(null,arguments)}function lse(t,e){if(t==null)return{};var n,r,i=use(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function use(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bs=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=lse(t,ase),o=vt("recharts-layer",r);return A.createElement("g",eE({className:o},Et(i,!0),{ref:e}),n)}),YB=WD(),JB=A.createContext(null),cse=()=>A.useContext(JB);function Tt(t){return function(){return t}}const XB=Math.cos,Rm=Math.sin,Si=Math.sqrt,Pm=Math.PI,Xg=2*Pm,tE=Math.PI,nE=2*tE,va=1e-6,fse=nE-va;function ZB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function dse(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ZB;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class hse{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ZB:dse(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,u=this._y1,c=r-e,d=i-n,h=a-e,v=u-n,_=h*h+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>va)if(!(Math.abs(v*c-d*h)>va)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let T=r-a,E=i-u,S=c*c+d*d,w=T*T+E*E,x=Math.sqrt(S),N=Math.sqrt(_),P=o*Math.tan((tE-Math.acos((S+_-w)/(2*x*N)))/2),k=P/N,M=P/x;Math.abs(k-1)>va&&this._append`L${e+k*h},${n+k*v}`,this._append`A${o},${o},0,0,${+(v*T>h*E)},${this._x1=e+M*c},${this._y1=n+M*d}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),d=e+u,h=n+c,v=1^a,_=a?i-o:o-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>va||Math.abs(this._y1-h)>va)&&this._append`L${d},${h}`,r&&(_<0&&(_=_%nE+nE),_>fse?this._append`A${r},${r},0,1,${v},${e-u},${n-c}A${r},${r},0,1,${v},${this._x1=d},${this._y1=h}`:_>va&&this._append`A${r},${r},0,${+(_>=tE)},${v},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ew(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new hse(e)}function Sw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function QB(t){this._context=t}QB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Zg(t){return new QB(t)}function eF(t){return t[0]}function tF(t){return t[1]}function nF(t,e){var n=Tt(!0),r=null,i=Zg,o=null,a=Ew(u);t=typeof t=="function"?t:t===void 0?eF:Tt(t),e=typeof e=="function"?e:e===void 0?tF:Tt(e);function u(c){var d,h=(c=Sw(c)).length,v,_=!1,T;for(r==null&&(o=i(T=a())),d=0;d<=h;++d)!(d<h&&n(v=c[d],d,c))===_&&((_=!_)?o.lineStart():o.lineEnd()),_&&o.point(+t(v,d,c),+e(v,d,c));if(T)return o=null,T+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Tt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Tt(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Tt(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function Ip(t,e,n){var r=null,i=Tt(!0),o=null,a=Zg,u=null,c=Ew(d);t=typeof t=="function"?t:t===void 0?eF:Tt(+t),e=typeof e=="function"?e:Tt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?tF:Tt(+n);function d(v){var _,T,E,S=(v=Sw(v)).length,w,x=!1,N,P=new Array(S),k=new Array(S);for(o==null&&(u=a(N=c())),_=0;_<=S;++_){if(!(_<S&&i(w=v[_],_,v))===x)if(x=!x)T=_,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=_-1;E>=T;--E)u.point(P[E],k[E]);u.lineEnd(),u.areaEnd()}x&&(P[_]=+t(w,_,v),k[_]=+e(w,_,v),u.point(r?+r(w,_,v):P[_],n?+n(w,_,v):k[_]))}if(N)return u=null,N+""||null}function h(){return nF().defined(i).curve(a).context(o)}return d.x=function(v){return arguments.length?(t=typeof v=="function"?v:Tt(+v),r=null,d):t},d.x0=function(v){return arguments.length?(t=typeof v=="function"?v:Tt(+v),d):t},d.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:Tt(+v),d):r},d.y=function(v){return arguments.length?(e=typeof v=="function"?v:Tt(+v),n=null,d):e},d.y0=function(v){return arguments.length?(e=typeof v=="function"?v:Tt(+v),d):e},d.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:Tt(+v),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(v){return arguments.length?(i=typeof v=="function"?v:Tt(!!v),d):i},d.curve=function(v){return arguments.length?(a=v,o!=null&&(u=a(o)),d):a},d.context=function(v){return arguments.length?(v==null?o=u=null:u=a(o=v),d):o},d}class rF{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function pse(t){return new rF(t,!0)}function mse(t){return new rF(t,!1)}const ww={draw(t,e){const n=Si(e/Pm);t.moveTo(n,0),t.arc(0,0,n,0,Xg)}},gse={draw(t,e){const n=Si(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},iF=Si(1/3),vse=iF*2,yse={draw(t,e){const n=Si(e/vse),r=n*iF;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},_se={draw(t,e){const n=Si(e),r=-n/2;t.rect(r,r,n,n)}},bse=.8908130915292852,oF=Rm(Pm/10)/Rm(7*Pm/10),Tse=Rm(Xg/10)*oF,Ese=-XB(Xg/10)*oF,Sse={draw(t,e){const n=Si(e*bse),r=Tse*n,i=Ese*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Xg*o/5,u=XB(a),c=Rm(a);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},P0=Si(3),wse={draw(t,e){const n=-Si(e/(P0*3));t.moveTo(0,n*2),t.lineTo(-P0*n,-n),t.lineTo(P0*n,-n),t.closePath()}},zr=-.5,Hr=Si(3)/2,rE=1/Si(12),Cse=(rE/2+1)*3,xse={draw(t,e){const n=Si(e/Cse),r=n/2,i=n*rE,o=r,a=n*rE+n,u=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,c),t.lineTo(zr*r-Hr*i,Hr*r+zr*i),t.lineTo(zr*o-Hr*a,Hr*o+zr*a),t.lineTo(zr*u-Hr*c,Hr*u+zr*c),t.lineTo(zr*r+Hr*i,zr*i-Hr*r),t.lineTo(zr*o+Hr*a,zr*a-Hr*o),t.lineTo(zr*u+Hr*c,zr*c-Hr*u),t.closePath()}};function Ase(t,e){let n=null,r=Ew(i);t=typeof t=="function"?t:Tt(t||ww),e=typeof e=="function"?e:Tt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Tt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Tt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Nm(){}function Mm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function sF(t){this._context=t}sF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ise(t){return new sF(t)}function aF(t){this._context=t}aF.prototype={areaStart:Nm,areaEnd:Nm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Mm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Rse(t){return new aF(t)}function lF(t){this._context=t}lF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Mm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Pse(t){return new lF(t)}function uF(t){this._context=t}uF.prototype={areaStart:Nm,areaEnd:Nm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Nse(t){return new uF(t)}function gM(t){return t<0?-1:1}function vM(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(gM(o)+gM(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function yM(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function N0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function km(t){this._context=t}km.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:N0(this,this._t0,yM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,N0(this,yM(this,n=vM(this,t,e)),n);break;default:N0(this,this._t0,n=vM(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function cF(t){this._context=new fF(t)}(cF.prototype=Object.create(km.prototype)).point=function(t,e){km.prototype.point.call(this,e,t)};function fF(t){this._context=t}fF.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Mse(t){return new km(t)}function kse(t){return new cF(t)}function dF(t){this._context=t}dF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=_M(t),i=_M(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _M(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Ose(t){return new dF(t)}function Qg(t,e){this._context=t,this._t=e}Qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Dse(t){return new Qg(t,.5)}function Lse(t){return new Qg(t,0)}function Use(t){return new Qg(t,1)}function Uu(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,u=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function iE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Bse(t,e){return t[e]}function Fse(t){const e=[];return e.key=t,e}function Vse(){var t=Tt([]),e=iE,n=Uu,r=Bse;function i(o){var a=Array.from(t.apply(this,arguments),Fse),u,c=a.length,d=-1,h;for(const v of o)for(u=0,++d;u<c;++u)(a[u][d]=[0,+r(v,a[u].key,d,o)]).data=v;for(u=0,h=Sw(e(a));u<c;++u)a[h[u]].index=u;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Tt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Tt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?iE:typeof o=="function"?o:Tt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Uu,i):n},i}function qse(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Uu(t,e)}}function $se(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,u=0;a<i;++a)u+=t[a][n][1]||0;r[n][1]+=r[n][0]=-u/2}Uu(t,e)}}function zse(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var u=0,c=0,d=0;u<a;++u){for(var h=t[e[u]],v=h[r][1]||0,_=h[r-1][1]||0,T=(v-_)/2,E=0;E<u;++E){var S=t[e[E]],w=S[r][1]||0,x=S[r-1][1]||0;T+=w-x}c+=v,d+=T*v}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Uu(t,e)}}var Hse=["type","size","sizeType"];function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(null,arguments)}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Gse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gse(t,e,n){return(e=jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jse(t){var e=Wse(t,"string");return typeof e=="symbol"?e:e+""}function Wse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kse(t,e){if(t==null)return{};var n,r,i=Yse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hF={symbolCircle:ww,symbolCross:gse,symbolDiamond:yse,symbolSquare:_se,symbolStar:Sse,symbolTriangle:wse,symbolWye:xse},Jse=Math.PI/180,Xse=t=>{var e="symbol".concat(Jd(t));return hF[e]||ww},Zse=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Jse;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Qse=(t,e)=>{hF["symbol".concat(Jd(t))]=e},pF=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Kse(t,Hse),o=TM(TM({},i),{},{type:e,size:n,sizeType:r}),a=()=>{var v=Xse(e),_=Ase().type(v).size(Zse(n,r,e));return _()},{className:u,cx:c,cy:d}=o,h=Et(o,!0);return c===+c&&d===+d&&n===+n?A.createElement("path",oE({},h,{className:vt("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(d,")"),d:a()})):null};pF.registerSymbol=Qse;function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE.apply(null,arguments)}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){Cw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cw(t,e,n){return(e=tae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tae(t){var e=nae(t,"string");return typeof e=="symbol"?e:e+""}function nae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gr=32;class xw extends A.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Gr/2,o=Gr/6,a=Gr/3,u=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Gr,y2:i,className:"recharts-legend-icon"});if(c==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Gr,"M").concat(2*a,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return A.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Gr/8,"h").concat(Gr,"v").concat(Gr*3/4,"h").concat(-Gr,"z"),className:"recharts-legend-icon"});if(A.isValidElement(e.legendIcon)){var d=eae({},e);return delete d.legendIcon,A.cloneElement(e.legendIcon,d)}return A.createElement(pF,{fill:u,cx:i,cy:i,size:Gr,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:a}=this.props,u={x:0,y:0,width:Gr,height:Gr},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,v)=>{var _=h.formatter||i,T=vt({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:h.inactive});if(h.type==="none")return null;var E=h.inactive?o:h.color,S=_?_(h.value,h,v):h.value;return A.createElement("li",sE({className:T,style:c,key:"legend-item-".concat(v)},GB(this.props,h,v)),A.createElement(Tw,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(S," legend icon")},this.renderIcon(h,a)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},S))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Cw(xw,"displayName","Legend");Cw(xw,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var M0={},k0={},SM;function rae(){return SM||(SM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],u=r(a);i.has(u)||i.set(u,a)}return Array.from(i.values())}t.uniqBy=e}(k0)),k0}var O0={},wM;function mF(){return wM||(wM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(O0)),O0}var D0={},L0={},U0={},CM;function iae(){return CM||(CM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(U0)),U0}var xM;function Aw(){return xM||(xM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iae();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(L0)),L0}var B0={},AM;function oae(){return AM||(AM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(B0)),B0}var IM;function sae(){return IM||(IM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aw(),n=oae();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r}(D0)),D0}var F0={},V0={},RM;function aae(){return RM||(RM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vw();function n(r){return function(i){return e.get(i,r)}}t.property=n}(V0)),V0}var q0={},$0={},z0={},H0={},PM;function gF(){return PM||(PM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}(H0)),H0}var G0={},NM;function vF(){return NM||(NM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(G0)),G0}var j0={},MM;function Iw(){return MM||(MM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(j0)),j0}var kM;function lae(){return kM||(kM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rw(),n=gF(),r=vF(),i=Iw();function o(v,_,T){return typeof T!="function"?e.isMatch(v,_):a(v,_,function E(S,w,x,N,P,k){const M=T(S,w,x,N,P,k);return M!==void 0?!!M:a(S,w,E,k)},new Map)}function a(v,_,T,E){if(_===v)return!0;switch(typeof _){case"object":return u(v,_,T,E);case"function":return Object.keys(_).length>0?a(v,{..._},T,E):i.eq(v,_);default:return n.isObject(v)?typeof _=="string"?_==="":!0:i.eq(v,_)}}function u(v,_,T,E){if(_==null)return!0;if(Array.isArray(_))return d(v,_,T,E);if(_ instanceof Map)return c(v,_,T,E);if(_ instanceof Set)return h(v,_,T,E);const S=Object.keys(_);if(v==null)return S.length===0;if(S.length===0)return!0;if(E&&E.has(_))return E.get(_)===v;E&&E.set(_,v);try{for(let w=0;w<S.length;w++){const x=S[w];if(!r.isPrimitive(v)&&!(x in v)||_[x]===void 0&&v[x]!==void 0||_[x]===null&&v[x]!==null||!T(v[x],_[x],x,v,_,E))return!1}return!0}finally{E&&E.delete(_)}}function c(v,_,T,E){if(_.size===0)return!0;if(!(v instanceof Map))return!1;for(const[S,w]of _.entries()){const x=v.get(S);if(T(x,w,S,v,_,E)===!1)return!1}return!0}function d(v,_,T,E){if(_.length===0)return!0;if(!Array.isArray(v))return!1;const S=new Set;for(let w=0;w<_.length;w++){const x=_[w];let N=!1;for(let P=0;P<v.length;P++){if(S.has(P))continue;const k=v[P];let M=!1;if(T(k,x,w,v,_,E)&&(M=!0),M){S.add(P),N=!0;break}}if(!N)return!1}return!0}function h(v,_,T,E){return _.size===0?!0:v instanceof Set?d([...v],[..._],T,E):!1}t.isMatchWith=o,t.isSetMatch=h}(z0)),z0}var OM;function Rw(){return OM||(OM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lae();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}($0)),$0}var W0={},K0={},Y0={},DM;function yF(){return DM||(DM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}(Y0)),Y0}var J0={},LM;function Pw(){return LM||(LM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}(J0)),J0}var X0={},UM;function Nw(){return UM||(UM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",u="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",v="[object Function]",_="[object ArrayBuffer]",T="[object Object]",E="[object Error]",S="[object DataView]",w="[object Uint8Array]",x="[object Uint8ClampedArray]",N="[object Uint16Array]",P="[object Uint32Array]",k="[object BigUint64Array]",M="[object Int8Array]",L="[object Int16Array]",F="[object Int32Array]",X="[object BigInt64Array]",G="[object Float32Array]",ae="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=_,t.arrayTag=h,t.bigInt64ArrayTag=X,t.bigUint64ArrayTag=k,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=E,t.float32ArrayTag=G,t.float64ArrayTag=ae,t.functionTag=v,t.int16ArrayTag=L,t.int32ArrayTag=F,t.int8ArrayTag=M,t.mapTag=c,t.numberTag=r,t.objectTag=T,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=N,t.uint32ArrayTag=P,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=x}(X0)),X0}var Z0={},BM;function uae(){return BM||(BM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}(Z0)),Z0}var FM;function _F(){return FM||(FM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yF(),n=Pw(),r=Nw(),i=vF(),o=uae();function a(h,v){return u(h,void 0,h,new Map,v)}function u(h,v,_,T=new Map,E=void 0){const S=E==null?void 0:E(h,v,_,T);if(S!=null)return S;if(i.isPrimitive(h))return h;if(T.has(h))return T.get(h);if(Array.isArray(h)){const w=new Array(h.length);T.set(h,w);for(let x=0;x<h.length;x++)w[x]=u(h[x],x,_,T,E);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;T.set(h,w);for(const[x,N]of h)w.set(x,u(N,x,_,T,E));return w}if(h instanceof Set){const w=new Set;T.set(h,w);for(const x of h)w.add(u(x,void 0,_,T,E));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);T.set(h,w);for(let x=0;x<h.length;x++)w[x]=u(h[x],x,_,T,E);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return T.set(h,w),c(w,h,_,T,E),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return T.set(h,w),c(w,h,_,T,E),w}if(h instanceof Blob){const w=new Blob([h],{type:h.type});return T.set(h,w),c(w,h,_,T,E),w}if(h instanceof Error){const w=new h.constructor;return T.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,c(w,h,_,T,E),w}if(typeof h=="object"&&d(h)){const w=Object.create(Object.getPrototypeOf(h));return T.set(h,w),c(w,h,_,T,E),w}return h}function c(h,v,_=h,T,E){const S=[...Object.keys(v),...e.getSymbols(v)];for(let w=0;w<S.length;w++){const x=S[w],N=Object.getOwnPropertyDescriptor(h,x);(N==null||N.writable)&&(h[x]=u(v[x],x,_,T,E))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=u,t.copyProperties=c}(K0)),K0}var VM;function cae(){return VM||(VM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_F();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}(W0)),W0}var qM;function fae(){return qM||(qM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rw(),n=cae();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r}(q0)),q0}var Q0={},eb={},tb={},$M;function dae(){return $M||($M=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_F(),n=Nw();function r(i,o){return e.cloneDeepWith(i,(a,u,c,d)=>{const h=o==null?void 0:o(a,u,c,d);if(h!=null)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(v,i),v}case n.argumentsTag:{const v={};return e.copyProperties(v,i),v.length=i.length,v[Symbol.iterator]=i[Symbol.iterator],v}default:return}})}t.cloneDeepWith=r}(tb)),tb}var zM;function hae(){return zM||(zM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dae();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(eb)),eb}var nb={},rb={},HM;function bF(){return HM||(HM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(rb)),rb}var ib={},GM;function pae(){return GM||(GM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pw();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}(ib)),ib}var jM;function mae(){return jM||(jM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$B(),n=bF(),r=pae(),i=gw();function o(a,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(a==null?void 0:a[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let d=a;for(let h=0;h<c.length;h++){const v=c[h];if((d==null||!Object.hasOwn(d,v))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(v)&&v<d.length))return!1;d=d[v]}return!0}t.has=o}(nb)),nb}var WM;function gae(){return WM||(WM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rw(),n=zB(),r=hae(),i=vw(),o=mae();function a(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(d){const h=i.get(d,u);return h===void 0?o.has(d,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=a}(Q0)),Q0}var KM;function vae(){return KM||(KM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mF(),n=aae(),r=fae(),i=gae();function o(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=o}(F0)),F0}var YM;function yae(){return YM||(YM=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rae(),n=mF(),r=sae(),i=vae();function o(a,u=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(u)):[]}t.uniqBy=o}(M0)),M0}var ob,JM;function _ae(){return JM||(JM=1,ob=yae().uniqBy),ob}var bae=_ae();const XM=Ki(bae);function TF(t,e,n){return e===!0?XM(t,n):typeof e=="function"?XM(t,e):t}var sb={exports:{}},ab={},lb={exports:{}},ub={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZM;function Tae(){if(ZM)return ub;ZM=1;var t=Gu();function e(v,_){return v===_&&(v!==0||1/v===1/_)||v!==v&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function u(v,_){var T=_(),E=r({inst:{value:T,getSnapshot:_}}),S=E[0].inst,w=E[1];return o(function(){S.value=T,S.getSnapshot=_,c(S)&&w({inst:S})},[v,T,_]),i(function(){return c(S)&&w({inst:S}),v(function(){c(S)&&w({inst:S})})},[v]),a(T),T}function c(v){var _=v.getSnapshot;v=v.value;try{var T=_();return!n(v,T)}catch{return!0}}function d(v,_){return _()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return ub.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,ub}var QM;function Eae(){return QM||(QM=1,lb.exports=Tae()),lb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ek;function Sae(){if(ek)return ab;ek=1;var t=Gu(),e=Eae();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,u=t.useMemo,c=t.useDebugValue;return ab.useSyncExternalStoreWithSelector=function(d,h,v,_,T){var E=o(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=u(function(){function x(L){if(!N){if(N=!0,P=L,L=_(L),T!==void 0&&S.hasValue){var F=S.value;if(T(F,L))return k=F}return k=L}if(F=k,r(P,L))return F;var X=_(L);return T!==void 0&&T(F,X)?(P=L,F):(P=L,k=X)}var N=!1,P,k,M=v===void 0?null:v;return[function(){return x(h())},M===null?void 0:function(){return x(M())}]},[h,v,_,T]);var w=i(d,E[0],E[1]);return a(function(){S.hasValue=!0,S.value=w},[w]),c(w),w},ab}var tk;function wae(){return tk||(tk=1,sb.exports=Sae()),sb.exports}var Cae=wae(),Mw=A.createContext(null),xae=t=>t,Mn=()=>{var t=A.useContext(Mw);return t?t.store.dispatch:xae},Kp=()=>{},Aae=()=>Kp,Iae=(t,e)=>t===e;function Ce(t){var e=A.useContext(Mw);return Cae.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Aae,e?e.store.getState:Kp,e?e.store.getState:Kp,e?t:Kp,Iae)}function Rae(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Pae(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Nae(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var nk=t=>Array.isArray(t)?t:[t];function Mae(t){const e=Array.isArray(t[0])?t[0]:t;return Nae(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function kae(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Oae=class{constructor(t){this.value=t}deref(){return this.value}},Dae=typeof WeakRef<"u"?WeakRef:Oae,Lae=0,rk=1;function Rp(){return{s:Lae,v:void 0,o:null,p:null}}function EF(t,e={}){let n=Rp();const{resultEqualityCheck:r}=e;let i,o=0;function a(){var v;let u=n;const{length:c}=arguments;for(let _=0,T=c;_<T;_++){const E=arguments[_];if(typeof E=="function"||typeof E=="object"&&E!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const w=S.get(E);w===void 0?(u=Rp(),S.set(E,u)):u=w}else{let S=u.p;S===null&&(u.p=S=new Map);const w=S.get(E);w===void 0?(u=Rp(),S.set(E,u)):u=w}}const d=u;let h;if(u.s===rk)h=u.v;else if(h=t.apply(null,arguments),o++,r){const _=((v=i==null?void 0:i.deref)==null?void 0:v.call(i))??i;_!=null&&r(_,h)&&(h=_,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Dae(h):h}return d.s=rk,d.v=h,h}return a.clearCache=()=>{n=Rp(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function Uae(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,a=0,u,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),Rae(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:v,memoizeOptions:_=[],argsMemoize:T=EF,argsMemoizeOptions:E=[]}=h,S=nk(_),w=nk(E),x=Mae(i),N=v(function(){return o++,d.apply(null,arguments)},...S),P=T(function(){a++;const M=kae(x,arguments);return u=N.apply(null,M),u},...w);return Object.assign(P,{resultFunc:d,memoizedResultFunc:N,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:v,argsMemoize:T})};return Object.assign(r,{withTypes:()=>r}),r}var Z=Uae(EF),Bae=Object.assign((t,e=Z)=>{Pae(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((a,u,c)=>(a[n[c]]=u,a),{}))},{withTypes:()=>Bae}),cb={},fb={},db={},ik;function Fae(){return ik||(ik=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=e(r),u=e(i);if(a===u&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-a:a-u}return 0};t.compareValues=n}(db)),db}var hb={},pb={},ok;function SF(){return ok||(ok=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(pb)),pb}var sk;function Vae(){return sk||(sk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SF(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}t.isKey=i}(hb)),hb}var ak;function qae(){return ak||(ak=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fae(),n=Vae(),r=gw();function i(o,a,u,c){if(o==null)return[];u=c?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(T=>String(T));const d=(T,E)=>{let S=T;for(let w=0;w<E.length&&S!=null;++w)S=S[E[w]];return S},h=(T,E)=>E==null||T==null?E:typeof T=="object"&&"key"in T?Object.hasOwn(E,T.key)?E[T.key]:d(E,T.path):typeof T=="function"?T(E):Array.isArray(T)?d(E,T):typeof E=="object"?E[T]:E,v=a.map(T=>(Array.isArray(T)&&T.length===1&&(T=T[0]),T==null||typeof T=="function"||Array.isArray(T)||n.isKey(T)?T:{key:T,path:r.toPath(T)}));return o.map(T=>({original:T,criteria:v.map(E=>h(E,T))})).slice().sort((T,E)=>{for(let S=0;S<v.length;S++){const w=e.compareValues(T.criteria[S],E.criteria[S],u[S]);if(w!==0)return w}return 0}).map(T=>T.original)}t.orderBy=i}(fb)),fb}var mb={},lk;function $ae(){return lk||(lk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),a=(u,c)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&c<o?a(h,c+1):i.push(h)}};return a(n,0),i}t.flatten=e}(mb)),mb}var gb={},uk;function wF(){return uk||(uk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bF(),n=Aw(),r=gF(),i=Iw();function o(a,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],a):!1}t.isIterateeCall=o}(gb)),gb}var ck;function zae(){return ck||(ck=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qae(),n=$ae(),r=wF();function i(o,...a){const u=a.length;return u>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:u>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(o,n.flatten(a),["asc"])}t.sortBy=i}(cb)),cb}var vb,fk;function Hae(){return fk||(fk=1,vb=zae().sortBy),vb}var Gae=Hae();const ev=Ki(Gae);var CF=t=>t.legend.settings,jae=t=>t.legend.size,Wae=t=>t.legend.payload,Kae=Z([Wae,CF],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?ev(r,n):r});function Yae(){return Ce(Kae)}var Pp=1;function xF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-e.height)>Pp||Math.abs(a.left-e.left)>Pp||Math.abs(a.top-e.top)>Pp||Math.abs(a.width-e.width)>Pp)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function In(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Jae=typeof Symbol=="function"&&Symbol.observable||"@@observable",dk=Jae,yb=()=>Math.random().toString(36).substring(7).split("").join("."),Xae={INIT:`@@redux/INIT${yb()}`,REPLACE:`@@redux/REPLACE${yb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${yb()}`},Om=Xae;function kw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function AF(t,e,n){if(typeof t!="function")throw new Error(In(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(In(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(In(1));return n(AF)(t,e)}let r=t,i=e,o=new Map,a=o,u=0,c=!1;function d(){a===o&&(a=new Map,o.forEach((w,x)=>{a.set(x,w)}))}function h(){if(c)throw new Error(In(3));return i}function v(w){if(typeof w!="function")throw new Error(In(4));if(c)throw new Error(In(5));let x=!0;d();const N=u++;return a.set(N,w),function(){if(x){if(c)throw new Error(In(6));x=!1,d(),a.delete(N),o=null}}}function _(w){if(!kw(w))throw new Error(In(7));if(typeof w.type>"u")throw new Error(In(8));if(typeof w.type!="string")throw new Error(In(17));if(c)throw new Error(In(9));try{c=!0,i=r(i,w)}finally{c=!1}return(o=a).forEach(N=>{N()}),w}function T(w){if(typeof w!="function")throw new Error(In(10));r=w,_({type:Om.REPLACE})}function E(){const w=v;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(In(11));function N(){const k=x;k.next&&k.next(h())}return N(),{unsubscribe:w(N)}},[dk](){return this}}}return _({type:Om.INIT}),{dispatch:_,subscribe:v,getState:h,replaceReducer:T,[dk]:E}}function Zae(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Om.INIT})>"u")throw new Error(In(12));if(typeof n(void 0,{type:Om.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(In(13))})}function IF(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{Zae(n)}catch(o){i=o}return function(a={},u){if(i)throw i;let c=!1;const d={};for(let h=0;h<r.length;h++){const v=r[h],_=n[v],T=a[v],E=_(T,u);if(typeof E>"u")throw u&&u.type,new Error(In(14));d[v]=E,c=c||E!==T}return c=c||r.length!==Object.keys(a).length,c?d:a}}function Dm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Qae(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(In(15))};const a={getState:i.getState,dispatch:(c,...d)=>o(c,...d)},u=t.map(c=>c(a));return o=Dm(...u)(i.dispatch),{...i,dispatch:o}}}function RF(t){return kw(t)&&"type"in t&&typeof t.type=="string"}var PF=Symbol.for("immer-nothing"),hk=Symbol.for("immer-draftable"),Nr=Symbol.for("immer-state");function mi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bu=Object.getPrototypeOf;function Ja(t){return!!t&&!!t[Nr]}function Ro(t){var e;return t?NF(t)||Array.isArray(t)||!!t[hk]||!!((e=t.constructor)!=null&&e[hk])||nv(t)||rv(t):!1}var ele=Object.prototype.constructor.toString();function NF(t){if(!t||typeof t!="object")return!1;const e=Bu(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===ele}function Lm(t,e){tv(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function tv(t){const e=t[Nr];return e?e.type_:Array.isArray(t)?1:nv(t)?2:rv(t)?3:0}function aE(t,e){return tv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function MF(t,e,n){const r=tv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function tle(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function nv(t){return t instanceof Map}function rv(t){return t instanceof Set}function ya(t){return t.copy_||t.base_}function lE(t,e){if(nv(t))return new Map(t);if(rv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=NF(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Nr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],u=r[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[a]})}return Object.create(Bu(t),r)}else{const r=Bu(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Ow(t,e=!1){return iv(t)||Ja(t)||!Ro(t)||(tv(t)>1&&(t.set=t.add=t.clear=t.delete=nle),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Ow(r,!0))),t}function nle(){mi(2)}function iv(t){return Object.isFrozen(t)}var rle={};function Xa(t){const e=rle[t];return e||mi(0,t),e}var Td;function kF(){return Td}function ile(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pk(t,e){e&&(Xa("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function uE(t){cE(t),t.drafts_.forEach(ole),t.drafts_=null}function cE(t){t===Td&&(Td=t.parent_)}function mk(t){return Td=ile(Td,t)}function ole(t){const e=t[Nr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gk(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Nr].modified_&&(uE(e),mi(4)),Ro(t)&&(t=Um(e,t),e.parent_||Bm(e,t)),e.patches_&&Xa("Patches").generateReplacementPatches_(n[Nr].base_,t,e.patches_,e.inversePatches_)):t=Um(e,n,[]),uE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==PF?t:void 0}function Um(t,e,n){if(iv(e))return e;const r=e[Nr];if(!r)return Lm(e,(i,o)=>vk(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Bm(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,a=!1;r.type_===3&&(o=new Set(i),i.clear(),a=!0),Lm(o,(u,c)=>vk(t,r,i,u,c,n,a)),Bm(t,i,!1),n&&t.patches_&&Xa("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function vk(t,e,n,r,i,o,a){if(Ja(i)){const u=o&&e&&e.type_!==3&&!aE(e.assigned_,r)?o.concat(r):void 0,c=Um(t,i,u);if(MF(n,r,c),Ja(c))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Ro(i)&&!iv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Um(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Bm(t,i)}}function Bm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Ow(e,n)}function sle(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:kF(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Dw;n&&(i=[r],o=Ed);const{revoke:a,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=a,u}var Dw={get(t,e){if(e===Nr)return t;const n=ya(t);if(!aE(n,e))return ale(t,n,e);const r=n[e];return t.finalized_||!Ro(r)?r:r===_b(t.base_,e)?(bb(t),t.copy_[e]=dE(r,t)):r},has(t,e){return e in ya(t)},ownKeys(t){return Reflect.ownKeys(ya(t))},set(t,e,n){const r=OF(ya(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=_b(ya(t),e),o=i==null?void 0:i[Nr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(tle(n,i)&&(n!==void 0||aE(t.base_,e)))return!0;bb(t),fE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return _b(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,bb(t),fE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ya(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){mi(11)},getPrototypeOf(t){return Bu(t.base_)},setPrototypeOf(){mi(12)}},Ed={};Lm(Dw,(t,e)=>{Ed[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ed.deleteProperty=function(t,e){return Ed.set.call(this,t,e,void 0)};Ed.set=function(t,e,n){return Dw.set.call(this,t[0],e,n,t[0])};function _b(t,e){const n=t[Nr];return(n?ya(n):t)[e]}function ale(t,e,n){var i;const r=OF(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function OF(t,e){if(!(e in t))return;let n=Bu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Bu(n)}}function fE(t){t.modified_||(t.modified_=!0,t.parent_&&fE(t.parent_))}function bb(t){t.copy_||(t.copy_=lE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var lle=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(c=o,...d){return a.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&mi(6),r!==void 0&&typeof r!="function"&&mi(7);let i;if(Ro(e)){const o=mk(this),a=dE(e,void 0);let u=!0;try{i=n(a),u=!1}finally{u?uE(o):cE(o)}return pk(o,r),gk(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===PF&&(i=void 0),this.autoFreeze_&&Ow(i,!0),r){const o=[],a=[];Xa("Patches").generateReplacementPatches_(e,i,o,a),r(o,a)}return i}else mi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...u)=>this.produceWithPatches(a,c=>e(c,...u));let r,i;return[this.produce(e,n,(a,u)=>{r=a,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ro(t)||mi(8),Ja(t)&&(t=As(t));const e=mk(this),n=dE(t,void 0);return n[Nr].isManual_=!0,cE(e),n}finishDraft(t,e){const n=t&&t[Nr];(!n||!n.isManual_)&&mi(9);const{scope_:r}=n;return pk(r,e),gk(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Xa("Patches").applyPatches_;return Ja(t)?r(t,e):this.produce(t,i=>r(i,e))}};function dE(t,e){const n=nv(t)?Xa("MapSet").proxyMap_(t,e):rv(t)?Xa("MapSet").proxySet_(t,e):sle(t,e);return(e?e.scope_:kF()).drafts_.push(n),n}function As(t){return Ja(t)||mi(10,t),DF(t)}function DF(t){if(!Ro(t)||iv(t))return t;const e=t[Nr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=lE(t,e.scope_.immer_.useStrictShallowCopy_)}else n=lE(t,!0);return Lm(n,(r,i)=>{MF(n,r,DF(i))}),e&&(e.finalized_=!1),n}var Mr=new lle,LF=Mr.produce;Mr.produceWithPatches.bind(Mr);Mr.setAutoFreeze.bind(Mr);Mr.setUseStrictShallowCopy.bind(Mr);Mr.applyPatches.bind(Mr);Mr.createDraft.bind(Mr);Mr.finishDraft.bind(Mr);function UF(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var ule=UF(),cle=UF,fle=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Dm:Dm.apply(null,arguments)};function ii(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ar(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>RF(r)&&r.type===t,n}var BF=class Lf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Lf.prototype)}static get[Symbol.species](){return Lf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Lf(...e[0].concat(this)):new Lf(...e.concat(this))}};function yk(t){return Ro(t)?LF(t,()=>{}):t}function Np(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function dle(t){return typeof t=="boolean"}var hle=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let a=new BF;return n&&(dle(n)?a.push(ule):a.push(cle(n.extraArgument))),a},ple="RTK_autoBatch",_k=t=>e=>{setTimeout(e,t)},mle=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,a=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_k(10):t.type==="callback"?t.queueNotification:_k(t.timeout),d=()=>{a=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const v=()=>i&&h(),_=r.subscribe(v);return u.add(h),()=>{_(),u.delete(h)}},dispatch(h){var v;try{return i=!((v=h==null?void 0:h.meta)!=null&&v[ple]),o=!i,o&&(a||(a=!0,c(d))),r.dispatch(h)}finally{i=!0}}})},gle=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new BF(t);return r&&i.push(mle(typeof r=="object"?r:void 0)),i};function vle(t){const e=hle(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(kw(n))u=IF(n);else throw new Error(Ar(1));let c;typeof r=="function"?c=r(e):c=e();let d=Dm;i&&(d=fle({trace:!1,...typeof i=="object"&&i}));const h=Qae(...c),v=gle(h);let _=typeof a=="function"?a(v):v();const T=d(..._);return AF(u,o,T)}function FF(t){const e={},n=[];let r;const i={addCase(o,a){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Ar(28));if(u in e)throw new Error(Ar(29));return e[u]=a,i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function yle(t){return typeof t=="function"}function _le(t,e){let[n,r,i]=FF(e),o;if(yle(t))o=()=>yk(t());else{const u=yk(t);o=()=>u}function a(u=o(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,v)=>{if(v)if(Ja(h)){const T=v(h,c);return T===void 0?h:T}else{if(Ro(h))return LF(h,_=>v(_,c));{const _=v(h,c);if(_===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return h},u)}return a.getInitialState=o,a}var ble="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Tle=(t=21)=>{let e="",n=t;for(;n--;)e+=ble[Math.random()*64|0];return e},Ele=Symbol.for("rtk-slice-createasyncthunk");function Sle(t,e){return`${t}/${e}`}function wle({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Ele];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(Ar(11));const u=(typeof i.reducers=="function"?i.reducers(xle()):i.reducers)||{},c=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(k,M){const L=typeof k=="string"?k:k.type;if(!L)throw new Error(Ar(12));if(L in d.sliceCaseReducersByType)throw new Error(Ar(13));return d.sliceCaseReducersByType[L]=M,h},addMatcher(k,M){return d.sliceMatchers.push({matcher:k,reducer:M}),h},exposeAction(k,M){return d.actionCreators[k]=M,h},exposeCaseReducer(k,M){return d.sliceCaseReducersByName[k]=M,h}};c.forEach(k=>{const M=u[k],L={reducerName:k,type:Sle(o,k),createNotation:typeof i.reducers=="function"};Ile(M)?Ple(L,M,h,e):Ale(L,M,h)});function v(){const[k={},M=[],L=void 0]=typeof i.extraReducers=="function"?FF(i.extraReducers):[i.extraReducers],F={...k,...d.sliceCaseReducersByType};return _le(i.initialState,X=>{for(let G in F)X.addCase(G,F[G]);for(let G of d.sliceMatchers)X.addMatcher(G.matcher,G.reducer);for(let G of M)X.addMatcher(G.matcher,G.reducer);L&&X.addDefaultCase(L)})}const _=k=>k,T=new Map,E=new WeakMap;let S;function w(k,M){return S||(S=v()),S(k,M)}function x(){return S||(S=v()),S.getInitialState()}function N(k,M=!1){function L(X){let G=X[k];return typeof G>"u"&&M&&(G=Np(E,L,x)),G}function F(X=_){const G=Np(T,M,()=>new WeakMap);return Np(G,X,()=>{const ae={};for(const[Q,W]of Object.entries(i.selectors??{}))ae[Q]=Cle(W,X,()=>Np(E,X,x),M);return ae})}return{reducerPath:k,getSelectors:F,get selectors(){return F(L)},selectSlice:L}}const P={name:o,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:x,...N(a),injectInto(k,{reducerPath:M,...L}={}){const F=M??a;return k.inject({reducerPath:F,reducer:w},L),{...P,...N(F,!0)}}};return P}}function Cle(t,e,n,r){function i(o,...a){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...a)}return i.unwrapped=t,i}var li=wle();function xle(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Ale({type:t,reducerName:e,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!Rle(r))throw new Error(Ar(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?ii(t,a):ii(t))}function Ile(t){return t._reducerDefinitionType==="asyncThunk"}function Rle(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ple({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ar(18));const{payloadCreator:o,fulfilled:a,pending:u,rejected:c,settled:d,options:h}=n,v=i(t,o,h);r.exposeAction(e,v),a&&r.addCase(v.fulfilled,a),u&&r.addCase(v.pending,u),c&&r.addCase(v.rejected,c),d&&r.addMatcher(v.settled,d),r.exposeCaseReducer(e,{fulfilled:a||Mp,pending:u||Mp,rejected:c||Mp,settled:d||Mp})}function Mp(){}var Nle="task",VF="listener",qF="completed",Lw="cancelled",Mle=`task-${Lw}`,kle=`task-${qF}`,hE=`${VF}-${Lw}`,Ole=`${VF}-${qF}`,ov=class{constructor(t){G_(this,"name","TaskAbortError");G_(this,"message");this.code=t,this.message=`${Nle} ${Lw} (reason: ${t})`}},Uw=(t,e)=>{if(typeof t!="function")throw new TypeError(Ar(32))},Fm=()=>{},$F=(t,e=Fm)=>(t.catch(e),t),zF=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ma=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ka=t=>{if(t.aborted){const{reason:e}=t;throw new ov(e)}};function HF(t,e){let n=Fm;return new Promise((r,i)=>{const o=()=>i(new ov(t.reason));if(t.aborted){o();return}n=zF(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Fm})}var Dle=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof ov?"cancelled":"rejected",error:n}}finally{e==null||e()}},Vm=t=>e=>$F(HF(t,e).then(n=>(ka(t),n))),GF=t=>{const e=Vm(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:bu}=Object,bk={},sv="listenerMiddleware",Lle=(t,e)=>{const n=r=>zF(t,()=>Ma(r,t.reason));return(r,i)=>{Uw(r);const o=new AbortController;n(o);const a=Dle(async()=>{ka(t),ka(o.signal);const u=await r({pause:Vm(o.signal),delay:GF(o.signal),signal:o.signal});return ka(o.signal),u},()=>Ma(o,kle));return i!=null&&i.autoJoin&&e.push(a.catch(Fm)),{result:Vm(t)(a),cancel(){Ma(o,Mle)}}}},Ule=(t,e)=>{const n=async(r,i)=>{ka(e);let o=()=>{};const u=[new Promise((c,d)=>{let h=t({predicate:r,effect:(v,_)=>{_.unsubscribe(),c([v,_.getState(),_.getOriginalState()])}});o=()=>{h(),d()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await HF(e,Promise.race(u));return ka(e),c}finally{o()}};return(r,i)=>$F(n(r,i))},jF=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=ii(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ar(21));return Uw(o),{predicate:i,type:e,effect:o}},WF=bu(t=>{const{type:e,predicate:n,effect:r}=jF(t);return{id:Tle(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ar(22))}}},{withTypes:()=>WF}),Tk=(t,e)=>{const{type:n,effect:r,predicate:i}=jF(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},pE=t=>{t.pending.forEach(e=>{Ma(e,hE)})},Ble=t=>()=>{t.forEach(pE),t.clear()},Ek=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},KF=bu(ii(`${sv}/add`),{withTypes:()=>KF}),Fle=ii(`${sv}/removeAll`),YF=bu(ii(`${sv}/remove`),{withTypes:()=>YF}),Vle=(...t)=>{console.error(`${sv}/error`,...t)},Xd=(t={})=>{const e=new Map,{extra:n,onError:r=Vle}=t;Uw(r);const i=h=>(h.unsubscribe=()=>e.delete(h.id),e.set(h.id,h),v=>{h.unsubscribe(),v!=null&&v.cancelActive&&pE(h)}),o=h=>{const v=Tk(e,h)??WF(h);return i(v)};bu(o,{withTypes:()=>o});const a=h=>{const v=Tk(e,h);return v&&(v.unsubscribe(),h.cancelActive&&pE(v)),!!v};bu(a,{withTypes:()=>a});const u=async(h,v,_,T)=>{const E=new AbortController,S=Ule(o,E.signal),w=[];try{h.pending.add(E),await Promise.resolve(h.effect(v,bu({},_,{getOriginalState:T,condition:(x,N)=>S(x,N).then(Boolean),take:S,delay:GF(E.signal),pause:Vm(E.signal),extra:n,signal:E.signal,fork:Lle(E.signal,w),unsubscribe:h.unsubscribe,subscribe:()=>{e.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((x,N,P)=>{x!==E&&(Ma(x,hE),P.delete(x))})},cancel:()=>{Ma(E,hE),h.pending.delete(E)},throwIfCancelled:()=>{ka(E.signal)}})))}catch(x){x instanceof ov||Ek(r,x,{raisedBy:"effect"})}finally{await Promise.all(w),Ma(E,Ole),h.pending.delete(E)}},c=Ble(e);return{middleware:h=>v=>_=>{if(!RF(_))return v(_);if(KF.match(_))return o(_.payload);if(Fle.match(_)){c();return}if(YF.match(_))return a(_.payload);let T=h.getState();const E=()=>{if(T===bk)throw new Error(Ar(23));return T};let S;try{if(S=v(_),e.size>0){const w=h.getState(),x=Array.from(e.values());for(const N of x){let P=!1;try{P=N.predicate(_,w,T)}catch(k){P=!1,Ek(r,k,{raisedBy:"predicate"})}P&&u(N,_,h,E)}}}finally{T=bk}return S},startListening:o,stopListening:a,clearListeners:c}};function Ar(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var qle={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},JF=li({name:"chartLayout",initialState:qle,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:$le,setLayout:zle,setChartSize:Hle,setScale:Gle}=JF.actions,jle=JF.reducer;function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){Wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wle(t,e,n){return(e=Kle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kle(t){var e=Yle(t,"string");return typeof e=="symbol"?e:e+""}function Yle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qm=Math.PI/180,Jle=t=>t*180/Math.PI,Pn=(t,e,n,r)=>({x:t+Math.cos(-qm*r)*n,y:e+Math.sin(-qm*r)*n}),Xle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Zle=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},Qle=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,a=Zle({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var u=(n-i)/a,c=Math.acos(u);return r>o&&(c=2*Math.PI-c),{radius:a,angle:Jle(c),angleInRadian:c}},eue=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},tue=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return t+a*360},nue=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=Qle({x:n,y:r},e),{innerRadius:a,outerRadius:u}=e;if(i<a||i>u||i===0)return null;var{startAngle:c,endAngle:d}=eue(e),h=o,v;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;v=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;v=h>=d&&h<=c}return v?wk(wk({},e),{},{radius:i,angle:tue(h,e)}):null};function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rue(t,e,n){return(e=iue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=oue(t,"string");return typeof e=="symbol"?e:e+""}function oue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ir(t,e,n){return Ht(t)||Ht(e)?n:ji(e)?Ya(t,e,n):typeof e=="function"?e(t):n}var sue=(t,e,n,r,i)=>{var o,a=-1,u=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var d=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,v=c>=u-1?n[0].coordinate:n[c+1].coordinate,_=void 0;if(Zr(h-d)!==Zr(v-h)){var T=[];if(Zr(v-h)===Zr(i[1]-i[0])){_=v;var E=h+i[1]-i[0];T[0]=Math.min(E,(E+d)/2),T[1]=Math.max(E,(E+d)/2)}else{_=d;var S=v+i[1]-i[0];T[0]=Math.min(h,(S+h)/2),T[1]=Math.max(h,(S+h)/2)}var w=[Math.min(h,(_+h)/2),Math.max(h,(_+h)/2)];if(t>w[0]&&t<=w[1]||t>=T[0]&&t<=T[1]){({index:a}=n[c]);break}}else{var x=Math.min(d,v),N=Math.max(d,v);if(t>(x+h)/2&&t<=(N+h)/2){({index:a}=n[c]);break}}}else if(e){for(var P=0;P<u;P++)if(P===0&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P>0&&P<u-1&&t>(e[P].coordinate+e[P-1].coordinate)/2&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P===u-1&&t>(e[P].coordinate+e[P-1].coordinate)/2){({index:a}=e[P]);break}}return a},aue=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:u}=e;if((u==="vertical"||u==="horizontal"&&a==="middle")&&o!=="center"&&be(t[o]))return Wr(Wr({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&a!=="middle"&&be(t[a]))return Wr(Wr({},t),{},{[a]:t[a]+(i||0)})}return t},zs=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",XF=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,o,a=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||a.push(e),o||a.push(n),a},ZF=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:a,realScaleType:u,isCategorical:c,categoricalDomain:d,tickCount:h,ticks:v,niceTicks:_,axisType:T}=t;if(!a)return null;var E=u==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,S=i==="category"&&a.bandwidth?a.bandwidth()/E:0;if(S=T==="angleAxis"&&o&&o.length>=2?Zr(o[0]-o[1])*2*S:S,v||_){var w=(v||_||[]).map((x,N)=>{var P=r?r.indexOf(x):x;return{coordinate:a(P)+S,value:x,offset:S,index:N}});return w.filter(x=>!ri(x.coordinate))}return c&&d?d.map((x,N)=>({coordinate:a(x)+S,value:x,index:N,offset:S})):a.ticks&&h!=null?a.ticks(h).map((x,N)=>({coordinate:a(x)+S,value:x,offset:S,index:N})):a.domain().map((x,N)=>({coordinate:a(x)+S,value:r?r[x]:x,index:N,offset:S}))},xk=1e-4,lue=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-xk,o=Math.max(r[0],r[1])+xk,a=t(e[0]),u=t(e[n-1]);(a<i||a>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},uue=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,a=0;a<e;++a){var u=ri(t[a][n][1])?t[a][n][0]:t[a][n][1];u>=0?(t[a][n][0]=i,t[a][n][1]=i+u,i=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+u,o=t[a][n][1])}},cue=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var a=ri(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},fue={sign:uue,expand:qse,none:Uu,silhouette:$se,wiggle:zse,positive:cue},due=(t,e,n)=>{var r=fue[n],i=Vse().keys(e).value((o,a)=>+Ir(o,a,0)).order(iE).offset(r);return i(t)};function hue(t){return t==null?void 0:String(t)}function Ak(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ht(i[e.dataKey])){var u=yw(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=Ir(i,Ht(a)?e.dataKey:a);return Ht(c)?null:e.scale(c)}var pue=t=>{var e=t.flat(2).filter(be);return[Math.min(...e),Math.max(...e)]},mue=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],gue=(t,e,n)=>{if(t!=null)return mue(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:a}=o,u=a.reduce((c,d)=>{var h=pue(d.slice(e,n+1));return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},Ik=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mE=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=ev(e,h=>h.coordinate),o=1/0,a=1,u=i.length;a<u;a++){var c=i[a],d=i[a-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function Pk(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Wr(Wr({},e),{},{dataKey:n,payload:r,value:i,name:o})}function QF(t,e){if(t)return String(t);if(typeof e=="string")return e}function vue(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?nue({x:t,y:e},r):null}var yue=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:a}=r;return Wr(Wr(Wr({},r),Pn(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var u=i.coordinate,{angle:c}=r;return Wr(Wr(Wr({},r),Pn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{x:0,y:0}},_ue=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Hs=t=>t.layout.width,Gs=t=>t.layout.height,bue=t=>t.layout.scale,e3=t=>t.layout.margin,Bw=Z(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Fw=Z(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Tue="data-recharts-item-index",Eue="data-recharts-item-data-key",av=60;function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){Sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sue(t,e,n){return(e=wue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wue(t){var e=Cue(t,"string");return typeof e=="symbol"?e:e+""}function Cue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xue=t=>t.brush.height,qn=Z([Hs,Gs,e3,xue,Bw,Fw,CF,jae],(t,e,n,r,i,o,a,u)=>{var c=o.reduce((E,S)=>{var{orientation:w}=S;if(!S.mirror&&!S.hide){var x=typeof S.width=="number"?S.width:av;return hs(hs({},E),{},{[w]:E[w]+x})}return E},{left:n.left||0,right:n.right||0}),d=i.reduce((E,S)=>{var{orientation:w}=S;return!S.mirror&&!S.hide?hs(hs({},E),{},{[w]:Ya(E,"".concat(w))+S.height}):E},{top:n.top||0,bottom:n.bottom||0}),h=hs(hs({},d),c),v=h.bottom;h.bottom+=r,h=aue(h,a,u);var _=t-h.left-h.right,T=e-h.top-h.bottom;return hs(hs({brushBottom:v},h),{},{width:Math.max(_,0),height:Math.max(T,0)})}),Aue=Z(qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),t3=Z(Hs,Gs,(t,e)=>({x:0,y:0,width:t,height:e})),Iue=A.createContext(null),cr=()=>A.useContext(Iue)!=null,lv=t=>t.brush,uv=Z([lv,qn,e3],(t,e,n)=>({height:t.height,x:be(t.x)?t.x:e.left,y:be(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:be(t.width)?t.width:e.width})),Vw=()=>{var t,e=cr(),n=Ce(Aue),r=Ce(uv),i=(t=Ce(lv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Rue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Zd=()=>{var t;return(t=Ce(qn))!==null&&t!==void 0?t:Rue},qw=()=>Ce(Hs),$w=()=>Ce(Gs),Pue={top:0,right:0,bottom:0,left:0},Nue=()=>{var t;return(t=Ce(e=>e.layout.margin))!==null&&t!==void 0?t:Pue},Lt=t=>t.layout.layoutType,zw=()=>Ce(Lt),Mue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},n3=li({name:"legend",initialState:Mue,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=As(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Mk,setLegendSettings:kue,addLegendPayload:Oue,removeLegendPayload:Due}=n3.actions,Lue=n3.reducer,Uue=["contextPayload"];function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(null,arguments)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){Hw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hw(t,e,n){return(e=Bue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bue(t){var e=Fue(t,"string");return typeof e=="symbol"?e:e+""}function Fue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vue(t,e){if(t==null)return{};var n,r,i=que(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function que(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $ue(t){return t.value}function zue(t){var{contextPayload:e}=t,n=Vue(t,Uue),r=TF(e,t.payloadUniqBy,$ue),i=Fu(Fu({},n),{},{payload:r});return A.isValidElement(t.content)?A.cloneElement(t.content,i):typeof t.content=="function"?A.createElement(t.content,i):A.createElement(xw,i)}function Hue(t,e,n,r,i,o){var{layout:a,align:u,verticalAlign:c}=e,d,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&a==="vertical"?d={left:((r||0)-o.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-o.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Fu(Fu({},d),h)}function Gue(t){var e=Mn();return A.useEffect(()=>{e(kue(t))},[e,t]),null}function jue(t){var e=Mn();return A.useEffect(()=>(e(Mk(t)),()=>{e(Mk({width:0,height:0}))}),[e,t]),null}function Wue(t){var e=Yae(),n=cse(),r=Nue(),{width:i,height:o,wrapperStyle:a,portal:u}=t,[c,d]=xF([e]),h=qw(),v=$w(),_=h-(r.left||0)-(r.right||0),T=cv.getWidthOrHeight(t.layout,o,i,_),E=u?a:Fu(Fu({position:"absolute",width:(T==null?void 0:T.width)||i||"auto",height:(T==null?void 0:T.height)||o||"auto"},Hue(a,t,r,h,v,c)),a),S=u??n;if(S==null)return null;var w=A.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:d},A.createElement(Gue,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),A.createElement(jue,{width:c.width,height:c.height}),A.createElement(zue,gE({},t,T,{margin:r,chartWidth:h,chartHeight:v,contextPayload:e})));return YB.createPortal(w,S)}class cv extends A.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&be(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return A.createElement(Wue,this.props)}}Hw(cv,"displayName","Legend");Hw(cv,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(null,arguments)}function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){Kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kue(t,e,n){return(e=Yue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yue(t){var e=Jue(t,"string");return typeof e=="symbol"?e:e+""}function Jue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xue(t){return Array.isArray(t)&&ji(t[0])&&ji(t[1])?t.join(" ~ "):t}var Zue=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:u,wrapperClassName:c,labelClassName:d,label:h,labelFormatter:v,accessibilityLayer:_=!1}=t,T=()=>{if(o&&o.length){var M={padding:0,margin:0},L=(u?ev(o,u):o).map((F,X)=>{if(F.type==="none")return null;var G=F.formatter||a||Xue,{value:ae,name:Q}=F,W=ae,Ae=Q;if(G){var ke=G(ae,Q,F,X,o);if(Array.isArray(ke))[W,Ae]=ke;else if(ke!=null)W=ke;else return null}var Ee=Tb({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(X),style:Ee},ji(Ae)?A.createElement("span",{className:"recharts-tooltip-item-name"},Ae):null,ji(Ae)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},W),A.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:M},L)}return null},E=Tb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=Tb({margin:0},i),w=!Ht(h),x=w?h:"",N=vt("recharts-default-tooltip",c),P=vt("recharts-tooltip-label",d);w&&v&&o!==void 0&&o!==null&&(x=v(h,o));var k=_?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",vE({className:N,style:E},k),A.createElement("p",{className:P,style:S},A.isValidElement(x)?x:"".concat(x)),T())},Cf="recharts-tooltip-wrapper",Que={visibility:"hidden"};function ece(t){var{coordinate:e,translateX:n,translateY:r}=t;return vt(Cf,{["".concat(Cf,"-right")]:be(n)&&e&&be(e.x)&&n>=e.x,["".concat(Cf,"-left")]:be(n)&&e&&be(e.x)&&n<e.x,["".concat(Cf,"-bottom")]:be(r)&&e&&be(e.y)&&r>=e.y,["".concat(Cf,"-top")]:be(r)&&e&&be(e.y)&&r<e.y})}function Dk(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:u,viewBox:c,viewBoxDimension:d}=t;if(o&&be(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),v=n[r]+i;if(e[r])return a[r]?h:v;var _=c[r];if(_==null)return 0;if(a[r]){var T=h,E=_;return T<E?Math.max(v,_):Math.max(h,_)}if(d==null)return 0;var S=v+u,w=_+d;return S>w?Math.max(h,_):Math.max(v,_)}function tce(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function nce(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:u,viewBox:c}=t,d,h,v;return a.height>0&&a.width>0&&n?(h=Dk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),v=Dk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),d=tce({translateX:h,translateY:v,useTranslate3d:u})):d=Que,{cssProperties:d,cssClasses:ece({translateX:h,translateY:v,coordinate:n})}}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){yE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yE(t,e,n){return(e=rce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rce(t){var e=ice(t,"string");return typeof e=="symbol"?e:e+""}function ice(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class oce extends A.PureComponent{constructor(){super(...arguments),yE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),yE(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:u,isAnimationActive:c,offset:d,position:h,reverseDirection:v,useTranslate3d:_,viewBox:T,wrapperStyle:E,lastBoundingBox:S,innerRef:w,hasPortalFromProps:x}=this.props,{cssClasses:N,cssProperties:P}=nce({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:d,position:h,reverseDirection:v,tooltipBox:{height:S.height,width:S.width},useTranslate3d:_,viewBox:T}),k=x?{}:kp(kp({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=kp(kp({},k),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},E);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:M,ref:w},o)}}var sce=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Qd={isSsr:sce()},r3=()=>Ce(t=>t.rootProps.accessibilityLayer);function Ti(t){return Number.isFinite(t)}function $m(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(null,arguments)}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ace(t,e,n){return(e=lce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t){var e=uce(t,"string");return typeof e=="symbol"?e:e+""}function uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fk={curveBasisClosed:Rse,curveBasisOpen:Pse,curveBasis:Ise,curveBumpX:pse,curveBumpY:mse,curveLinearClosed:Nse,curveLinear:Zg,curveMonotoneX:Mse,curveMonotoneY:kse,curveNatural:Ose,curveStep:Dse,curveStepAfter:Use,curveStepBefore:Lse},Op=t=>Ti(t.x)&&Ti(t.y),xf=t=>t.x,Af=t=>t.y,cce=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Jd(t));return(n==="curveMonotone"||n==="curveBump")&&e?Fk["".concat(n).concat(e==="vertical"?"Y":"X")]:Fk[n]||Zg},fce=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,a=cce(e,i),u=o?n.filter(Op):n,c;if(Array.isArray(r)){var d=o?r.filter(v=>Op(v)):r,h=u.map((v,_)=>Bk(Bk({},v),{},{base:d[_]}));return i==="vertical"?c=Ip().y(Af).x1(xf).x0(v=>v.base.x):c=Ip().x(xf).y1(Af).y0(v=>v.base.y),c.defined(Op).curve(a),c(h)}return i==="vertical"&&be(r)?c=Ip().y(Af).x1(xf).x0(r):be(r)?c=Ip().x(xf).y1(Af).y0(r):c=nF().x(xf).y(Af),c.defined(Op).curve(a),c(u)},i3=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?fce(t):r;return A.createElement("path",_E({},Et(t,!1),bw(t),{className:vt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},dce=["x","y","top","left","width","height","className"];function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(null,arguments)}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pce(t,e,n){return(e=mce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=gce(t,"string");return typeof e=="symbol"?e:e+""}function gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vce(t,e){if(t==null)return{};var n,r,i=yce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _ce=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),bce=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:u}=t,c=vce(t,dce),d=hce({x:e,y:n,top:r,left:i,width:o,height:a},c);return!be(e)||!be(n)||!be(o)||!be(a)||!be(r)||!be(i)?null:A.createElement("path",bE({},Et(d,!0),{className:vt("recharts-cross",u),d:_ce(e,n,o,a,r,i)}))};function Tce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ece(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(n),!0).forEach(function(r){Sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sce(t,e,n){return(e=wce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wce(t){var e=Cce(t,"string");return typeof e=="symbol"?e:e+""}function Cce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sl(t,e){var n=Ece({},t),r=e,i=Object.keys(e),o=i.reduce((a,u)=>(a[u]===void 0&&r[u]!==void 0&&(a[u]=r[u]),a),n);return o}var Eb={},Sb={},wb={},$k;function xce(){return $k||($k=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e}(wb)),wb}var zk;function Ace(){return zk||(zk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xce(),n=yF(),r=Pw(),i=Nw(),o=Iw();function a(d,h,v){return u(d,h,void 0,void 0,void 0,void 0,v)}function u(d,h,v,_,T,E,S){const w=S(d,h,v,_,T,E);if(w!==void 0)return w;if(typeof d==typeof h)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===h;case"number":return d===h||Object.is(d,h);case"function":return d===h;case"object":return c(d,h,E,S)}return c(d,h,E,S)}function c(d,h,v,_){if(Object.is(d,h))return!0;let T=r.getTag(d),E=r.getTag(h);if(T===i.argumentsTag&&(T=i.objectTag),E===i.argumentsTag&&(E=i.objectTag),T!==E)return!1;switch(T){case i.stringTag:return d.toString()===h.toString();case i.numberTag:{const x=d.valueOf(),N=h.valueOf();return o.eq(x,N)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(d.valueOf(),h.valueOf());case i.regexpTag:return d.source===h.source&&d.flags===h.flags;case i.functionTag:return d===h}v=v??new Map;const S=v.get(d),w=v.get(h);if(S!=null&&w!=null)return S===h;v.set(d,h),v.set(h,d);try{switch(T){case i.mapTag:{if(d.size!==h.size)return!1;for(const[x,N]of d.entries())if(!h.has(x)||!u(N,h.get(x),x,d,h,v,_))return!1;return!0}case i.setTag:{if(d.size!==h.size)return!1;const x=Array.from(d.values()),N=Array.from(h.values());for(let P=0;P<x.length;P++){const k=x[P],M=N.findIndex(L=>u(k,L,void 0,d,h,v,_));if(M===-1)return!1;N.splice(M,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(h)||d.length!==h.length)return!1;for(let x=0;x<d.length;x++)if(!u(d[x],h[x],x,d,h,v,_))return!1;return!0}case i.arrayBufferTag:return d.byteLength!==h.byteLength?!1:c(new Uint8Array(d),new Uint8Array(h),v,_);case i.dataViewTag:return d.byteLength!==h.byteLength||d.byteOffset!==h.byteOffset?!1:c(new Uint8Array(d),new Uint8Array(h),v,_);case i.errorTag:return d.name===h.name&&d.message===h.message;case i.objectTag:{if(!(c(d.constructor,h.constructor,v,_)||e.isPlainObject(d)&&e.isPlainObject(h)))return!1;const N=[...Object.keys(d),...n.getSymbols(d)],P=[...Object.keys(h),...n.getSymbols(h)];if(N.length!==P.length)return!1;for(let k=0;k<N.length;k++){const M=N[k],L=d[M];if(!Object.hasOwn(h,M))return!1;const F=h[M];if(!u(L,F,M,d,h,v,_))return!1}return!0}default:return!1}}finally{v.delete(d),v.delete(h)}}t.isEqualWith=a}(Sb)),Sb}var Cb={},Hk;function Ice(){return Hk||(Hk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e}(Cb)),Cb}var Gk;function Rce(){return Gk||(Gk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ace(),n=Ice();function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r}(Eb)),Eb}var xb,jk;function Pce(){return jk||(jk=1,xb=Rce().isEqual),xb}var Nce=Pce();const Mce=Ki(Nce);function kce(t){var e={},n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var u=a,[c,...d]=u;if(typeof c=="number"){i=t.setTimeout(o.bind(null,d),c);return}o(c),i=t.setTimeout(o.bind(null,d));return}typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}var zm=1e-4,o3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],s3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),Wk=(t,e)=>n=>{var r=o3(t,e);return s3(r,n)},Oce=(t,e)=>n=>{var r=o3(t,e),i=[...r.map((o,a)=>o*a).slice(1),0];return s3(i,n)},Kk=function(){for(var e,n,r,i,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,r,n,i]=c[1].split(")")[0].split(",").map(E=>parseFloat(E)))}}else a.length===4&&([e,r,n,i]=a);var d=Wk(e,n),h=Wk(r,i),v=Oce(e,n),_=E=>E>1?1:E<0?0:E,T=E=>{for(var S=E>1?1:E,w=S,x=0;x<8;++x){var N=d(w)-S,P=v(w);if(Math.abs(N-S)<zm||P<zm)return h(w);w=_(w-N/P)}return h(w)};return T.isStepper=!1,T},Dce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(a,u,c)=>{var d=-(a-u)*n,h=c*r,v=c+(d-h)*i/1e3,_=c*i/1e3+a;return Math.abs(_-u)<zm&&Math.abs(v)<zm?[u,0]:[_,v]};return o.isStepper=!0,o.dt=i,o},Lce=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Kk(t);case"spring":return Dce();default:if(t.split("(")[0]==="cubic-bezier")return Kk(t)}return typeof t=="function"?t:null};function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){Uce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uce(t,e,n){return(e=Bce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bce(t){var e=Fce(t,"string");return typeof e=="symbol"?e:e+""}function Fce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vce=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),qce=(t,e,n)=>t.map(r=>"".concat(Vce(r)," ").concat(e,"ms ").concat(n)).join(","),$ce=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Sd=(t,e)=>Object.keys(e).reduce((n,r)=>Jk(Jk({},n),{},{[r]:t(r,e[r])}),{});function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){zce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zce(t,e,n){return(e=Hce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=Gce(t,"string");return typeof e=="symbol"?e:e+""}function Gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hm=(t,e,n)=>t+(e-t)*n,TE=t=>{var{from:e,to:n}=t;return e!==n},a3=(t,e,n)=>{var r=Sd((i,o)=>{if(TE(o)){var[a,u]=t(o.from,o.to,o.velocity);return Rn(Rn({},o),{},{from:a,velocity:u})}return o},e);return n<1?Sd((i,o)=>TE(o)?Rn(Rn({},o),{},{velocity:Hm(o.velocity,r[i].velocity,n),from:Hm(o.from,r[i].from,n)}):o,e):a3(t,r,n-1)};function jce(t,e,n,r,i,o){var a,u=r.reduce((_,T)=>Rn(Rn({},_),{},{[T]:{from:t[T],velocity:0,to:e[T]}}),{}),c=()=>Sd((_,T)=>T.from,u),d=()=>!Object.values(u).filter(TE).length,h=null,v=_=>{a||(a=_);var T=_-a,E=T/n.dt;u=a3(n,u,E),i(Rn(Rn(Rn({},t),e),c())),a=_,d()||(h=o.setTimeout(v))};return()=>(h=o.setTimeout(v),()=>{h()})}function Wce(t,e,n,r,i,o,a){var u=null,c=i.reduce((v,_)=>Rn(Rn({},v),{},{[_]:[t[_],e[_]]}),{}),d,h=v=>{d||(d=v);var _=(v-d)/r,T=Sd((S,w)=>Hm(...w,n(_)),c);if(o(Rn(Rn(Rn({},t),e),T)),_<1)u=a.setTimeout(h);else{var E=Sd((S,w)=>Hm(...w,n(1)),c);o(Rn(Rn(Rn({},t),e),E))}};return()=>(u=a.setTimeout(h),()=>{u()})}const Kce=(t,e,n,r,i,o)=>{var a=$ce(t,e);return n.isStepper===!0?jce(t,e,n,a,i,o):Wce(t,e,n,r,a,i,o)};class Yce{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}var Jce=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(null,arguments)}function Xce(t,e){if(t==null)return{};var n,r,i=Zce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){wa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wa(t,e,n){return(e=Qce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qce(t){var e=efe(t,"string");return typeof e=="symbol"?e:e+""}function efe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tfe(){return kce(new Yce)}class Gw extends A.PureComponent{constructor(e,n){super(e,n),wa(this,"mounted",!1),wa(this,"manager",null),wa(this,"stopJSAnimation",null),wa(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:a,children:u,duration:c,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||c<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:a});return}if(o){if(typeof u=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:a,from:u}=this.props,{style:c}=this.state;if(r){if(!n){var d={style:i?{[i]:a}:a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(d);return}if(!(Mce(e.to,a)&&e.canBegin&&e.isActive)){var h=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=h||o?u:e.to;if(this.state&&c){var _={style:i?{[i]:v}:v};(i&&c[i]!==v||!i&&c!==v)&&this.setState(_)}this.runAnimation(ps(ps({},this.props),{},{from:v,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:a,onAnimationEnd:u,onAnimationStart:c}=e,d=Kce(n,r,Lce(o),i,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=d()};this.manager.start([c,a,h,i,u])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:a,onAnimationStart:u,onAnimationEnd:c,children:d}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof d=="function"||a==="spring"){this.runJSAnimation(e);return}var h=i?{[i]:o}:o,v=qce(Object.keys(h),r,a);this.manager.start([u,n,ps(ps({},h),{},{transition:v}),r,c])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:a,isActive:u,from:c,to:d,canBegin:h,onAnimationEnd:v,shouldReAnimate:_,onAnimationReStart:T,animationManager:E}=e,S=Xce(e,Jce),w=A.Children.count(n),x=this.state.style;if(typeof n=="function")return n(x);if(!u||w===0||i<=0)return n;var N=P=>{var{style:k={},className:M}=P.props,L=A.cloneElement(P,ps(ps({},S),{},{style:ps(ps({},k),x),className:M}));return L};return w===1?N(A.Children.only(n)):A.createElement("div",null,A.Children.map(n,P=>N(P)))}}wa(Gw,"displayName","Animate");wa(Gw,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var nfe=A.createContext(null);function Gm(t){var e,n,r=A.useContext(nfe);return A.createElement(Gw,EE({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:tfe()}))}function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jm.apply(null,arguments)}var Qk=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],v=0,_=4;v<_;v++)h[v]=i[v]>o?o:i[v];d="M".concat(t,",").concat(e+a*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+u*h[0],",").concat(e)),d+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+a*h[1])),d+="L ".concat(t+n,",").concat(e+r-a*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),d+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-a*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var T=Math.min(o,i);d="M ".concat(t,",").concat(e+a*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(c,",").concat(t+u*T,",").concat(e,`
            L `).concat(t+n-u*T,",").concat(e,`
            A `).concat(T,",").concat(T,",0,0,").concat(c,",").concat(t+n,",").concat(e+a*T,`
            L `).concat(t+n,",").concat(e+r-a*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(c,",").concat(t+n-u*T,",").concat(e+r,`
            L `).concat(t+u*T,",").concat(e+r,`
            A `).concat(T,",").concat(T,",0,0,").concat(c,",").concat(t,",").concat(e+r-a*T," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},rfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ife=t=>{var e=sl(t,rfe),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&i(x)}catch{}},[]);var{x:o,y:a,width:u,height:c,radius:d,className:h}=e,{animationEasing:v,animationDuration:_,animationBegin:T,isAnimationActive:E,isUpdateAnimationActive:S}=e;if(o!==+o||a!==+a||u!==+u||c!==+c||u===0||c===0)return null;var w=vt("recharts-rectangle",h);return S?A.createElement(Gm,{canBegin:r>0,from:{width:u,height:c,x:o,y:a},to:{width:u,height:c,x:o,y:a},duration:_,animationEasing:v,isActive:S},x=>{var{width:N,height:P,x:k,y:M}=x;return A.createElement(Gm,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:_,isActive:E,easing:v},A.createElement("path",jm({},Et(e,!0),{className:w,d:Qk(k,M,N,P,d),ref:n})))}):A.createElement("path",jm({},Et(e,!0),{className:w,d:Qk(o,a,u,c,d)}))};function l3(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,a=Pn(e,n,r,i),u=Pn(e,n,r,o);return{points:[a,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}var ofe=(t,e)=>{var n=Zr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Dp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:u,cornerIsExternal:c}=t,d=u*(a?1:-1)+r,h=Math.asin(u/d)/qm,v=c?i:i+o*h,_=Pn(e,n,d,v),T=Pn(e,n,r,v),E=c?i-o*h:i,S=Pn(e,n,d*Math.cos(h*qm),E);return{center:_,circleTangency:T,lineTangency:S,theta:h}},u3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=t,u=ofe(o,a),c=o+u,d=Pn(e,n,i,o),h=Pn(e,n,i,c),v="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var _=Pn(e,n,r,o),T=Pn(e,n,r,c);v+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=c),`,
            `).concat(_.x,",").concat(_.y," Z")}else v+="L ".concat(e,",").concat(n," Z");return v},sfe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:u,startAngle:c,endAngle:d}=t,h=Zr(d-c),{circleTangency:v,lineTangency:_,theta:T}=Dp({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:E,lineTangency:S,theta:w}=Dp({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:u}),x=u?Math.abs(c-d):Math.abs(c-d)-T-w;if(x<0)return a?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):u3({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var N="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:k,theta:M}=Dp({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:L,lineTangency:F,theta:X}=Dp({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),G=u?Math.abs(c-d):Math.abs(c-d)-M-X;if(G<0&&o===0)return"".concat(N,"L").concat(e,",").concat(n,"Z");N+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(G>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(e,",").concat(n,"Z");return N},afe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lfe=t=>{var e=sl(t,afe),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h,className:v}=e;if(o<i||d===h)return null;var _=vt("recharts-sector",v),T=o-i,E=Us(a,T,0,!0),S;return E>0&&Math.abs(d-h)<360?S=sfe({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(E,T/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h}):S=u3({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),A.createElement("path",SE({},Et(e,!0),{className:_,d:S}))};function ufe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:c,innerRadius:d,outerRadius:h,angle:v}=e,_=Pn(u,c,d,v),T=Pn(u,c,h,v);r=_.x,i=_.y,o=T.x,a=T.y}else return l3(e);return[{x:r,y:i},{x:o,y:a}]}var Ab={},Ib={},Rb={},eO;function cfe(){return eO||(eO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SF();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}(Rb)),Rb}var tO;function ffe(){return tO||(tO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cfe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(Ib)),Ib}var nO;function dfe(){return nO||(nO=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wF(),n=ffe();function r(i,o,a){a&&typeof a!="number"&&e.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const u=Math.max(Math.ceil((o-i)/(a||1)),0),c=new Array(u);for(let d=0;d<u;d++)c[d]=i,i+=a;return c}t.range=r}(Ab)),Ab}var Pb,rO;function hfe(){return rO||(rO=1,Pb=dfe().range),Pb}var pfe=hfe();const c3=Ki(pfe);function Is(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mfe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jw(t){let e,n,r;t.length!==2?(e=Is,n=(u,c)=>Is(t(u),c),r=(u,c)=>t(u)-c):(e=t===Is||t===mfe?t:gfe,n=t,r=t);function i(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const v=d+h>>>1;n(u[v],c)<0?d=v+1:h=v}while(d<h)}return d}function o(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const v=d+h>>>1;n(u[v],c)<=0?d=v+1:h=v}while(d<h)}return d}function a(u,c,d=0,h=u.length){const v=i(u,c,d,h-1);return v>d&&r(u[v-1],c)>-r(u[v],c)?v-1:v}return{left:i,center:a,right:o}}function gfe(){return 0}function f3(t){return t===null?NaN:+t}function*vfe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const yfe=jw(Is),eh=yfe.right;jw(f3).center;class iO extends Map{constructor(e,n=Tfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(oO(this,e))}has(e){return super.has(oO(this,e))}set(e,n){return super.set(_fe(this,e),n)}delete(e){return super.delete(bfe(this,e))}}function oO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function _fe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function bfe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Tfe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Efe(t=Is){if(t===Is)return d3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function d3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Sfe=Math.sqrt(50),wfe=Math.sqrt(10),Cfe=Math.sqrt(2);function Wm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Sfe?10:o>=wfe?5:o>=Cfe?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/a,u=Math.round(t*d),c=Math.round(e*d),u/d<t&&++u,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*a,u=Math.round(t/d),c=Math.round(e/d),u*d<t&&++u,c*d>e&&--c),c<u&&.5<=n&&n<2?Wm(t,e,n*2):[u,c,d]}function wE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Wm(e,t,n):Wm(t,e,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(a<0)for(let d=0;d<u;++d)c[d]=(o-d)/-a;else for(let d=0;d<u;++d)c[d]=(o-d)*a;else if(a<0)for(let d=0;d<u;++d)c[d]=(i+d)/-a;else for(let d=0;d<u;++d)c[d]=(i+d)*a;return c}function CE(t,e,n){return e=+e,t=+t,n=+n,Wm(t,e,n)[2]}function xE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?CE(e,t,n):CE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function sO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function aO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function h3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?d3:Efe(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,h=Math.log(c),v=.5*Math.exp(2*h/3),_=.5*Math.sqrt(h*v*(c-v)/c)*(d-c/2<0?-1:1),T=Math.max(n,Math.floor(e-d*v/c+_)),E=Math.min(r,Math.floor(e+(c-d)*v/c+_));h3(t,e,T,E,i)}const o=t[e];let a=n,u=r;for(If(t,n,e),i(t[r],o)>0&&If(t,n,r);a<u;){for(If(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?If(t,n,u):(++u,If(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function If(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function xfe(t,e,n){if(t=Float64Array.from(vfe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return aO(t);if(e>=1)return sO(t);var r,i=(r-1)*e,o=Math.floor(i),a=sO(h3(t,o).subarray(0,o+1)),u=aO(t.subarray(o+1));return a+(u-a)*(i-o)}}function Afe(t,e,n=f3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return a+(u-a)*(i-o)}}function Ife(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ui(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const AE=Symbol("implicit");function Ww(){var t=new iO,e=[],n=[],r=AE;function i(o){let a=t.get(o);if(a===void 0){if(r!==AE)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new iO;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ww(e,n).unknown(r)},ui.apply(i,arguments),i}function Kw(){var t=Ww().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,u=!1,c=0,d=0,h=.5;delete t.unknown;function v(){var _=e().length,T=i<r,E=T?i:r,S=T?r:i;o=(S-E)/Math.max(1,_-c+d*2),u&&(o=Math.floor(o)),E+=(S-E-o*(_-c))*h,a=o*(1-c),u&&(E=Math.round(E),a=Math.round(a));var w=Ife(_).map(function(x){return E+o*x});return n(T?w.reverse():w)}return t.domain=function(_){return arguments.length?(e(_),v()):e()},t.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,v()):[r,i]},t.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,u=!0,v()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(_){return arguments.length?(u=!!_,v()):u},t.padding=function(_){return arguments.length?(c=Math.min(1,d=+_),v()):c},t.paddingInner=function(_){return arguments.length?(c=Math.min(1,_),v()):c},t.paddingOuter=function(_){return arguments.length?(d=+_,v()):d},t.align=function(_){return arguments.length?(h=Math.max(0,Math.min(1,_)),v()):h},t.copy=function(){return Kw(e(),[r,i]).round(u).paddingInner(c).paddingOuter(d).align(h)},ui.apply(v(),arguments)}function p3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return p3(e())},t}function Rfe(){return p3(Kw.apply(null,arguments).paddingInner(1))}function Yw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function m3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function th(){}var wd=.7,Km=1/wd,Tu="\\s*([+-]?\\d+)\\s*",Cd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pfe=/^#([0-9a-f]{3,8})$/,Nfe=new RegExp(`^rgb\\(${Tu},${Tu},${Tu}\\)$`),Mfe=new RegExp(`^rgb\\(${qi},${qi},${qi}\\)$`),kfe=new RegExp(`^rgba\\(${Tu},${Tu},${Tu},${Cd}\\)$`),Ofe=new RegExp(`^rgba\\(${qi},${qi},${qi},${Cd}\\)$`),Dfe=new RegExp(`^hsl\\(${Cd},${qi},${qi}\\)$`),Lfe=new RegExp(`^hsla\\(${Cd},${qi},${qi},${Cd}\\)$`),lO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yw(th,xd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uO,formatHex:uO,formatHex8:Ufe,formatHsl:Bfe,formatRgb:cO,toString:cO});function uO(){return this.rgb().formatHex()}function Ufe(){return this.rgb().formatHex8()}function Bfe(){return g3(this).formatHsl()}function cO(){return this.rgb().formatRgb()}function xd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pfe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fO(e):n===3?new sr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Lp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Lp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Nfe.exec(t))?new sr(e[1],e[2],e[3],1):(e=Mfe.exec(t))?new sr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=kfe.exec(t))?Lp(e[1],e[2],e[3],e[4]):(e=Ofe.exec(t))?Lp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Dfe.exec(t))?pO(e[1],e[2]/100,e[3]/100,1):(e=Lfe.exec(t))?pO(e[1],e[2]/100,e[3]/100,e[4]):lO.hasOwnProperty(t)?fO(lO[t]):t==="transparent"?new sr(NaN,NaN,NaN,0):null}function fO(t){return new sr(t>>16&255,t>>8&255,t&255,1)}function Lp(t,e,n,r){return r<=0&&(t=e=n=NaN),new sr(t,e,n,r)}function Ffe(t){return t instanceof th||(t=xd(t)),t?(t=t.rgb(),new sr(t.r,t.g,t.b,t.opacity)):new sr}function IE(t,e,n,r){return arguments.length===1?Ffe(t):new sr(t,e,n,r??1)}function sr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Yw(sr,IE,m3(th,{brighter(t){return t=t==null?Km:Math.pow(Km,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wd:Math.pow(wd,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sr(Oa(this.r),Oa(this.g),Oa(this.b),Ym(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dO,formatHex:dO,formatHex8:Vfe,formatRgb:hO,toString:hO}));function dO(){return`#${Ca(this.r)}${Ca(this.g)}${Ca(this.b)}`}function Vfe(){return`#${Ca(this.r)}${Ca(this.g)}${Ca(this.b)}${Ca((isNaN(this.opacity)?1:this.opacity)*255)}`}function hO(){const t=Ym(this.opacity);return`${t===1?"rgb(":"rgba("}${Oa(this.r)}, ${Oa(this.g)}, ${Oa(this.b)}${t===1?")":`, ${t})`}`}function Ym(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Oa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ca(t){return t=Oa(t),(t<16?"0":"")+t.toString(16)}function pO(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gi(t,e,n,r)}function g3(t){if(t instanceof gi)return new gi(t.h,t.s,t.l,t.opacity);if(t instanceof th||(t=xd(t)),!t)return new gi;if(t instanceof gi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(e===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-e)/u+2:a=(e-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new gi(a,u,c,t.opacity)}function qfe(t,e,n,r){return arguments.length===1?g3(t):new gi(t,e,n,r??1)}function gi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Yw(gi,qfe,m3(th,{brighter(t){return t=t==null?Km:Math.pow(Km,t),new gi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wd:Math.pow(wd,t),new gi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new sr(Nb(t>=240?t-240:t+120,i,r),Nb(t,i,r),Nb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new gi(mO(this.h),Up(this.s),Up(this.l),Ym(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ym(this.opacity);return`${t===1?"hsl(":"hsla("}${mO(this.h)}, ${Up(this.s)*100}%, ${Up(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mO(t){return t=(t||0)%360,t<0?t+360:t}function Up(t){return Math.max(0,Math.min(1,t||0))}function Nb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Jw=t=>()=>t;function $fe(t,e){return function(n){return t+n*e}}function zfe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Hfe(t){return(t=+t)==1?v3:function(e,n){return n-e?zfe(e,n,t):Jw(isNaN(e)?n:e)}}function v3(t,e){var n=e-t;return n?$fe(t,n):Jw(isNaN(t)?e:t)}const gO=function t(e){var n=Hfe(e);function r(i,o){var a=n((i=IE(i)).r,(o=IE(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),d=v3(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=u(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=t,r}(1);function Gfe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function jfe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Wfe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=sc(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function Kfe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Jm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Yfe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=sc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var RE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mb=new RegExp(RE.source,"g");function Jfe(t){return function(){return t}}function Xfe(t){return function(e){return t(e)+""}}function Zfe(t,e){var n=RE.lastIndex=Mb.lastIndex=0,r,i,o,a=-1,u=[],c=[];for(t=t+"",e=e+"";(r=RE.exec(t))&&(i=Mb.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:Jm(r,i)})),n=Mb.lastIndex;return n<e.length&&(o=e.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?Xfe(c[0].x):Jfe(e):(e=c.length,function(d){for(var h=0,v;h<e;++h)u[(v=c[h]).i]=v.x(d);return u.join("")})}function sc(t,e){var n=typeof e,r;return e==null||n==="boolean"?Jw(e):(n==="number"?Jm:n==="string"?(r=xd(e))?(e=r,gO):Zfe:e instanceof xd?gO:e instanceof Date?Kfe:jfe(e)?Gfe:Array.isArray(e)?Wfe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Yfe:Jm)(t,e)}function Xw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Qfe(t,e){e===void 0&&(e=t,t=sc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var u=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[u](a-u)}}function ede(t){return function(){return t}}function Xm(t){return+t}var vO=[0,1];function Wn(t){return t}function PE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ede(isNaN(e)?NaN:.5)}function tde(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function nde(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=PE(i,r),o=n(a,o)):(r=PE(r,i),o=n(o,a)),function(u){return o(r(u))}}function rde(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=PE(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(u){var c=eh(t,u,1,r)-1;return o[c](i[c](u))}}function nh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fv(){var t=vO,e=vO,n=sc,r,i,o,a=Wn,u,c,d;function h(){var _=Math.min(t.length,e.length);return a!==Wn&&(a=tde(t[0],t[_-1])),u=_>2?rde:nde,c=d=null,v}function v(_){return _==null||isNaN(_=+_)?o:(c||(c=u(t.map(r),e,n)))(r(a(_)))}return v.invert=function(_){return a(i((d||(d=u(e,t.map(r),Jm)))(_)))},v.domain=function(_){return arguments.length?(t=Array.from(_,Xm),h()):t.slice()},v.range=function(_){return arguments.length?(e=Array.from(_),h()):e.slice()},v.rangeRound=function(_){return e=Array.from(_),n=Xw,h()},v.clamp=function(_){return arguments.length?(a=_?!0:Wn,h()):a!==Wn},v.interpolate=function(_){return arguments.length?(n=_,h()):n},v.unknown=function(_){return arguments.length?(o=_,v):o},function(_,T){return r=_,i=T,h()}}function Zw(){return fv()(Wn,Wn)}function ide(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Vu(t){return t=Zm(Math.abs(t)),t?t[1]:NaN}function ode(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}}function sde(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ade=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ad(t){if(!(e=ade.exec(t)))throw new Error("invalid format: "+t);var e;return new Qw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ad.prototype=Qw.prototype;function Qw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Qw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lde(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var y3;function ude(t,e){var n=Zm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(y3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Zm(t,Math.max(0,e+o-1))[0]}function yO(t,e){var n=Zm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _O={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ide,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yO(t*100,e),r:yO,s:ude,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bO(t){return t}var TO=Array.prototype.map,EO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cde(t){var e=t.grouping===void 0||t.thousands===void 0?bO:ode(TO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?bO:sde(TO.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(v){v=Ad(v);var _=v.fill,T=v.align,E=v.sign,S=v.symbol,w=v.zero,x=v.width,N=v.comma,P=v.precision,k=v.trim,M=v.type;M==="n"?(N=!0,M="g"):_O[M]||(P===void 0&&(P=12),k=!0,M="g"),(w||_==="0"&&T==="=")&&(w=!0,_="0",T="=");var L=S==="$"?n:S==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",F=S==="$"?r:/[%p]/.test(M)?a:"",X=_O[M],G=/[defgprs%]/.test(M);P=P===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function ae(Q){var W=L,Ae=F,ke,Ee,$;if(M==="c")Ae=X(Q)+Ae,Q="";else{Q=+Q;var te=Q<0||1/Q<0;if(Q=isNaN(Q)?c:X(Math.abs(Q),P),k&&(Q=lde(Q)),te&&+Q==0&&E!=="+"&&(te=!1),W=(te?E==="("?E:u:E==="-"||E==="("?"":E)+W,Ae=(M==="s"?EO[8+y3/3]:"")+Ae+(te&&E==="("?")":""),G){for(ke=-1,Ee=Q.length;++ke<Ee;)if($=Q.charCodeAt(ke),48>$||$>57){Ae=($===46?i+Q.slice(ke+1):Q.slice(ke))+Ae,Q=Q.slice(0,ke);break}}}N&&!w&&(Q=e(Q,1/0));var he=W.length+Q.length+Ae.length,Ie=he<x?new Array(x-he+1).join(_):"";switch(N&&w&&(Q=e(Ie+Q,Ie.length?x-Ae.length:1/0),Ie=""),T){case"<":Q=W+Q+Ae+Ie;break;case"=":Q=W+Ie+Q+Ae;break;case"^":Q=Ie.slice(0,he=Ie.length>>1)+W+Q+Ae+Ie.slice(he);break;default:Q=Ie+W+Q+Ae;break}return o(Q)}return ae.toString=function(){return v+""},ae}function h(v,_){var T=d((v=Ad(v),v.type="f",v)),E=Math.max(-8,Math.min(8,Math.floor(Vu(_)/3)))*3,S=Math.pow(10,-E),w=EO[8+E/3];return function(x){return T(S*x)+w}}return{format:d,formatPrefix:h}}var Bp,eC,_3;fde({thousands:",",grouping:[3],currency:["$",""]});function fde(t){return Bp=cde(t),eC=Bp.format,_3=Bp.formatPrefix,Bp}function dde(t){return Math.max(0,-Vu(Math.abs(t)))}function hde(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vu(e)/3)))*3-Vu(Math.abs(t)))}function pde(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vu(e)-Vu(t))+1}function b3(t,e,n,r){var i=xE(t,e,n),o;switch(r=Ad(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=hde(i,a))&&(r.precision=o),_3(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=pde(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=dde(i))&&(r.precision=o-(r.type==="%")*2);break}}return eC(r)}function js(t){var e=t.domain;return t.ticks=function(n){var r=e();return wE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return b3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],u=r[o],c,d,h=10;for(u<a&&(d=a,a=u,u=d,d=i,i=o,o=d);h-- >0;){if(d=CE(a,u,n),d===c)return r[i]=a,r[o]=u,e(r);if(d>0)a=Math.floor(a/d)*d,u=Math.ceil(u/d)*d;else if(d<0)a=Math.ceil(a*d)/d,u=Math.floor(u*d)/d;else break;c=d}return t},t}function T3(){var t=Zw();return t.copy=function(){return nh(t,T3())},ui.apply(t,arguments),js(t)}function E3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Xm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return E3(t).unknown(e)},t=arguments.length?Array.from(t,Xm):[0,1],js(n)}function S3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function SO(t){return Math.log(t)}function wO(t){return Math.exp(t)}function mde(t){return-Math.log(-t)}function gde(t){return-Math.exp(-t)}function vde(t){return isFinite(t)?+("1e"+t):t<0?0:t}function yde(t){return t===10?vde:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _de(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function CO(t){return(e,n)=>-t(-e,n)}function tC(t){const e=t(SO,wO),n=e.domain;let r=10,i,o;function a(){return i=_de(r),o=yde(r),n()[0]<0?(i=CO(i),o=CO(o),t(mde,gde)):t(SO,wO),e}return e.base=function(u){return arguments.length?(r=+u,a()):r},e.domain=function(u){return arguments.length?(n(u),a()):n()},e.ticks=u=>{const c=n();let d=c[0],h=c[c.length-1];const v=h<d;v&&([d,h]=[h,d]);let _=i(d),T=i(h),E,S;const w=u==null?10:+u;let x=[];if(!(r%1)&&T-_<w){if(_=Math.floor(_),T=Math.ceil(T),d>0){for(;_<=T;++_)for(E=1;E<r;++E)if(S=_<0?E/o(-_):E*o(_),!(S<d)){if(S>h)break;x.push(S)}}else for(;_<=T;++_)for(E=r-1;E>=1;--E)if(S=_>0?E/o(-_):E*o(_),!(S<d)){if(S>h)break;x.push(S)}x.length*2<w&&(x=wE(d,h,w))}else x=wE(_,T,Math.min(T-_,w)).map(o);return v?x.reverse():x},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ad(c)).precision==null&&(c.trim=!0),c=eC(c)),u===1/0)return c;const d=Math.max(1,r*u/e.ticks().length);return h=>{let v=h/o(Math.round(i(h)));return v*r<r-.5&&(v*=r),v<=d?c(h):""}},e.nice=()=>n(S3(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function w3(){const t=tC(fv()).domain([1,10]);return t.copy=()=>nh(t,w3()).base(t.base()),ui.apply(t,arguments),t}function xO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function AO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function nC(t){var e=1,n=t(xO(e),AO(e));return n.constant=function(r){return arguments.length?t(xO(e=+r),AO(e)):e},js(n)}function C3(){var t=nC(fv());return t.copy=function(){return nh(t,C3()).constant(t.constant())},ui.apply(t,arguments)}function IO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bde(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Tde(t){return t<0?-t*t:t*t}function rC(t){var e=t(Wn,Wn),n=1;function r(){return n===1?t(Wn,Wn):n===.5?t(bde,Tde):t(IO(n),IO(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},js(e)}function iC(){var t=rC(fv());return t.copy=function(){return nh(t,iC()).exponent(t.exponent())},ui.apply(t,arguments),t}function Ede(){return iC.apply(null,arguments).exponent(.5)}function RO(t){return Math.sign(t)*t*t}function Sde(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function x3(){var t=Zw(),e=[0,1],n=!1,r;function i(o){var a=Sde(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(RO(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Xm)).map(RO)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return x3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ui.apply(i,arguments),js(i)}function A3(){var t=[],e=[],n=[],r;function i(){var a=0,u=Math.max(1,e.length);for(n=new Array(u-1);++a<u;)n[a-1]=Afe(t,a/u);return o}function o(a){return a==null||isNaN(a=+a)?r:e[eh(n,a)]}return o.invertExtent=function(a){var u=e.indexOf(a);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let u of a)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Is),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return A3().domain(t).range(e).unknown(r)},ui.apply(o,arguments)}function I3(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(c){return c!=null&&c<=c?i[eh(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},a.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return I3().domain([t,e]).range(i).unknown(o)},ui.apply(js(a),arguments)}function R3(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[eh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return R3().domain(t).range(e).unknown(n)},ui.apply(i,arguments)}const kb=new Date,Ob=new Date;function sn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),u=i.ceil(o);return o-a<u-o?a:u},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<a)||!(u>0))return c;let d;do c.push(d=new Date(+o)),e(o,u),t(o);while(d<o&&o<a);return c},i.filter=o=>sn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!o(a););else for(;--u>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(kb.setTime(+o),Ob.setTime(+a),t(kb),t(Ob),Math.floor(n(kb,Ob))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Qm=sn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Qm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?sn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Qm);Qm.range;const yo=1e3,Qr=yo*60,_o=Qr*60,Po=_o*24,oC=Po*7,PO=Po*30,Db=Po*365,xa=sn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yo)},(t,e)=>(e-t)/yo,t=>t.getUTCSeconds());xa.range;const sC=sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yo)},(t,e)=>{t.setTime(+t+e*Qr)},(t,e)=>(e-t)/Qr,t=>t.getMinutes());sC.range;const aC=sn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Qr)},(t,e)=>(e-t)/Qr,t=>t.getUTCMinutes());aC.range;const lC=sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yo-t.getMinutes()*Qr)},(t,e)=>{t.setTime(+t+e*_o)},(t,e)=>(e-t)/_o,t=>t.getHours());lC.range;const uC=sn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_o)},(t,e)=>(e-t)/_o,t=>t.getUTCHours());uC.range;const rh=sn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Qr)/Po,t=>t.getDate()-1);rh.range;const dv=sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Po,t=>t.getUTCDate()-1);dv.range;const P3=sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Po,t=>Math.floor(t/Po));P3.range;function al(t){return sn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Qr)/oC)}const hv=al(0),eg=al(1),wde=al(2),Cde=al(3),qu=al(4),xde=al(5),Ade=al(6);hv.range;eg.range;wde.range;Cde.range;qu.range;xde.range;Ade.range;function ll(t){return sn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/oC)}const pv=ll(0),tg=ll(1),Ide=ll(2),Rde=ll(3),$u=ll(4),Pde=ll(5),Nde=ll(6);pv.range;tg.range;Ide.range;Rde.range;$u.range;Pde.range;Nde.range;const cC=sn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());cC.range;const fC=sn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fC.range;const No=sn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());No.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});No.range;const Mo=sn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Mo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Mo.range;function N3(t,e,n,r,i,o){const a=[[xa,1,yo],[xa,5,5*yo],[xa,15,15*yo],[xa,30,30*yo],[o,1,Qr],[o,5,5*Qr],[o,15,15*Qr],[o,30,30*Qr],[i,1,_o],[i,3,3*_o],[i,6,6*_o],[i,12,12*_o],[r,1,Po],[r,2,2*Po],[n,1,oC],[e,1,PO],[e,3,3*PO],[t,1,Db]];function u(d,h,v){const _=h<d;_&&([d,h]=[h,d]);const T=v&&typeof v.range=="function"?v:c(d,h,v),E=T?T.range(d,+h+1):[];return _?E.reverse():E}function c(d,h,v){const _=Math.abs(h-d)/v,T=jw(([,,w])=>w).right(a,_);if(T===a.length)return t.every(xE(d/Db,h/Db,v));if(T===0)return Qm.every(Math.max(xE(d,h,v),1));const[E,S]=a[_/a[T-1][2]<a[T][2]/_?T-1:T];return E.every(S)}return[u,c]}const[Mde,kde]=N3(Mo,fC,pv,P3,uC,aC),[Ode,Dde]=N3(No,cC,hv,rh,lC,sC);function Lb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ub(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Lde(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,d=Pf(i),h=Nf(i),v=Pf(o),_=Nf(o),T=Pf(a),E=Nf(a),S=Pf(u),w=Nf(u),x=Pf(c),N=Nf(c),P={a:te,A:he,b:Ie,B:D,c:null,d:LO,e:LO,f:ohe,g:mhe,G:vhe,H:nhe,I:rhe,j:ihe,L:M3,m:she,M:ahe,p:K,q:Y,Q:FO,s:VO,S:lhe,u:uhe,U:che,V:fhe,w:dhe,W:hhe,x:null,X:null,y:phe,Y:ghe,Z:yhe,"%":BO},k={a:ie,A:ve,b:Se,B:ue,c:null,d:UO,e:UO,f:Ehe,g:Mhe,G:Ohe,H:_he,I:bhe,j:The,L:O3,m:She,M:whe,p:De,q:ot,Q:FO,s:VO,S:Che,u:xhe,U:Ahe,V:Ihe,w:Rhe,W:Phe,x:null,X:null,y:Nhe,Y:khe,Z:Dhe,"%":BO},M={a:ae,A:Q,b:W,B:Ae,c:ke,d:OO,e:OO,f:Zde,g:kO,G:MO,H:DO,I:DO,j:Kde,L:Xde,m:Wde,M:Yde,p:G,q:jde,Q:ehe,s:the,S:Jde,u:qde,U:$de,V:zde,w:Vde,W:Hde,x:Ee,X:$,y:kO,Y:MO,Z:Gde,"%":Qde};P.x=L(n,P),P.X=L(r,P),P.c=L(e,P),k.x=L(n,k),k.X=L(r,k),k.c=L(e,k);function L(le,Le){return function(Ve){var re=[],Gt=-1,Xe=0,Tn=le.length,En,jt,fl;for(Ve instanceof Date||(Ve=new Date(+Ve));++Gt<Tn;)le.charCodeAt(Gt)===37&&(re.push(le.slice(Xe,Gt)),(jt=NO[En=le.charAt(++Gt)])!=null?En=le.charAt(++Gt):jt=En==="e"?" ":"0",(fl=Le[En])&&(En=fl(Ve,jt)),re.push(En),Xe=Gt+1);return re.push(le.slice(Xe,Gt)),re.join("")}}function F(le,Le){return function(Ve){var re=Rf(1900,void 0,1),Gt=X(re,le,Ve+="",0),Xe,Tn;if(Gt!=Ve.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Le&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Xe=Ub(Rf(re.y,0,1)),Tn=Xe.getUTCDay(),Xe=Tn>4||Tn===0?tg.ceil(Xe):tg(Xe),Xe=dv.offset(Xe,(re.V-1)*7),re.y=Xe.getUTCFullYear(),re.m=Xe.getUTCMonth(),re.d=Xe.getUTCDate()+(re.w+6)%7):(Xe=Lb(Rf(re.y,0,1)),Tn=Xe.getDay(),Xe=Tn>4||Tn===0?eg.ceil(Xe):eg(Xe),Xe=rh.offset(Xe,(re.V-1)*7),re.y=Xe.getFullYear(),re.m=Xe.getMonth(),re.d=Xe.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Tn="Z"in re?Ub(Rf(re.y,0,1)).getUTCDay():Lb(Rf(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Tn+5)%7:re.w+re.U*7-(Tn+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Ub(re)):Lb(re)}}function X(le,Le,Ve,re){for(var Gt=0,Xe=Le.length,Tn=Ve.length,En,jt;Gt<Xe;){if(re>=Tn)return-1;if(En=Le.charCodeAt(Gt++),En===37){if(En=Le.charAt(Gt++),jt=M[En in NO?Le.charAt(Gt++):En],!jt||(re=jt(le,Ve,re))<0)return-1}else if(En!=Ve.charCodeAt(re++))return-1}return re}function G(le,Le,Ve){var re=d.exec(Le.slice(Ve));return re?(le.p=h.get(re[0].toLowerCase()),Ve+re[0].length):-1}function ae(le,Le,Ve){var re=T.exec(Le.slice(Ve));return re?(le.w=E.get(re[0].toLowerCase()),Ve+re[0].length):-1}function Q(le,Le,Ve){var re=v.exec(Le.slice(Ve));return re?(le.w=_.get(re[0].toLowerCase()),Ve+re[0].length):-1}function W(le,Le,Ve){var re=x.exec(Le.slice(Ve));return re?(le.m=N.get(re[0].toLowerCase()),Ve+re[0].length):-1}function Ae(le,Le,Ve){var re=S.exec(Le.slice(Ve));return re?(le.m=w.get(re[0].toLowerCase()),Ve+re[0].length):-1}function ke(le,Le,Ve){return X(le,e,Le,Ve)}function Ee(le,Le,Ve){return X(le,n,Le,Ve)}function $(le,Le,Ve){return X(le,r,Le,Ve)}function te(le){return a[le.getDay()]}function he(le){return o[le.getDay()]}function Ie(le){return c[le.getMonth()]}function D(le){return u[le.getMonth()]}function K(le){return i[+(le.getHours()>=12)]}function Y(le){return 1+~~(le.getMonth()/3)}function ie(le){return a[le.getUTCDay()]}function ve(le){return o[le.getUTCDay()]}function Se(le){return c[le.getUTCMonth()]}function ue(le){return u[le.getUTCMonth()]}function De(le){return i[+(le.getUTCHours()>=12)]}function ot(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Le=L(le+="",P);return Le.toString=function(){return le},Le},parse:function(le){var Le=F(le+="",!1);return Le.toString=function(){return le},Le},utcFormat:function(le){var Le=L(le+="",k);return Le.toString=function(){return le},Le},utcParse:function(le){var Le=F(le+="",!0);return Le.toString=function(){return le},Le}}}var NO={"-":"",_:" ",0:"0"},yn=/^\s*\d+/,Ude=/^%/,Bde=/[\\^$*+?|[\]().{}]/g;function tt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Fde(t){return t.replace(Bde,"\\$&")}function Pf(t){return new RegExp("^(?:"+t.map(Fde).join("|")+")","i")}function Nf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Vde(t,e,n){var r=yn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qde(t,e,n){var r=yn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function $de(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function zde(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Hde(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function MO(t,e,n){var r=yn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function kO(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Gde(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function jde(t,e,n){var r=yn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Wde(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function OO(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Kde(t,e,n){var r=yn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function DO(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Yde(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Jde(t,e,n){var r=yn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Xde(t,e,n){var r=yn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Zde(t,e,n){var r=yn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Qde(t,e,n){var r=Ude.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ehe(t,e,n){var r=yn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function the(t,e,n){var r=yn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function LO(t,e){return tt(t.getDate(),e,2)}function nhe(t,e){return tt(t.getHours(),e,2)}function rhe(t,e){return tt(t.getHours()%12||12,e,2)}function ihe(t,e){return tt(1+rh.count(No(t),t),e,3)}function M3(t,e){return tt(t.getMilliseconds(),e,3)}function ohe(t,e){return M3(t,e)+"000"}function she(t,e){return tt(t.getMonth()+1,e,2)}function ahe(t,e){return tt(t.getMinutes(),e,2)}function lhe(t,e){return tt(t.getSeconds(),e,2)}function uhe(t){var e=t.getDay();return e===0?7:e}function che(t,e){return tt(hv.count(No(t)-1,t),e,2)}function k3(t){var e=t.getDay();return e>=4||e===0?qu(t):qu.ceil(t)}function fhe(t,e){return t=k3(t),tt(qu.count(No(t),t)+(No(t).getDay()===4),e,2)}function dhe(t){return t.getDay()}function hhe(t,e){return tt(eg.count(No(t)-1,t),e,2)}function phe(t,e){return tt(t.getFullYear()%100,e,2)}function mhe(t,e){return t=k3(t),tt(t.getFullYear()%100,e,2)}function ghe(t,e){return tt(t.getFullYear()%1e4,e,4)}function vhe(t,e){var n=t.getDay();return t=n>=4||n===0?qu(t):qu.ceil(t),tt(t.getFullYear()%1e4,e,4)}function yhe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tt(e/60|0,"0",2)+tt(e%60,"0",2)}function UO(t,e){return tt(t.getUTCDate(),e,2)}function _he(t,e){return tt(t.getUTCHours(),e,2)}function bhe(t,e){return tt(t.getUTCHours()%12||12,e,2)}function The(t,e){return tt(1+dv.count(Mo(t),t),e,3)}function O3(t,e){return tt(t.getUTCMilliseconds(),e,3)}function Ehe(t,e){return O3(t,e)+"000"}function She(t,e){return tt(t.getUTCMonth()+1,e,2)}function whe(t,e){return tt(t.getUTCMinutes(),e,2)}function Che(t,e){return tt(t.getUTCSeconds(),e,2)}function xhe(t){var e=t.getUTCDay();return e===0?7:e}function Ahe(t,e){return tt(pv.count(Mo(t)-1,t),e,2)}function D3(t){var e=t.getUTCDay();return e>=4||e===0?$u(t):$u.ceil(t)}function Ihe(t,e){return t=D3(t),tt($u.count(Mo(t),t)+(Mo(t).getUTCDay()===4),e,2)}function Rhe(t){return t.getUTCDay()}function Phe(t,e){return tt(tg.count(Mo(t)-1,t),e,2)}function Nhe(t,e){return tt(t.getUTCFullYear()%100,e,2)}function Mhe(t,e){return t=D3(t),tt(t.getUTCFullYear()%100,e,2)}function khe(t,e){return tt(t.getUTCFullYear()%1e4,e,4)}function Ohe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$u(t):$u.ceil(t),tt(t.getUTCFullYear()%1e4,e,4)}function Dhe(){return"+0000"}function BO(){return"%"}function FO(t){return+t}function VO(t){return Math.floor(+t/1e3)}var ru,L3,U3;Lhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lhe(t){return ru=Lde(t),L3=ru.format,ru.parse,U3=ru.utcFormat,ru.utcParse,ru}function Uhe(t){return new Date(t)}function Bhe(t){return t instanceof Date?+t:+new Date(+t)}function dC(t,e,n,r,i,o,a,u,c,d){var h=Zw(),v=h.invert,_=h.domain,T=d(".%L"),E=d(":%S"),S=d("%I:%M"),w=d("%I %p"),x=d("%a %d"),N=d("%b %d"),P=d("%B"),k=d("%Y");function M(L){return(c(L)<L?T:u(L)<L?E:a(L)<L?S:o(L)<L?w:r(L)<L?i(L)<L?x:N:n(L)<L?P:k)(L)}return h.invert=function(L){return new Date(v(L))},h.domain=function(L){return arguments.length?_(Array.from(L,Bhe)):_().map(Uhe)},h.ticks=function(L){var F=_();return t(F[0],F[F.length-1],L??10)},h.tickFormat=function(L,F){return F==null?M:d(F)},h.nice=function(L){var F=_();return(!L||typeof L.range!="function")&&(L=e(F[0],F[F.length-1],L??10)),L?_(S3(F,L)):h},h.copy=function(){return nh(h,dC(t,e,n,r,i,o,a,u,c,d))},h}function Fhe(){return ui.apply(dC(Ode,Dde,No,cC,hv,rh,lC,sC,xa,L3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Vhe(){return ui.apply(dC(Mde,kde,Mo,fC,pv,dv,uC,aC,xa,U3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mv(){var t=0,e=1,n,r,i,o,a=Wn,u=!1,c;function d(v){return v==null||isNaN(v=+v)?c:a(i===0?.5:(v=(o(v)-n)*i,u?Math.max(0,Math.min(1,v)):v))}d.domain=function(v){return arguments.length?([t,e]=v,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(v){return arguments.length?(u=!!v,d):u},d.interpolator=function(v){return arguments.length?(a=v,d):a};function h(v){return function(_){var T,E;return arguments.length?([T,E]=_,a=v(T,E),d):[a(0),a(1)]}}return d.range=h(sc),d.rangeRound=h(Xw),d.unknown=function(v){return arguments.length?(c=v,d):c},function(v){return o=v,n=v(t),r=v(e),i=n===r?0:1/(r-n),d}}function Ws(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function B3(){var t=js(mv()(Wn));return t.copy=function(){return Ws(t,B3())},Fo.apply(t,arguments)}function F3(){var t=tC(mv()).domain([1,10]);return t.copy=function(){return Ws(t,F3()).base(t.base())},Fo.apply(t,arguments)}function V3(){var t=nC(mv());return t.copy=function(){return Ws(t,V3()).constant(t.constant())},Fo.apply(t,arguments)}function hC(){var t=rC(mv());return t.copy=function(){return Ws(t,hC()).exponent(t.exponent())},Fo.apply(t,arguments)}function qhe(){return hC.apply(null,arguments).exponent(.5)}function q3(){var t=[],e=Wn;function n(r){if(r!=null&&!isNaN(r=+r))return e((eh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Is),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>xfe(t,o/r))},n.copy=function(){return q3(e).domain(t)},Fo.apply(n,arguments)}function gv(){var t=0,e=.5,n=1,r=1,i,o,a,u,c,d=Wn,h,v=!1,_;function T(S){return isNaN(S=+S)?_:(S=.5+((S=+h(S))-o)*(r*S<r*o?u:c),d(v?Math.max(0,Math.min(1,S)):S))}T.domain=function(S){return arguments.length?([t,e,n]=S,i=h(t=+t),o=h(e=+e),a=h(n=+n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,T):[t,e,n]},T.clamp=function(S){return arguments.length?(v=!!S,T):v},T.interpolator=function(S){return arguments.length?(d=S,T):d};function E(S){return function(w){var x,N,P;return arguments.length?([x,N,P]=w,d=Qfe(S,[x,N,P]),T):[d(0),d(.5),d(1)]}}return T.range=E(sc),T.rangeRound=E(Xw),T.unknown=function(S){return arguments.length?(_=S,T):_},function(S){return h=S,i=S(t),o=S(e),a=S(n),u=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,T}}function $3(){var t=js(gv()(Wn));return t.copy=function(){return Ws(t,$3())},Fo.apply(t,arguments)}function z3(){var t=tC(gv()).domain([.1,1,10]);return t.copy=function(){return Ws(t,z3()).base(t.base())},Fo.apply(t,arguments)}function H3(){var t=nC(gv());return t.copy=function(){return Ws(t,H3()).constant(t.constant())},Fo.apply(t,arguments)}function pC(){var t=rC(gv());return t.copy=function(){return Ws(t,pC()).exponent(t.exponent())},Fo.apply(t,arguments)}function $he(){return pC.apply(null,arguments).exponent(.5)}const Uf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kw,scaleDiverging:$3,scaleDivergingLog:z3,scaleDivergingPow:pC,scaleDivergingSqrt:$he,scaleDivergingSymlog:H3,scaleIdentity:E3,scaleImplicit:AE,scaleLinear:T3,scaleLog:w3,scaleOrdinal:Ww,scalePoint:Rfe,scalePow:iC,scaleQuantile:A3,scaleQuantize:I3,scaleRadial:x3,scaleSequential:B3,scaleSequentialLog:F3,scaleSequentialPow:hC,scaleSequentialQuantile:q3,scaleSequentialSqrt:qhe,scaleSequentialSymlog:V3,scaleSqrt:Ede,scaleSymlog:C3,scaleThreshold:R3,scaleTime:Fhe,scaleUtc:Vhe,tickFormat:b3},Symbol.toStringTag,{value:"Module"}));var ac=t=>t.chartData,zhe=Z([ac],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),G3=(t,e,n,r)=>r?zhe(t):ac(t);function zu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ti(e)&&Ti(n))return!0}return!1}function qO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Hhe(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Ti(n))i=n;else if(typeof n=="function")return;if(Ti(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(zu(a))return a}}function Ghe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(zu(r))return qO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,a,u;if(i==="auto")e!=null&&(a=Math.min(...e));else if(be(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&Ik.test(i)){var c=Ik.exec(i);if(c==null||e==null)a=void 0;else{var d=+c[1];a=e[0]-d}}else a=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(be(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&Rk.test(o)){var h=Rk.exec(o);if(h==null||e==null)u=void 0;else{var v=+h[1];u=e[1]+v}}else u=e==null?void 0:e[1];var _=[a,u];if(zu(_))return e==null?_:qO(_,e,n)}}}var lc=1e9,jhe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gC,Nt=!0,oi="[DecimalError] ",Da=oi+"Invalid argument: ",mC=oi+"Exponent out of range: ",uc=Math.floor,_a=Math.pow,Whe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,dn=1e7,Ct=7,j3=9007199254740991,ng=uc(j3/Ct),pe={};pe.absoluteValue=pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pe.comparedTo=pe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ct;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};pe.dividedBy=pe.div=function(t){return So(this,new this.constructor(t))};pe.dividedToIntegerBy=pe.idiv=function(t){var e=this,n=e.constructor;return yt(So(e,new n(t),0,1),n.precision)};pe.equals=pe.eq=function(t){return!this.cmp(t)};pe.exponent=function(){return Zt(this)};pe.greaterThan=pe.gt=function(t){return this.cmp(t)>0};pe.greaterThanOrEqualTo=pe.gte=function(t){return this.cmp(t)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(t){return this.cmp(t)<0};pe.lessThanOrEqualTo=pe.lte=function(t){return this.cmp(t)<1};pe.logarithm=pe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(wr))throw Error(oi+"NaN");if(n.s<1)throw Error(oi+(n.s?"NaN":"-Infinity"));return n.eq(wr)?new r(0):(Nt=!1,e=So(Id(n,o),Id(t,o),o),Nt=!0,yt(e,i))};pe.minus=pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Y3(e,t):W3(e,(t.s=-t.s,t))};pe.modulo=pe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(oi+"NaN");return n.s?(Nt=!1,e=So(n,t,0,1).times(t),Nt=!0,n.minus(e)):yt(new r(n),i)};pe.naturalExponential=pe.exp=function(){return K3(this)};pe.naturalLogarithm=pe.ln=function(){return Id(this)};pe.negated=pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pe.plus=pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?W3(e,t):Y3(e,(t.s=-t.s,t))};pe.precision=pe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Da+t);if(e=Zt(i)+1,r=i.d.length-1,n=r*Ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};pe.squareRoot=pe.sqrt=function(){var t,e,n,r,i,o,a,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(oi+"NaN")}for(t=Zt(u),Nt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ui(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=uc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(o=r,r=o.plus(So(u,o,a+2)).times(.5),Ui(o.d).slice(0,a)===(e=Ui(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(yt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;a+=4}return Nt=!0,yt(r,n)};pe.times=pe.mul=function(t){var e,n,r,i,o,a,u,c,d,h=this,v=h.constructor,_=h.d,T=(t=new v(t)).d;if(!h.s||!t.s)return new v(0);for(t.s*=h.s,n=h.e+t.e,c=_.length,d=T.length,c<d&&(o=_,_=T,T=o,a=c,c=d,d=a),o=[],a=c+d,r=a;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+T[r]*_[i-r-1]+e,o[i--]=u%dn|0,e=u/dn|0;o[i]=(o[i]+e)%dn|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Nt?yt(t,v.precision):t};pe.toDecimalPlaces=pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wi(t,0,lc),e===void 0?e=r.rounding:Wi(e,0,8),yt(n,t+Zt(n)+1,e))};pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Za(r,!0):(Wi(t,0,lc),e===void 0?e=i.rounding:Wi(e,0,8),r=yt(new i(r),t+1,e),n=Za(r,!0,t+1)),n};pe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Za(i):(Wi(t,0,lc),e===void 0?e=o.rounding:Wi(e,0,8),r=yt(new o(i),t+Zt(i)+1,e),n=Za(r.abs(),!1,t+Zt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};pe.toInteger=pe.toint=function(){var t=this,e=t.constructor;return yt(new e(t),Zt(t)+1,e.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(t){var e,n,r,i,o,a,u=this,c=u.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(wr);if(u=new c(u),!u.s){if(t.s<1)throw Error(oi+"Infinity");return u}if(u.eq(wr))return u;if(r=c.precision,t.eq(wr))return yt(u,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=u.s,a){if((n=h<0?-h:h)<=j3){for(i=new c(wr),e=Math.ceil(r/Ct+4),Nt=!1;n%2&&(i=i.times(u),zO(i.d,e)),n=uc(n/2),n!==0;)u=u.times(u),zO(u.d,e);return Nt=!0,t.s<0?new c(wr).div(i):yt(i,r)}}else if(o<0)throw Error(oi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Nt=!1,i=t.times(Id(u,r+d)),Nt=!0,i=K3(i),i.s=o,i};pe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Zt(i),r=Za(i,n<=o.toExpNeg||n>=o.toExpPos)):(Wi(t,1,lc),e===void 0?e=o.rounding:Wi(e,0,8),i=yt(new o(i),t,e),n=Zt(i),r=Za(i,t<=n||n<=o.toExpNeg,t)),r};pe.toSignificantDigits=pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wi(t,1,lc),e===void 0?e=r.rounding:Wi(e,0,8)),yt(new r(n),t,e)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Zt(t),n=t.constructor;return Za(t,e<=n.toExpNeg||e>=n.toExpPos)};function W3(t,e){var n,r,i,o,a,u,c,d,h=t.constructor,v=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Nt?yt(e,v):e;if(c=t.d,d=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i,o){for(o<0?(r=c,o=-o,u=d.length):(r=d,i=a,u=c.length),a=Math.ceil(v/Ct),u=a>u?a+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=d.length,u-o<0&&(o=u,r=d,d=c,c=r),n=0;o;)n=(c[--o]=c[o]+d[o]+n)/dn|0,c[o]%=dn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Nt?yt(e,v):e}function Wi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Da+t)}function Ui(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ct-r.length,n&&(o+=gs(n)),o+=r;a=t[e],r=a+"",n=Ct-r.length,n&&(o+=gs(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var So=function(){function t(r,i){var o,a=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+a,r[u]=o%dn|0,a=o/dn|0;return a&&r.unshift(a),r}function e(r,i,o,a){var u,c;if(o!=a)c=o>a?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*dn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var u,c,d,h,v,_,T,E,S,w,x,N,P,k,M,L,F,X,G=r.constructor,ae=r.s==i.s?1:-1,Q=r.d,W=i.d;if(!r.s)return new G(r);if(!i.s)throw Error(oi+"Division by zero");for(c=r.e-i.e,F=W.length,M=Q.length,T=new G(ae),E=T.d=[],d=0;W[d]==(Q[d]||0);)++d;if(W[d]>(Q[d]||0)&&--c,o==null?N=o=G.precision:a?N=o+(Zt(r)-Zt(i))+1:N=o,N<0)return new G(0);if(N=N/Ct+2|0,d=0,F==1)for(h=0,W=W[0],N++;(d<M||h)&&N--;d++)P=h*dn+(Q[d]||0),E[d]=P/W|0,h=P%W|0;else{for(h=dn/(W[0]+1)|0,h>1&&(W=t(W,h),Q=t(Q,h),F=W.length,M=Q.length),k=F,S=Q.slice(0,F),w=S.length;w<F;)S[w++]=0;X=W.slice(),X.unshift(0),L=W[0],W[1]>=dn/2&&++L;do h=0,u=e(W,S,F,w),u<0?(x=S[0],F!=w&&(x=x*dn+(S[1]||0)),h=x/L|0,h>1?(h>=dn&&(h=dn-1),v=t(W,h),_=v.length,w=S.length,u=e(v,S,_,w),u==1&&(h--,n(v,F<_?X:W,_))):(h==0&&(u=h=1),v=W.slice()),_=v.length,_<w&&v.unshift(0),n(S,v,w),u==-1&&(w=S.length,u=e(W,S,F,w),u<1&&(h++,n(S,F<w?X:W,w))),w=S.length):u===0&&(h++,S=[0]),E[d++]=h,u&&S[0]?S[w++]=Q[k]||0:(S=[Q[k]],w=1);while((k++<M||S[0]!==void 0)&&N--)}return E[0]||E.shift(),T.e=c,yt(T,a?o+Zt(T)+1:o)}}();function K3(t,e){var n,r,i,o,a,u,c=0,d=0,h=t.constructor,v=h.precision;if(Zt(t)>16)throw Error(mC+Zt(t));if(!t.s)return new h(wr);for(Nt=!1,u=v,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(_a(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new h(wr),h.precision=u;;){if(i=yt(i.times(t),u),n=n.times(++c),a=o.plus(So(i,n,u)),Ui(a.d).slice(0,u)===Ui(o.d).slice(0,u)){for(;d--;)o=yt(o.times(o),u);return h.precision=v,e==null?(Nt=!0,yt(o,v)):o}o=a}}function Zt(t){for(var e=t.e*Ct,n=t.d[0];n>=10;n/=10)e++;return e}function Bb(t,e,n){if(e>t.LN10.sd())throw Nt=!0,n&&(t.precision=n),Error(oi+"LN10 precision limit exceeded");return yt(new t(t.LN10),e)}function gs(t){for(var e="";t--;)e+="0";return e}function Id(t,e){var n,r,i,o,a,u,c,d,h,v=1,_=10,T=t,E=T.d,S=T.constructor,w=S.precision;if(T.s<1)throw Error(oi+(T.s?"NaN":"-Infinity"));if(T.eq(wr))return new S(0);if(e==null?(Nt=!1,d=w):d=e,T.eq(10))return e==null&&(Nt=!0),Bb(S,d);if(d+=_,S.precision=d,n=Ui(E),r=n.charAt(0),o=Zt(T),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)T=T.times(t),n=Ui(T.d),r=n.charAt(0),v++;o=Zt(T),r>1?(T=new S("0."+n),o++):T=new S(r+"."+n.slice(1))}else return c=Bb(S,d+2,w).times(o+""),T=Id(new S(r+"."+n.slice(1)),d-_).plus(c),S.precision=w,e==null?(Nt=!0,yt(T,w)):T;for(u=a=T=So(T.minus(wr),T.plus(wr),d),h=yt(T.times(T),d),i=3;;){if(a=yt(a.times(h),d),c=u.plus(So(a,new S(i),d)),Ui(c.d).slice(0,d)===Ui(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(Bb(S,d+2,w).times(o+""))),u=So(u,new S(v),d),S.precision=w,e==null?(Nt=!0,yt(u,w)):u;u=c,i+=2}}function $O(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=uc(n/Ct),t.d=[],r=(n+1)%Ct,n<0&&(r+=Ct),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ct;r<i;)t.d.push(+e.slice(r,r+=Ct));e=e.slice(r),r=Ct-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Nt&&(t.e>ng||t.e<-ng))throw Error(mC+n)}else t.s=0,t.e=0,t.d=[0];return t}function yt(t,e,n){var r,i,o,a,u,c,d,h,v=t.d;for(a=1,o=v[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ct,i=e,d=v[h=0];else{if(h=Math.ceil((r+1)/Ct),o=v.length,h>=o)return t;for(d=o=v[h],a=1;o>=10;o/=10)a++;r%=Ct,i=r-Ct+a}if(n!==void 0&&(o=_a(10,a-i-1),u=d/o%10|0,c=e<0||v[h+1]!==void 0||d%o,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?d/_a(10,a-i):0:v[h-1])%10&1||n==(t.s<0?8:7))),e<1||!v[0])return c?(o=Zt(t),v.length=1,e=e-o-1,v[0]=_a(10,(Ct-e%Ct)%Ct),t.e=uc(-e/Ct)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(r==0?(v.length=h,o=1,h--):(v.length=h+1,o=_a(10,Ct-r),v[h]=i>0?(d/_a(10,a-i)%_a(10,i)|0)*o:0),c)for(;;)if(h==0){(v[0]+=o)==dn&&(v[0]=1,++t.e);break}else{if(v[h]+=o,v[h]!=dn)break;v[h--]=0,o=1}for(r=v.length;v[--r]===0;)v.pop();if(Nt&&(t.e>ng||t.e<-ng))throw Error(mC+Zt(t));return t}function Y3(t,e){var n,r,i,o,a,u,c,d,h,v,_=t.constructor,T=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),Nt?yt(e,T):e;if(c=t.d,v=e.d,r=e.e,d=t.e,c=c.slice(),a=d-r,a){for(h=a<0,h?(n=c,a=-a,u=v.length):(n=v,r=d,u=c.length),i=Math.max(Math.ceil(T/Ct),u)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=v.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=v[i]){h=c[i]<v[i];break}a=0}for(h&&(n=c,c=v,v=n,e.s=-e.s),u=c.length,i=v.length-u;i>0;--i)c[u++]=0;for(i=v.length;i>a;){if(c[--i]<v[i]){for(o=i;o&&c[--o]===0;)c[o]=dn-1;--c[o],c[i]+=dn}c[i]-=v[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Nt?yt(e,T):e):new _(0)}function Za(t,e,n){var r,i=Zt(t),o=Ui(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+gs(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+gs(-i-1)+o,n&&(r=n-a)>0&&(o+=gs(r))):i>=a?(o+=gs(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+gs(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=gs(r))),t.s<0?"-"+o:o}function zO(t,e){if(t.length>e)return t.length=e,!0}function J3(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Da+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return $O(a,o.toString())}else if(typeof o!="string")throw Error(Da+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Whe.test(o))$O(a,o);else throw Error(Da+o)}if(i.prototype=pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=J3,i.config=i.set=Khe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Khe(t){if(!t||typeof t!="object")throw Error(oi+"Object expected");var e,n,r,i=["precision",1,lc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(uc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Da+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Da+n+": "+r);return this}var gC=J3(jhe);wr=new gC(1);const rt=gC;var Yhe=t=>t,X3={},Z3=t=>t===X3,HO=t=>function e(){return arguments.length===0||arguments.length===1&&Z3(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Q3=(t,e)=>t===1?e:HO(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==X3).length;return o>=t?e(...r):Q3(t-o,HO(function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];var d=r.map(h=>Z3(h)?u.shift():h);return e(...d,...u)}))}),vv=t=>Q3(t.length,t),NE=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Jhe=vv((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Xhe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Yhe;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((u,c)=>c(u),o(...arguments))}},ME=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),e4=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((a,u)=>{var c;return a===((c=e)===null||c===void 0?void 0:c[u])})||(e=i,n=t(...i)),n}};function t4(t){var e;return t===0?e=1:e=Math.floor(new rt(t).abs().log(10).toNumber())+1,e}function n4(t,e,n){for(var r=new rt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}vv((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});vv((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});vv((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var r4=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},i4=(t,e,n)=>{if(t.lte(0))return new rt(0);var r=t4(t.toNumber()),i=new rt(10).pow(r),o=t.div(i),a=r!==1?.05:.1,u=new rt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),c=u.mul(i);return e?new rt(c.toNumber()):new rt(Math.ceil(c.toNumber()))},Zhe=(t,e,n)=>{var r=new rt(1),i=new rt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new rt(10).pow(t4(t)-1),i=new rt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new rt(Math.floor(t)))}else t===0?i=new rt(Math.floor((e-1)/2)):n||(i=new rt(Math.floor(t)));var a=Math.floor((e-1)/2),u=Xhe(Jhe(c=>i.add(new rt(c-a).mul(r)).toNumber()),NE);return u(0,e)},o4=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new rt(0),tickMin:new rt(0),tickMax:new rt(0)};var a=i4(new rt(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new rt(0):(u=new rt(e).add(n).div(2),u=u.sub(new rt(u).mod(a)));var c=Math.ceil(u.sub(e).div(a).toNumber()),d=Math.ceil(new rt(n).sub(u).div(a).toNumber()),h=c+d+1;return h>r?o4(e,n,r,i,o+1):(h<r&&(d=n>0?d+(r-h):d,c=n>0?c:c+(r-h)),{step:a,tickMin:u.sub(new rt(c).mul(a)),tickMax:u.add(new rt(d).mul(a))})};function Qhe(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[a,u]=r4([e,n]);if(a===-1/0||u===1/0){var c=u===1/0?[a,...NE(0,r-1).map(()=>1/0)]:[...NE(0,r-1).map(()=>-1/0),u];return e>n?ME(c):c}if(a===u)return Zhe(a,r,i);var{step:d,tickMin:h,tickMax:v}=o4(a,u,o,i,0),_=n4(h,v.add(new rt(.1).mul(d)),d);return e>n?ME(_):_}function epe(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=r4([n,r]);if(o===-1/0||a===1/0)return[n,r];if(o===a)return[o];var u=Math.max(e,2),c=i4(new rt(a).sub(o).div(u-1),i,0),d=[...n4(new rt(o),new rt(a).sub(new rt(.99).mul(c)),c),a];return n>r?ME(d):d}var tpe=e4(Qhe),npe=e4(epe),rpe=t=>t.rootProps.barCategoryGap,yv=t=>t.rootProps.stackOffset,vC=t=>t.options.chartName,yC=t=>t.rootProps.syncId,s4=t=>t.rootProps.syncMethod,_C=t=>t.options.eventEmitter,ho={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Tr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},_v=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},ipe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ho.angleAxisId,includeHidden:!1,name:void 0,reversed:ho.reversed,scale:ho.scale,tick:ho.tick,tickCount:void 0,ticks:void 0,type:ho.type,unit:void 0},ope={allowDataOverflow:Tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tr.scale,tick:Tr.tick,tickCount:Tr.tickCount,ticks:void 0,type:Tr.type,unit:void 0},spe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ho.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ho.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ho.scale,tick:ho.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ape={allowDataOverflow:Tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tr.scale,tick:Tr.tick,tickCount:Tr.tickCount,ticks:void 0,type:"category",unit:void 0},bC=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?spe:ipe,TC=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?ape:ope,bv=t=>t.polarOptions,EC=Z([Hs,Gs,qn],Xle),a4=Z([bv,EC],(t,e)=>{if(t!=null)return Us(t.innerRadius,e,0)}),l4=Z([bv,EC],(t,e)=>{if(t!=null)return Us(t.outerRadius,e,e*.8)}),lpe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},u4=Z([bv],lpe);Z([bC,u4],_v);var c4=Z([EC,a4,l4],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Z([TC,c4],_v);var upe=Z([Lt,bv,a4,l4,Hs,Gs],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:u,startAngle:c,endAngle:d}=e;return{cx:Us(a,i,i/2),cy:Us(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),_n=(t,e)=>e,Tv=(t,e,n)=>n;function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){cpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cpe(t,e,n){return(e=fpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fpe(t){var e=dpe(t,"string");return typeof e=="symbol"?e:e+""}function dpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kE=[0,"auto"],_r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Vo=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??_r},br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:av},Ks=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??br},hpe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},SC=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??hpe},fr=(t,e,n)=>{switch(e){case"xAxis":return Vo(t,n);case"yAxis":return Ks(t,n);case"zAxis":return SC(t,n);case"angleAxis":return bC(t,n);case"radiusAxis":return TC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ppe=(t,e,n)=>{switch(e){case"xAxis":return Vo(t,n);case"yAxis":return Ks(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ih=(t,e,n)=>{switch(e){case"xAxis":return Vo(t,n);case"yAxis":return Ks(t,n);case"angleAxis":return bC(t,n);case"radiusAxis":return TC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},f4=t=>t.graphicalItems.countOfBars>0;function d4(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var h4=t=>t.graphicalItems.cartesianItems,mpe=Z([_n,Tv],d4),p4=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),oh=Z([h4,fr,mpe],p4),m4=t=>t.filter(e=>e.stackId===void 0),gpe=Z([oh],m4),g4=t=>t.map(e=>e.data).filter(Boolean).flat(1),vpe=Z([oh],g4),v4=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Ev=Z([vpe,G3],v4),y4=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Ir(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Ir(i,r)}))):t.map(r=>({value:r})),Sv=Z([Ev,fr,oh],y4);function _4(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ul(t){return t.filter(e=>ji(e)||e instanceof Date).map(Number).filter(e=>ri(e)===!1)}function ype(t,e,n){return!n||typeof e!="number"||ri(e)?[]:n.length?ul(n.flatMap(r=>{var i=Ir(t,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!Ti(o)||!Ti(a)))return[e-o,e+a]})):[]}var b4=(t,e,n)=>{var r={},i=e.reduce((o,a)=>(a.stackId==null||(o[a.stackId]==null&&(o[a.stackId]=[]),o[a.stackId].push(a)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[a,u]=o,c=u.map(d=>d.dataKey);return[a,{stackedData:due(t,c,n),graphicalItems:u}]}))},_pe=Z([Ev,oh,yv],b4),T4=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=gue(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},bpe=Z([_pe,ac,_n],T4),E4=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(o=>{var a,u,c=(a=o.errorBars)===null||a===void 0?void 0:a.filter(h=>_4(r,h)),d=Ir(i,(u=e.dataKey)!==null&&u!==void 0?u:o.dataKey);return{value:d,errorDomain:ype(i,d,c)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:Ir(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),Tpe=Z(Ev,fr,gpe,_n,E4);function Epe(t){var{value:e}=t;if(ji(e)||e instanceof Date)return e}var Spe=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ul(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wpe=(t,e,n)=>{var r=t.map(Epe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&HB(r))?c3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},wC=t=>{var e;if(t==null||!("domain"in t))return kE;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ul(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:kE},CC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),u=Math.max(...o);return[a,u]}},S4=t=>t.referenceElements.dots,cc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Cpe=Z([S4,_n,Tv],cc),w4=t=>t.referenceElements.areas,xpe=Z([w4,_n,Tv],cc),C4=t=>t.referenceElements.lines,Ape=Z([C4,_n,Tv],cc),x4=(t,e)=>{var n=ul(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ipe=Z(Cpe,_n,x4),A4=(t,e)=>{var n=ul(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Rpe=Z([xpe,_n],A4),I4=(t,e)=>{var n=ul(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ppe=Z(Ape,_n,I4),Npe=Z(Ipe,Ppe,Rpe,(t,e,n)=>CC(t,n,e)),Mpe=Z([fr],wC),R4=(t,e,n,r,i)=>{var o=Hhe(e,t.allowDataOverflow);return o??Ghe(e,CC(n,i,Spe(r)),t.allowDataOverflow)},kpe=Z([fr,Mpe,bpe,Tpe,Npe],R4),Ope=[0,1],P4=(t,e,n,r,i,o,a)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:u,type:c}=t,d=zs(e,o);return d&&u==null?c3(0,n.length):c==="category"?wpe(r,t,d):i==="expand"?Ope:a}},xC=Z([fr,Lt,Ev,Sv,yv,_n,kpe],P4),N4=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:a}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Jd(o));return u in Uf?u:"point"}}},sh=Z([fr,Lt,f4,vC,_n],N4);function Dpe(t){if(t!=null){if(t in Uf)return Uf[t]();var e="scale".concat(Jd(t));if(e in Uf)return Uf[e]()}}function AC(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Dpe(e);if(i!=null){var o=i.domain(n).range(r);return lue(o),o}}}var M4=(t,e,n)=>{var r=wC(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&zu(t))return tpe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&zu(t))return npe(t,e.tickCount,e.allowDecimals)}},IC=Z([xC,ih,sh],M4),k4=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&zu(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],a=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(a,u)]}return e},Lpe=Z([fr,xC,IC,_n],k4),Upe=Z(Sv,fr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ul(t.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),O4=Z(Upe,Lt,rpe,qn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Ti(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var a=Us(n,t*o),u=t*o/2;return u-a-(u-a)/o*a}return 0}),Bpe=(t,e)=>{var n=Vo(t,e);return n==null||typeof n.padding!="string"?0:O4(t,"xAxis",e,n.padding)},Fpe=(t,e)=>{var n=Ks(t,e);return n==null||typeof n.padding!="string"?0:O4(t,"yAxis",e,n.padding)},Vpe=Z(Vo,Bpe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),qpe=Z(Ks,Fpe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),$pe=Z([qn,Vpe,uv,lv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),zpe=Z([qn,Lt,qpe,uv,lv,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ah=(t,e,n,r)=>{var i;switch(e){case"xAxis":return $pe(t,n,r);case"yAxis":return zpe(t,n,r);case"zAxis":return(i=SC(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return u4(t);case"radiusAxis":return c4(t,n);default:return}},D4=Z([fr,ah],_v),fc=Z([fr,sh,Lpe,D4],AC);Z(oh,_n,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>_4(e,n)));function L4(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var wv=(t,e)=>e,Cv=(t,e,n)=>n,Hpe=Z(Bw,wv,Cv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(L4)),Gpe=Z(Fw,wv,Cv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(L4)),U4=(t,e)=>({width:t.width,height:e.height}),jpe=(t,e)=>{var n=typeof e.width=="number"?e.width:av;return{width:n,height:t.height}},Wpe=Z(qn,Vo,U4),Kpe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Ype=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Jpe=Z(Gs,qn,Hpe,wv,Cv,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var c=U4(e,u);a==null&&(a=Kpe(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[u.id]=a-Number(d)*c.height,a+=(d?-1:1)*c.height}),o}),Xpe=Z(Hs,qn,Gpe,wv,Cv,(t,e,n,r,i)=>{var o={},a;return n.forEach(u=>{var c=jpe(e,u);a==null&&(a=Ype(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[u.id]=a-Number(d)*c.width,a+=(d?-1:1)*c.width}),o}),Zpe=(t,e)=>{var n=qn(t),r=Vo(t,e);if(r!=null){var i=Jpe(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},Qpe=(t,e)=>{var n=qn(t),r=Ks(t,e);if(r!=null){var i=Xpe(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},eme=Z(qn,Ks,(t,e)=>{var n=typeof e.width=="number"?e.width:av;return{width:n,height:t.height}}),B4=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,u=zs(t,r),c=e.map(d=>d.value);if(a&&u&&o==="category"&&i&&HB(c))return c}},RC=Z([Lt,Sv,fr,_n],B4),F4=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=zs(t,r);if(a&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},PC=Z([Lt,Sv,ih,_n],F4),jO=Z([Lt,ppe,sh,fc,RC,PC,ah,IC,_n],(t,e,n,r,i,o,a,u,c)=>{if(e==null)return null;var d=zs(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:u,range:a,realScaleType:n,scale:r}}),tme=(t,e,n,r,i,o,a,u,c)=>{if(!(e==null||r==null)){var d=zs(t,c),{type:h,ticks:v,tickCount:_}=e,T=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=h==="category"&&r.bandwidth?r.bandwidth()/T:0;E=c==="angleAxis"&&o!=null&&o.length>=2?Zr(o[0]-o[1])*2*E:E;var S=v||i;if(S){var w=S.map((x,N)=>{var P=a?a.indexOf(x):x;return{index:N,coordinate:r(P)+E,value:x,offset:E}});return w.filter(x=>!ri(x.coordinate))}return d&&u?u.map((x,N)=>({coordinate:r(x)+E,value:x,index:N,offset:E})):r.ticks?r.ticks(_).map(x=>({coordinate:r(x)+E,value:x,offset:E})):r.domain().map((x,N)=>({coordinate:r(x)+E,value:a?a[x]:x,index:N,offset:E}))}},V4=Z([Lt,ih,sh,fc,IC,ah,RC,PC,_n],tme),nme=(t,e,n,r,i,o,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=zs(t,a),{tickCount:c}=e,d=0;return d=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Zr(r[0]-r[1])*2*d:d,u&&o?o.map((h,v)=>({coordinate:n(h)+d,value:h,index:v,offset:d})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,v)=>({coordinate:n(h)+d,value:i?i[h]:h,index:v,offset:d}))}},q4=Z([Lt,ih,fc,ah,RC,PC,_n],nme),xv=Z(fr,fc,(t,e)=>{if(!(t==null||e==null))return rg(rg({},t),{},{scale:e})}),rme=Z([fr,sh,xC,D4],AC);Z((t,e,n)=>SC(t,n),rme,(t,e)=>{if(!(t==null||e==null))return rg(rg({},t),{},{scale:e})});var ime=Z([Lt,Bw,Fw],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$4=t=>t.options.defaultTooltipEventType,z4=t=>t.options.validateTooltipEventTypes;function H4(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function NC(t,e){var n=$4(t),r=z4(t);return H4(e,n,r)}function ome(t){return Ce(e=>NC(e,t))}var G4=(t,e)=>{var n,r=Number(e);if(!(ri(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},sme=t=>t.tooltip.settings,vs={active:!1,index:null,dataKey:void 0,coordinate:void 0},ame={itemInteraction:{click:vs,hover:vs},axisInteraction:{click:vs,hover:vs},keyboardInteraction:vs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},j4=li({name:"tooltip",initialState:ame,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=As(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:lme,removeTooltipEntrySettings:ume,setTooltipSettingsState:cme,setActiveMouseOverItemIndex:fme,mouseLeaveItem:Ybe,mouseLeaveChart:W4,setActiveClickItemIndex:Jbe,setMouseOverAxisIndex:K4,setMouseClickAxisIndex:dme,setSyncInteraction:OE,setKeyboardInteraction:DE}=j4.actions,hme=j4.reducer;function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){pme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pme(t,e,n){return(e=mme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mme(t){var e=gme(t,"string");return typeof e=="symbol"?e:e+""}function gme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vme(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function yme(t){return t.index!=null}var Y4=(t,e,n,r)=>{if(e==null)return vs;var i=vme(t,e,n);if(i==null)return vs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(yme(i)){if(o)return Fp(Fp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Fp(Fp({},vs),{},{coordinate:i.coordinate})},MC=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Ti(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},J4=(t,e,n,r,i,o,a,u)=>{if(!(o==null||u==null)){var c=a[0],d=c==null?void 0:u(c.positions,o);if(d!=null)return d;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},X4=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},Av=t=>t.options.tooltipPayloadSearcher,dc=t=>t.tooltip,bn=t=>{var e=Lt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},hc=t=>t.tooltip.settings.axisId,$n=t=>{var e=bn(t),n=hc(t);return ih(t,e,n)},kC=Z([$n,Lt,f4,vC,bn],N4),_me=Z([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),bme=Z([bn,hc],d4),Iv=Z([_me,$n,bme],p4),Tme=Z([Iv],g4),cl=Z([Tme,ac],v4),OC=Z([cl,$n,Iv],y4),Eme=Z([$n],wC),Sme=Z([cl,Iv,yv],b4),wme=Z([Sme,ac,bn],T4),Cme=Z([Iv],m4),xme=Z([cl,$n,Cme,bn],E4),Ame=Z([S4,bn,hc],cc),Ime=Z([Ame,bn],x4),Rme=Z([w4,bn,hc],cc),Pme=Z([Rme,bn],A4),Nme=Z([C4,bn,hc],cc),Mme=Z([Nme,bn],I4),kme=Z([Ime,Mme,Pme],CC),Ome=Z([$n,Eme,wme,xme,kme],R4),Z4=Z([$n,Lt,cl,OC,yv,bn,Ome],P4),Dme=Z([Z4,$n,kC],M4),Lme=Z([$n,Z4,Dme,bn],k4),Q4=t=>{var e=bn(t),n=hc(t),r=!1;return ah(t,e,n,r)},eV=Z([$n,Q4],_v),tV=Z([$n,kC,Lme,eV],AC),Ume=Z([Lt,OC,$n,bn],B4),Bme=Z([Lt,OC,$n,bn],F4),Fme=(t,e,n,r,i,o,a,u)=>{if(e){var{type:c}=e,d=zs(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return v=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Zr(i[0]-i[1])*2*v:v,d&&a?a.map((_,T)=>({coordinate:r(_)+v,value:_,index:T,offset:v})):r.domain().map((_,T)=>({coordinate:r(_)+v,value:o?o[_]:_,index:T,offset:v}))}}},qo=Z([Lt,$n,kC,tV,Q4,Ume,Bme,bn],Fme),nV=Z([$4,z4,sme],(t,e,n)=>H4(n.shared,t,e)),rV=t=>t.tooltip.settings.trigger,DC=t=>t.tooltip.settings.defaultIndex,Rv=Z([dc,nV,rV,DC],Y4),ig=Z([Rv,cl],MC),iV=Z([qo,ig],G4),Vme=Z([Rv],t=>{if(t)return t.dataKey}),qme=Z([dc,nV,rV,DC],X4),$me=Z([Hs,Gs,Lt,qn,qo,DC,qme,Av],J4),zme=Z([Rv,$me],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Hme=Z([Rv],t=>t.active);function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){Gme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gme(t,e,n){return(e=jme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jme(t){var e=Wme(t,"string");return typeof e=="symbol"?e:e+""}function Wme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oV=()=>Ce($n),Kme=()=>{var t=oV(),e=Ce(qo),n=Ce(tV);return mE(YO(YO({},t),{},{scale:n}),e)};function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){Yme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yme(t,e,n){return(e=Jme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jme(t){var e=Xme(t,"string");return typeof e=="symbol"?e:e+""}function Xme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zme=()=>Ce(vC),LC=(t,e)=>e,sV=(t,e,n)=>n,UC=(t,e,n,r)=>r;function Qme(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}var ege=Z(qo,t=>ev(t,e=>e.coordinate)),BC=Z([dc,LC,sV,UC],Y4),aV=Z([BC,cl],MC),tge=(t,e,n)=>{if(e!=null){var r=dc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},lV=Z([dc,LC,sV,UC],X4),og=Z([Hs,Gs,Lt,qn,qo,UC,lV,Av],J4),nge=Z([BC,og],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),uV=Z(qo,aV,G4);function rge(t,e){return t??e}var ige=(t,e,n,r,i,o,a)=>{if(!(e==null||o==null)){var{chartData:u,computedData:c,dataStartIndex:d,dataEndIndex:h}=n,v=[];return t.reduce((_,T)=>{var E,{dataDefinedOnItem:S,settings:w}=T,x=rge(S,u),N=Qme(x,d,h),P=(E=w==null?void 0:w.dataKey)!==null&&E!==void 0?E:r==null?void 0:r.dataKey,k=w==null?void 0:w.nameKey,M;if(r!=null&&r.dataKey&&!(r!=null&&r.allowDuplicatedCategory)&&Array.isArray(N)&&a==="axis"?M=yw(N,r.dataKey,i):M=o(N,e,c,k),Array.isArray(M))M.forEach(F=>{var X=XO(XO({},w),{},{name:F.name,unit:F.unit,color:void 0,fill:void 0});_.push(Pk({tooltipEntrySettings:X,dataKey:F.dataKey,payload:F.payload,value:Ir(F.payload,F.dataKey),name:F.name}))});else{var L;_.push(Pk({tooltipEntrySettings:w,dataKey:P,payload:M,value:Ir(M,P),name:(L=Ir(M,k))!==null&&L!==void 0?L:w==null?void 0:w.name}))}return _},v)}},oge=Z([lV,aV,ac,$n,uV,Av,LC],ige),sge=Z([BC],t=>({isActive:t.active,activeIndex:t.index})),age=(t,e,n,r,i,o,a,u)=>{if(!(!t||!e||!r||!i||!o)){var c=vue(t.chartX,t.chartY,e,n,u);if(c){var d=_ue(c,e),h=sue(d,a,o,r,i),v=yue(e,o,h,c);return{activeIndex:String(h),activeCoordinate:v}}}};function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LE.apply(null,arguments)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){lge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lge(t,e,n){return(e=uge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uge(t){var e=cge(t,"string");return typeof e=="symbol"?e:e+""}function cge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fge(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:a,cursor:u,tooltipEventType:c,chartName:d}=t,h=e,v=n,_=r;if(!u||!h||d!=="ScatterChart"&&c!=="axis")return null;var T,E;if(d==="ScatterChart")T=h,E=bce;else if(d==="BarChart")T=Tce(a,h,i,o),E=ife;else if(a==="radial"){var{cx:S,cy:w,radius:x,startAngle:N,endAngle:P}=l3(h);T={cx:S,cy:w,startAngle:N,endAngle:P,innerRadius:x,outerRadius:x},E=lfe}else T={points:ufe(a,h,i)},E=i3;var k=typeof u=="object"&&"className"in u?u.className:void 0,M=Vp(Vp(Vp(Vp({stroke:"#ccc",pointerEvents:"none"},i),T),Et(u,!1)),{},{payload:v,payloadIndex:_,className:vt("recharts-tooltip-cursor",k)});return A.isValidElement(u)?A.cloneElement(u,M):A.createElement(E,M)}function dge(t){var e=Kme(),n=Zd(),r=zw(),i=Zme();return A.createElement(fge,LE({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var cV=A.createContext(null),hge=()=>A.useContext(cV),Fb={exports:{}},QO;function pge(){return QO||(QO=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function o(c,d,h,v,_){if(typeof h!="function")throw new TypeError("The listener must be a function");var T=new i(h,v||c,_),E=n?n+d:d;return c._events[E]?c._events[E].fn?c._events[E]=[c._events[E],T]:c._events[E].push(T):(c._events[E]=T,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,v;if(this._eventsCount===0)return d;for(v in h=this._events)e.call(h,v)&&d.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,v=this._events[h];if(!v)return[];if(v.fn)return[v.fn];for(var _=0,T=v.length,E=new Array(T);_<T;_++)E[_]=v[_].fn;return E},u.prototype.listenerCount=function(d){var h=n?n+d:d,v=this._events[h];return v?v.fn?1:v.length:0},u.prototype.emit=function(d,h,v,_,T,E){var S=n?n+d:d;if(!this._events[S])return!1;var w=this._events[S],x=arguments.length,N,P;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,v),!0;case 4:return w.fn.call(w.context,h,v,_),!0;case 5:return w.fn.call(w.context,h,v,_,T),!0;case 6:return w.fn.call(w.context,h,v,_,T,E),!0}for(P=1,N=new Array(x-1);P<x;P++)N[P-1]=arguments[P];w.fn.apply(w.context,N)}else{var k=w.length,M;for(P=0;P<k;P++)switch(w[P].once&&this.removeListener(d,w[P].fn,void 0,!0),x){case 1:w[P].fn.call(w[P].context);break;case 2:w[P].fn.call(w[P].context,h);break;case 3:w[P].fn.call(w[P].context,h,v);break;case 4:w[P].fn.call(w[P].context,h,v,_);break;default:if(!N)for(M=1,N=new Array(x-1);M<x;M++)N[M-1]=arguments[M];w[P].fn.apply(w[P].context,N)}}return!0},u.prototype.on=function(d,h,v){return o(this,d,h,v,!1)},u.prototype.once=function(d,h,v){return o(this,d,h,v,!0)},u.prototype.removeListener=function(d,h,v,_){var T=n?n+d:d;if(!this._events[T])return this;if(!h)return a(this,T),this;var E=this._events[T];if(E.fn)E.fn===h&&(!_||E.once)&&(!v||E.context===v)&&a(this,T);else{for(var S=0,w=[],x=E.length;S<x;S++)(E[S].fn!==h||_&&!E[S].once||v&&E[S].context!==v)&&w.push(E[S]);w.length?this._events[T]=w.length===1?w[0]:w:a(this,T)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(Fb)),Fb.exports}var mge=pge();const gge=Ki(mge);var Rd=new gge,UE="recharts.syncEvent.tooltip",eD="recharts.syncEvent.brush";function vge(t,e){if(e){var n=Number.parseInt(e,10);if(!ri(n))return t==null?void 0:t[n]}}var yge={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},fV=li({name:"options",initialState:yge,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),_ge=fV.reducer,{createEventEmitter:bge}=fV.actions;function Tge(t){return t.tooltip.syncInteraction}var Ege={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},dV=li({name:"chartData",initialState:Ege,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:tD,setDataStartEndIndexes:Sge,setComputedData:Xbe}=dV.actions,wge=dV.reducer,hV=()=>{};function Cge(){var t=Ce(yC),e=Ce(_C),n=Mn(),r=Ce(s4),i=Ce(qo),o=zw(),a=Vw(),u=Ce(c=>c.rootProps.className);A.useEffect(()=>{if(t==null)return hV;var c=(d,h,v)=>{if(e!==v&&t===d){if(r==="index"){n(h);return}if(i!=null){var _;if(typeof r=="function"){var T={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},E=r(i,T);_=i[E]}else r==="value"&&(_=i.find(L=>String(L.value)===h.payload.label));var{coordinate:S}=h.payload;if(_==null||h.payload.active===!1||S==null||a==null){n(OE({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:x}=S,N=Math.min(w,a.x+a.width),P=Math.min(x,a.y+a.height),k={x:o==="horizontal"?_.coordinate:N,y:o==="horizontal"?P:_.coordinate},M=OE({active:h.payload.active,coordinate:k,dataKey:h.payload.dataKey,index:String(_.index),label:h.payload.label});n(M)}}};return Rd.on(UE,c),()=>{Rd.off(UE,c)}},[u,n,e,t,r,i,o,a])}function xge(){var t=Ce(yC),e=Ce(_C),n=Mn();A.useEffect(()=>{if(t==null)return hV;var r=(i,o,a)=>{e!==a&&t===i&&n(Sge(o))};return Rd.on(eD,r),()=>{Rd.off(eD,r)}},[n,e,t])}function Age(){var t=Mn();A.useEffect(()=>{t(bge())},[t]),Cge(),xge()}function Ige(t,e,n,r,i,o){var a=Ce(_=>tge(_,t,e)),u=Ce(_C),c=Ce(yC),d=Ce(s4),h=Ce(Tge),v=h==null?void 0:h.active;A.useEffect(()=>{if(!v&&c!=null&&u!=null){var _=OE({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});Rd.emit(UE,c,_,u)}},[v,n,a,i,r,u,c,d,o])}function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){Rge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rge(t,e,n){return(e=Pge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pge(t){var e=Nge(t,"string");return typeof e=="symbol"?e:e+""}function Nge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mge(t){return t.dataKey}function kge(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(Zue,e)}var iD=[],Oge={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Qd.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Dge(t){var e=sl(t,Oge),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:a,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:h,position:v,reverseDirection:_,useTranslate3d:T,wrapperStyle:E,cursor:S,shared:w,trigger:x,defaultIndex:N,portal:P,axisId:k}=e,M=Mn(),L=typeof N=="number"?String(N):N;A.useEffect(()=>{M(cme({shared:w,trigger:x,axisId:k,active:n,defaultIndex:L}))},[M,w,x,k,n,L]);var F=Vw(),X=r3(),G=ome(w),{activeIndex:ae,isActive:Q}=Ce(Se=>sge(Se,G,x,L)),W=Ce(Se=>oge(Se,G,x,L)),Ae=Ce(Se=>uV(Se,G,x,L)),ke=Ce(Se=>nge(Se,G,x,L)),Ee=W,$=hge(),te=n??Q,[he,Ie]=xF([Ee,te]),D=G==="axis"?Ae:void 0;Ige(G,x,ke,D,ae,te);var K=P??$;if(K==null)return null;var Y=Ee??iD;te||(Y=iD),u&&Y.length&&(Y=TF(Ee.filter(Se=>Se.value!=null&&(Se.hide!==!0||e.includeHidden)),h,Mge));var ie=Y.length>0,ve=A.createElement(oce,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:c,active:te,coordinate:ke,hasPayload:ie,offset:d,position:v,reverseDirection:_,useTranslate3d:T,viewBox:F,wrapperStyle:E,lastBoundingBox:he,innerRef:Ie,hasPortalFromProps:!!P},kge(a,rD(rD({},e),{},{payload:Y,label:D,active:te,coordinate:ke,accessibilityLayer:X})));return A.createElement(A.Fragment,null,YB.createPortal(ve,K),te&&A.createElement(dge,{cursor:S,tooltipEventType:G,coordinate:ke,payload:Ee,index:ae}))}var Vb={},qb={},$b={},oD;function Lge(){return oD||(oD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let a,u=null;const c=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(a,u),a=void 0,u=null)},v=()=>{d&&h(),S()};let _=null;const T=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,v()},r)},E=()=>{_!==null&&(clearTimeout(_),_=null)},S=()=>{E(),a=void 0,u=null},w=()=>{E(),h()},x=function(...N){if(i!=null&&i.aborted)return;a=this,u=N;const P=_==null;T(),c&&P&&h()};return x.schedule=T,x.cancel=S,x.flush=w,i==null||i.addEventListener("abort",S,{once:!0}),x}t.debounce=e}($b)),$b}var sD;function Uge(){return sD||(sD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lge();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:u=!0,maxWait:c}=o,d=Array(2);a&&(d[0]="leading"),u&&(d[1]="trailing");let h,v=null;const _=e.debounce(function(...S){h=r.apply(this,S),v=null},i,{edges:d}),T=function(...S){return c!=null&&(v===null&&(v=Date.now()),Date.now()-v>=c)?(h=r.apply(this,S),v=Date.now(),_.cancel(),_.schedule(),h):(_.apply(this,S),h)},E=()=>(_.flush(),h);return T.cancel=_.cancel,T.flush=E,T}t.debounce=n}(qb)),qb}var aD;function Bge(){return aD||(aD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uge();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:a,trailing:u,maxWait:i})}t.throttle=n}(Vb)),Vb}var zb,lD;function Fge(){return lD||(lD=1,zb=Bge().throttle),zb}var Vge=Fge();const qge=Ki(Vge);var Jf=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){$ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ge(t,e,n){return(e=zge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zge(t){var e=Hge(t,"string");return typeof e=="symbol"?e:e+""}function Hge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gge=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:a=0,minHeight:u,maxHeight:c,children:d,debounce:h=0,id:v,className:_,onResize:T,style:E={}}=t,S=A.useRef(null),w=A.useRef();w.current=T,A.useImperativeHandle(e,()=>S.current);var[x,N]=A.useState({containerWidth:r.width,containerHeight:r.height}),P=A.useCallback((M,L)=>{N(F=>{var X=Math.round(M),G=Math.round(L);return F.containerWidth===X&&F.containerHeight===G?F:{containerWidth:X,containerHeight:G}})},[]);A.useEffect(()=>{var M=G=>{var ae,{width:Q,height:W}=G[0].contentRect;P(Q,W),(ae=w.current)===null||ae===void 0||ae.call(w,Q,W)};h>0&&(M=qge(M,h,{trailing:!0,leading:!1}));var L=new ResizeObserver(M),{width:F,height:X}=S.current.getBoundingClientRect();return P(F,X),L.observe(S.current),()=>{L.disconnect()}},[P,h]);var k=A.useMemo(()=>{var{containerWidth:M,containerHeight:L}=x;if(M<0||L<0)return null;Jf(Sa(i)||Sa(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Jf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Sa(i)?M:i,X=Sa(o)?L:o;return n&&n>0&&(F?X=F/n:X&&(F=X*n),c&&X>c&&(X=c)),Jf(F>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,X,i,o,a,u,n),A.Children.map(d,G=>A.cloneElement(G,{width:F,height:X,style:Hb({height:"100%",width:"100%",maxHeight:X,maxWidth:F},G.props.style)}))},[n,d,o,c,u,a,x,i]);return A.createElement("div",{id:v?"".concat(v):void 0,className:vt("recharts-responsive-container",_),style:Hb(Hb({},E),{},{width:i,height:o,minWidth:a,minHeight:u,maxHeight:c}),ref:S},k)});function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){jge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jge(t,e,n){return(e=Wge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wge(t){var e=Kge(t,"string");return typeof e=="symbol"?e:e+""}function Kge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iu={widthCache:{},cacheCount:0},Yge=2e3,Jge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fD="recharts_measurement_span";function Xge(t){var e=BE({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var Xf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Qd.isSsr)return{width:0,height:0};var r=Xge(n),i=JSON.stringify({text:e,copyStyle:r});if(iu.widthCache[i])return iu.widthCache[i];try{var o=document.getElementById(fD);o||(o=document.createElement("span"),o.setAttribute("id",fD),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=BE(BE({},Jge),r);Object.assign(o.style,a),o.textContent="".concat(e);var u=o.getBoundingClientRect(),c={width:u.width,height:u.height};return iu.widthCache[i]=c,++iu.cacheCount>Yge&&(iu.cacheCount=0,iu.widthCache={}),c}catch{return{width:0,height:0}}},dD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eve=Object.keys(pV),uu="NaN";function tve(t,e){return t*pV[e]}class nr{static parse(e){var n,[,r,i]=(n=Qge.exec(e))!==null&&n!==void 0?n:[];return new nr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ri(e)&&(this.unit=""),n!==""&&!Zge.test(n)&&(this.num=NaN,this.unit=""),eve.includes(n)&&(this.num=tve(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new nr(NaN,""):new nr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new nr(NaN,""):new nr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new nr(NaN,""):new nr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new nr(NaN,""):new nr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ri(this.num)}}function mV(t){if(t.includes(uu))return uu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=dD.exec(e))!==null&&n!==void 0?n:[],a=nr.parse(r??""),u=nr.parse(o??""),c=i==="*"?a.multiply(u):a.divide(u);if(c.isNaN())return uu;e=e.replace(dD,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,v,_]=(d=hD.exec(e))!==null&&d!==void 0?d:[],T=nr.parse(h??""),E=nr.parse(_??""),S=v==="+"?T.add(E):T.subtract(E);if(S.isNaN())return uu;e=e.replace(hD,S.toString())}return e}var pD=/\(([^()]*)\)/;function nve(t){for(var e=t,n;(n=pD.exec(e))!=null;){var[,r]=n;e=e.replace(pD,mV(r))}return e}function rve(t){var e=t.replace(/\s+/g,"");return e=nve(e),e=mV(e),e}function ive(t){try{return rve(t)}catch{return uu}}function Gb(t){var e=ive(t.slice(5,-1));return e===uu?"":e}var ove=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sve=["dx","dy","angle","className","breakAll"];function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}function mD(t,e){if(t==null)return{};var n,r,i=ave(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ave(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gV=/[ \f\n\r\t\v\u2028\u2029]+/,vV=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Ht(e)||(n?i=e.toString().split(""):i=e.toString().split(gV));var o=i.map(u=>({word:u,width:Xf(u,r).width})),a=n?0:Xf(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},lve=(t,e,n,r,i)=>{var{maxLines:o,children:a,style:u,breakAll:c}=t,d=be(o),h=a,v=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce((W,Ae)=>{var{word:ke,width:Ee}=Ae,$=W[W.length-1];if($&&(r==null||i||$.width+Ee+n<Number(r)))$.words.push(ke),$.width+=Ee+n;else{var te={words:[ke],width:Ee};W.push(te)}return W},[])},_=v(e),T=ae=>ae.reduce((Q,W)=>Q.width>W.width?Q:W);if(!d||i)return _;var E=_.length>o||T(_).width>Number(r);if(!E)return _;for(var S="…",w=ae=>{var Q=h.slice(0,ae),W=vV({breakAll:c,style:u,children:Q+S}).wordsWithComputedWidth,Ae=v(W),ke=Ae.length>o||T(Ae).width>Number(r);return[ke,Ae]},x=0,N=h.length-1,P=0,k;x<=N&&P<=h.length-1;){var M=Math.floor((x+N)/2),L=M-1,[F,X]=w(L),[G]=w(M);if(!F&&!G&&(x=M+1),F&&G&&(N=M-1),!F&&G){k=X;break}P++}return k||_},gD=t=>{var e=Ht(t)?[]:t.toString().split(gV);return[{words:e}]},uve=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=t;if((e||n)&&!Qd.isSsr){var u,c,d=vV({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:v}=d;u=h,c=v}else return gD(r);return lve({breakAll:o,children:r,maxLines:a,style:i},u,c,e,n)}return gD(r)},vD="#808080",FC=A.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:a=!1,textAnchor:u="start",verticalAnchor:c="end",fill:d=vD}=t,h=mD(t,ove),v=A.useMemo(()=>uve({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:a,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,a,h.style,h.width]),{dx:_,dy:T,angle:E,className:S,breakAll:w}=h,x=mD(h,sve);if(!ji(n)||!ji(r))return null;var N=n+(be(_)?_:0),P=r+(be(T)?T:0),k;switch(c){case"start":k=Gb("calc(".concat(o,")"));break;case"middle":k=Gb("calc(".concat((v.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:k=Gb("calc(".concat(v.length-1," * -").concat(i,")"));break}var M=[];if(a){var L=v[0].width,{width:F}=h;M.push("scale(".concat(be(F)?F/L:1,")"))}return E&&M.push("rotate(".concat(E,", ").concat(N,", ").concat(P,")")),M.length&&(x.transform=M.join(" ")),A.createElement("text",FE({},Et(x,!0),{ref:e,x:N,y:P,className:vt("recharts-text",S),textAnchor:u,fill:d.includes("url")?vD:d}),v.map((X,G)=>{var ae=X.words.join(w?"":" ");return A.createElement("tspan",{x:N,dy:G===0?k:i,key:"".concat(ae,"-").concat(G)},ae)}))});FC.displayName="Text";var cve=["offset"],fve=["labelRef"];function yD(t,e){if(t==null)return{};var n,r,i=dve(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){hve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hve(t,e,n){return(e=pve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pve(t){var e=mve(t,"string");return typeof e=="symbol"?e:e+""}function mve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function po(){return po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},po.apply(null,arguments)}var gve=t=>{var{value:e,formatter:n}=t,r=Ht(t.children)?e:t.children;return typeof n=="function"?n(r):r},VC=t=>t!=null&&typeof t=="function",vve=(t,e)=>{var n=Zr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},yve=(t,e,n)=>{var{position:r,viewBox:i,offset:o,className:a}=t,{cx:u,cy:c,innerRadius:d,outerRadius:h,startAngle:v,endAngle:_,clockWise:T}=i,E=(d+h)/2,S=vve(v,_),w=S>=0?1:-1,x,N;r==="insideStart"?(x=v+w*o,N=T):r==="insideEnd"?(x=_-w*o,N=!T):r==="end"&&(x=_+w*o,N=T),N=S<=0?N:!N;var P=Pn(u,c,E,x),k=Pn(u,c,E,x+(N?1:-1)*359),M="M".concat(P.x,",").concat(P.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(N?0:1,`,
    `).concat(k.x,",").concat(k.y),L=Ht(t.id)?bd("recharts-radial-line-"):t.id;return A.createElement("text",po({},n,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",a)}),A.createElement("defs",null,A.createElement("path",{id:L,d:M})),A.createElement("textPath",{xlinkHref:"#".concat(L)},e))},_ve=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:i,cy:o,innerRadius:a,outerRadius:u,startAngle:c,endAngle:d}=e,h=(c+d)/2;if(r==="outside"){var{x:v,y:_}=Pn(i,o,u+n,h);return{x:v,y:_,textAnchor:v>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var T=(a+u)/2,{x:E,y:S}=Pn(i,o,T,h);return{x:E,y:S,textAnchor:"middle",verticalAnchor:"middle"}},bve=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:a,width:u,height:c}=e,d=c>=0?1:-1,h=d*r,v=d>0?"end":"start",_=d>0?"start":"end",T=u>=0?1:-1,E=T*r,S=T>0?"end":"start",w=T>0?"start":"end";if(i==="top"){var x={x:o+u/2,y:a-d*r,textAnchor:"middle",verticalAnchor:v};return Yt(Yt({},x),n?{height:Math.max(a-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:o+u/2,y:a+c+h,textAnchor:"middle",verticalAnchor:_};return Yt(Yt({},N),n?{height:Math.max(n.y+n.height-(a+c),0),width:u}:{})}if(i==="left"){var P={x:o-E,y:a+c/2,textAnchor:S,verticalAnchor:"middle"};return Yt(Yt({},P),n?{width:Math.max(P.x-n.x,0),height:c}:{})}if(i==="right"){var k={x:o+u+E,y:a+c/2,textAnchor:w,verticalAnchor:"middle"};return Yt(Yt({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:c}:{})}var M=n?{width:u,height:c}:{};return i==="insideLeft"?Yt({x:o+E,y:a+c/2,textAnchor:w,verticalAnchor:"middle"},M):i==="insideRight"?Yt({x:o+u-E,y:a+c/2,textAnchor:S,verticalAnchor:"middle"},M):i==="insideTop"?Yt({x:o+u/2,y:a+h,textAnchor:"middle",verticalAnchor:_},M):i==="insideBottom"?Yt({x:o+u/2,y:a+c-h,textAnchor:"middle",verticalAnchor:v},M):i==="insideTopLeft"?Yt({x:o+E,y:a+h,textAnchor:w,verticalAnchor:_},M):i==="insideTopRight"?Yt({x:o+u-E,y:a+h,textAnchor:S,verticalAnchor:_},M):i==="insideBottomLeft"?Yt({x:o+E,y:a+c-h,textAnchor:w,verticalAnchor:v},M):i==="insideBottomRight"?Yt({x:o+u-E,y:a+c-h,textAnchor:S,verticalAnchor:v},M):i&&typeof i=="object"&&(be(i.x)||Sa(i.x))&&(be(i.y)||Sa(i.y))?Yt({x:o+Us(i.x,u),y:a+Us(i.y,c),textAnchor:"end",verticalAnchor:"end"},M):Yt({x:o+u/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},M)},Tve=t=>"cx"in t&&be(t.cx);function Sr(t){var{offset:e=5}=t,n=yD(t,cve),r=Yt({offset:e},n),{viewBox:i,position:o,value:a,children:u,content:c,className:d="",textBreakAll:h,labelRef:v}=r,_=Vw(),T=i||_;if(!T||Ht(a)&&Ht(u)&&!A.isValidElement(c)&&typeof c!="function")return null;if(A.isValidElement(c)){var{labelRef:E}=r,S=yD(r,fve);return A.cloneElement(c,S)}var w;if(typeof c=="function"){if(w=A.createElement(c,r),A.isValidElement(w))return w}else w=gve(r);var x=Tve(T),N=Et(r,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return yve(r,w,N);var P=x?_ve(r):bve(r,T);return A.createElement(FC,po({ref:v,className:vt("recharts-label",d)},N,P,{breakAll:h}),w)}Sr.displayName="Label";var yV=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:a,radius:u,innerRadius:c,outerRadius:d,x:h,y:v,top:_,left:T,width:E,height:S,clockWise:w,labelViewBox:x}=t;if(x)return x;if(be(E)&&be(S)){if(be(h)&&be(v))return{x:h,y:v,width:E,height:S};if(be(_)&&be(T))return{x:_,y:T,width:E,height:S}}if(be(h)&&be(v))return{x:h,y:v,width:0,height:0};if(be(e)&&be(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:c||0,outerRadius:d||u||a||0,clockWise:w};if(t.viewBox)return t.viewBox},Eve=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(Sr,po({key:"label-implicit"},r)):ji(t)?A.createElement(Sr,po({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===Sr?A.cloneElement(t,Yt({key:"label-implicit"},r)):A.createElement(Sr,po({key:"label-implicit",content:t},r)):VC(t)?A.createElement(Sr,po({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(Sr,po({},t,{key:"label-implicit"},r)):null},Sve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,a=yV(e),u=WB(i,Sr).map((d,h)=>A.cloneElement(d,{viewBox:n||a,key:"label-".concat(h)}));if(!r)return u;var c=Eve(e.label,n||a,o);return[c,...u]};Sr.parseViewBox=yV;Sr.renderCallByParent=Sve;var jb={},Wb={},bD;function wve(){return bD||(bD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(Wb)),Wb}var Kb={},TD;function Cve(){return TD||(TD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(Kb)),Kb}var ED;function xve(){return ED||(ED=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wve(),n=Cve(),r=Aw();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i}(jb)),jb}var Yb,SD;function Ave(){return SD||(SD=1,Yb=xve().last),Yb}var Ive=Ave();const Rve=Ki(Ive);var Pve=["valueAccessor"],Nve=["data","dataKey","clockWise","id","textBreakAll"];function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(null,arguments)}function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){Mve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mve(t,e,n){return(e=kve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kve(t){var e=Ove(t,"string");return typeof e=="symbol"?e:e+""}function Ove(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xD(t,e){if(t==null)return{};var n,r,i=Dve(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lve=t=>Array.isArray(t.value)?Rve(t.value):t.value;function La(t){var{valueAccessor:e=Lve}=t,n=xD(t,Pve),{data:r,dataKey:i,clockWise:o,id:a,textBreakAll:u}=n,c=xD(n,Nve);return!r||!r.length?null:A.createElement(Bs,{className:"recharts-label-list"},r.map((d,h)=>{var v=Ht(i)?e(d,h):Ir(d&&d.payload,i),_=Ht(a)?{}:{id:"".concat(a,"-").concat(h)};return A.createElement(Sr,sg({},Et(d,!0),c,_,{parentViewBox:d.parentViewBox,value:v,textBreakAll:u,viewBox:Sr.parseViewBox(Ht(o)?d:CD(CD({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}La.displayName="LabelList";function Uve(t,e){return t?t===!0?A.createElement(La,{key:"labelList-implicit",data:e}):A.isValidElement(t)||VC(t)?A.createElement(La,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?A.createElement(La,sg({data:e},t,{key:"labelList-implicit"})):null:null}function Bve(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=WB(r,La).map((a,u)=>A.cloneElement(a,{data:e,key:"labelList-".concat(u)}));if(!n)return i;var o=Uve(t.label,e);return[o,...i]}La.renderCallByParent=Bve;function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(null,arguments)}var _V=t=>{var{cx:e,cy:n,r,className:i}=t,o=vt("recharts-dot",i);return e===+e&&n===+n&&r===+r?A.createElement("circle",VE({},Et(t,!1),bw(t),{className:o,cx:e,cy:n,r})):null},Fve={radiusAxis:{},angleAxis:{}},bV=li({name:"polarAxis",initialState:Fve,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Zbe,removeRadiusAxis:Qbe,addAngleAxis:eTe,removeAngleAxis:tTe}=bV.actions,Vve=bV.reducer,qve={countOfBars:0,cartesianItems:[],polarItems:[]},TV=li({name:"graphicalItems",initialState:qve,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},removeCartesianGraphicalItem(t,e){var n=As(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=As(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:nTe,removeBar:rTe,addCartesianGraphicalItem:$ve,removeCartesianGraphicalItem:zve,addPolarGraphicalItem:iTe,removePolarGraphicalItem:oTe}=TV.actions,Hve=TV.reducer;function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ID(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(n),!0).forEach(function(r){Gve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gve(t,e,n){return(e=jve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jve(t){var e=Wve(t,"string");return typeof e=="symbol"?e:e+""}function Wve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kve(t){var e=Mn();return A.useEffect(()=>{var n=ID(ID({},t),{},{stackId:hue(t.stackId)});return e($ve(n)),()=>{e(zve(n))}},[e,t]),null}function Yve(t){var{fn:e,args:n}=t,r=Mn(),i=cr();return A.useEffect(()=>{if(!i){var o=e(n);return r(lme(o)),()=>{r(ume(o))}}},[e,n,r,i]),null}var Jve=()=>{};function Xve(t){var{legendPayload:e}=t,n=Mn(),r=cr();return A.useEffect(()=>r?Jve:(n(Oue(e)),()=>{n(Due(e))}),[n,r,e]),null}function Zve(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(bd(e)),r=A.useRef(t);return r.current!==t&&(n.current=bd(e),r.current=t),n.current}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){Qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qve(t,e,n){return(e=eye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eye(t){var e=tye(t,"string");return typeof e=="symbol"?e:e+""}function tye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nye=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o}=t;if(i===!1||e.x==null||e.y==null)return null;var a=PD(PD({index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Et(i,!1)),bw(i)),u;return A.isValidElement(i)?u=A.cloneElement(i,a):typeof i=="function"?u=i(a):u=A.createElement(_V,a),A.createElement(Bs,{className:"recharts-active-dot"},u)};function rye(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,o=oV(),a=Ce(ig),u=Ce(iV);if(!a)return null;var c,d=o.dataKey;if(d&&!o.allowDuplicatedCategory){var h=typeof d=="function"?v=>d(v.payload):"payload.".concat(d);c=yw(e,h,u)}else c=e==null?void 0:e[Number(a)];return Ht(c)?null:nye({point:c,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var iye=["children"];function oye(t,e){if(t==null)return{};var n,r,i=sye(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ND=()=>{},EV=A.createContext({addErrorBar:ND,removeErrorBar:ND}),aye={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},SV=A.createContext(aye);function lye(t){var{children:e}=t,n=oye(t,iye);return A.createElement(SV.Provider,{value:n},e)}var uye=()=>A.useContext(SV),cye=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,data:a,stackId:u,hide:c,type:d,barSize:h}=t,[v,_]=A.useState([]),T=A.useCallback(w=>{_(x=>[...x,w])},[_]),E=A.useCallback(w=>{_(x=>x.filter(N=>N!==w))},[_]),S=cr();return A.createElement(EV.Provider,{value:{addErrorBar:T,removeErrorBar:E}},A.createElement(Kve,{type:d,data:a,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,errorBars:v,stackId:u,hide:c,barSize:h,isPanorama:S}),e)};function fye(t){var{addErrorBar:e,removeErrorBar:n}=A.useContext(EV);return A.useEffect(()=>(e(t),()=>{n(t)}),[e,n,t]),null}var dye=t=>{var e=cr();return Ce(n=>xv(n,"xAxis",t,e))},hye=t=>{var e=cr();return Ce(n=>xv(n,"yAxis",t,e))},pye=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function wV(t,e,n){return(e=mye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mye(t){var e=gye(t,"string");return typeof e=="symbol"?e:e+""}function gye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pd.apply(null,arguments)}function vye(t,e){if(t==null)return{};var n,r,i=yye(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _ye(t){var{direction:e,width:n,dataKey:r,isAnimationActive:i,animationBegin:o,animationDuration:a,animationEasing:u}=t,c=vye(t,pye),d=Et(c,!1),{data:h,dataPointFormatter:v,xAxisId:_,yAxisId:T,errorBarOffset:E}=uye(),S=dye(_),w=hye(T);if((S==null?void 0:S.scale)==null||(w==null?void 0:w.scale)==null||h==null||e==="x"&&S.type!=="number")return null;var x=h.map(N=>{var{x:P,y:k,value:M,errorVal:L}=v(N,r,e);if(!L)return null;var F=[],X,G;if(Array.isArray(L)?[X,G]=L:X=G=L,e==="x"){var{scale:ae}=S,Q=k+E,W=Q+n,Ae=Q-n,ke=ae(M-X),Ee=ae(M+G);F.push({x1:Ee,y1:W,x2:Ee,y2:Ae}),F.push({x1:ke,y1:Q,x2:Ee,y2:Q}),F.push({x1:ke,y1:W,x2:ke,y2:Ae})}else if(e==="y"){var{scale:$}=w,te=P+E,he=te-n,Ie=te+n,D=$(M-X),K=$(M+G);F.push({x1:he,y1:K,x2:Ie,y2:K}),F.push({x1:te,y1:D,x2:te,y2:K}),F.push({x1:he,y1:D,x2:Ie,y2:D})}var Y="".concat(P+E,"px ").concat(k+E,"px");return A.createElement(Bs,Pd({className:"recharts-errorBar",key:"bar-".concat(F.map(ie=>"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)))},d),F.map(ie=>{var ve=i?{transformOrigin:"".concat(ie.x1-5,"px")}:void 0;return A.createElement(Gm,{from:{transform:"scaleY(0)",transformOrigin:Y},to:{transform:"scaleY(1)",transformOrigin:Y},begin:o,easing:u,isActive:i,duration:a,key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2),style:{transformOrigin:Y}},A.createElement("line",Pd({},ie,{style:ve})))}))});return A.createElement(Bs,{className:"recharts-errorBars"},x)}var CV=A.createContext(void 0);function bye(t){var e=A.useContext(CV);return t??e??"x"}function Tye(t){var{direction:e,children:n}=t;return A.createElement(CV.Provider,{value:e},n)}var xV={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function Eye(t){var e=bye(t.direction),{width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:a}=sl(t,xV);return A.createElement(A.Fragment,null,A.createElement(fye,{dataKey:t.dataKey,direction:e}),A.createElement(_ye,Pd({},t,{direction:e,width:n,isAnimationActive:r,animationBegin:i,animationDuration:o,animationEasing:a})))}class AV extends A.Component{render(){return A.createElement(Eye,this.props)}}wV(AV,"defaultProps",xV);wV(AV,"displayName","ErrorBar");function IV(t,e){var n,r,i=Ce(d=>Vo(d,t)),o=Ce(d=>Ks(d,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:_r.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:br.allowDataOverflow,c=a||u;return{needClip:c,needClipX:a,needClipY:u}}function Sye(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Zd(),{needClipX:o,needClipY:a,needClip:u}=IV(e,n);if(!u)return null;var{left:c,top:d,width:h,height:v}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:o?c:c-h/2,y:a?d:d-v/2,width:o?h:h*2,height:a?v:v*2}))}var wye=t=>{var{chartData:e}=t,n=Mn(),r=cr();return A.useEffect(()=>r?()=>{}:(n(tD(e)),()=>{n(tD(void 0))}),[e,n,r]),null},MD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RV=li({name:"brush",initialState:MD,reducers:{setBrushSettings(t,e){return e.payload==null?MD:e.payload}}}),{setBrushSettings:sTe}=RV.actions,Cye=RV.reducer;function xye(t,e,n){return(e=Aye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aye(t){var e=Iye(t,"string");return typeof e=="symbol"?e:e+""}function Iye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qC{static create(e){return new qC(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}xye(qC,"EPS",1e-4);function Rye(t){return(t%180+180)%180}var Pye=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Rye(i),a=o*Math.PI/180,u=Math.atan(r/n),c=a>u&&a<Math.PI-u?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},Nye={dots:[],areas:[],lines:[]},PV=li({name:"referenceElements",initialState:Nye,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=As(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=As(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=As(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:aTe,removeDot:lTe,addArea:uTe,removeArea:cTe,addLine:fTe,removeLine:dTe}=PV.actions,Mye=PV.reducer,kye=A.createContext(void 0),Oye=t=>{var{children:e}=t,[n]=A.useState("".concat(bd("recharts"),"-clip")),r=Zd();if(r==null)return null;var{left:i,top:o,height:a,width:u}=r;return A.createElement(kye.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:o,height:a,width:u}))),e)};function Jb(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function NV(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Dye(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Pye(r,n)}function Lye(t,e,n){var r=n==="width",{x:i,y:o,width:a,height:u}=t;return e===1?{start:r?i:o,end:r?i+a:o+u}:{start:r?i+a:o+u,end:r?i:o}}function ag(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Uye(t,e){return NV(t,e+1)}function Bye(t,e,n,r,i){for(var o=(r||[]).slice(),{start:a,end:u}=e,c=0,d=1,h=a,v=function(){var E=r==null?void 0:r[c];if(E===void 0)return{v:NV(r,d)};var S=c,w,x=()=>(w===void 0&&(w=n(E,S)),w),N=E.coordinate,P=c===0||ag(t,N,x,h,u);P||(c=0,h=a,d+=1),P&&(h=N+t*(x()/2+i),c+=d)},_;d<=o.length;)if(_=v(),_)return _.v;return[]}function kD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(n),!0).forEach(function(r){Fye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fye(t,e,n){return(e=Vye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vye(t){var e=qye(t,"string");return typeof e=="symbol"?e:e+""}function qye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ye(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:u}=e,{end:c}=e,d=function(_){var T=o[_],E,S=()=>(E===void 0&&(E=n(T,_)),E);if(_===a-1){var w=t*(T.coordinate+t*S()/2-c);o[_]=T=Ln(Ln({},T),{},{tickCoord:w>0?T.coordinate-w*t:T.coordinate})}else o[_]=T=Ln(Ln({},T),{},{tickCoord:T.coordinate});var x=ag(t,T.tickCoord,S,u,c);x&&(c=T.tickCoord-t*(S()/2+i),o[_]=Ln(Ln({},T),{},{isShow:!0}))},h=a-1;h>=0;h--)d(h);return o}function zye(t,e,n,r,i,o){var a=(r||[]).slice(),u=a.length,{start:c,end:d}=e;if(o){var h=r[u-1],v=n(h,u-1),_=t*(h.coordinate+t*v/2-d);a[u-1]=h=Ln(Ln({},h),{},{tickCoord:_>0?h.coordinate-_*t:h.coordinate});var T=ag(t,h.tickCoord,()=>v,c,d);T&&(d=h.tickCoord-t*(v/2+i),a[u-1]=Ln(Ln({},h),{},{isShow:!0}))}for(var E=o?u-1:u,S=function(N){var P=a[N],k,M=()=>(k===void 0&&(k=n(P,N)),k);if(N===0){var L=t*(P.coordinate-t*M()/2-c);a[N]=P=Ln(Ln({},P),{},{tickCoord:L<0?P.coordinate-L*t:P.coordinate})}else a[N]=P=Ln(Ln({},P),{},{tickCoord:P.coordinate});var F=ag(t,P.tickCoord,M,c,d);F&&(c=P.tickCoord+t*(M()/2+i),a[N]=Ln(Ln({},P),{},{isShow:!0}))},w=0;w<E;w++)S(w);return a}function $C(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:u,interval:c,tickFormatter:d,unit:h,angle:v}=t;if(!i||!i.length||!r)return[];if(be(c)||Qd.isSsr){var _;return(_=Uye(i,be(c)?c:0))!==null&&_!==void 0?_:[]}var T=[],E=u==="top"||u==="bottom"?"width":"height",S=h&&E==="width"?Xf(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=(P,k)=>{var M=typeof d=="function"?d(P.value,k):P.value;return E==="width"?Dye(Xf(M,{fontSize:e,letterSpacing:n}),S,v):Xf(M,{fontSize:e,letterSpacing:n})[E]},x=i.length>=2?Zr(i[1].coordinate-i[0].coordinate):1,N=Lye(o,x,E);return c==="equidistantPreserveStart"?Bye(x,N,w,i,a):(c==="preserveStart"||c==="preserveStartEnd"?T=zye(x,N,w,i,a,c==="preserveStartEnd"):T=$ye(x,N,w,i,a),T.filter(P=>P.isShow))}var Hye=["viewBox"],Gye=["viewBox"];function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(null,arguments)}function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(r){zC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DD(t,e){if(t==null)return{};var n,r,i=jye(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zC(t,e,n){return(e=Wye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wye(t){var e=Kye(t,"string");return typeof e=="symbol"?e:e+""}function Kye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ys extends A.Component{constructor(e){super(e),this.tickRefs=A.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=DD(e,Hye),o=this.props,{viewBox:a}=o,u=DD(o,Gye);return!Jb(r,a)||!Jb(i,u)||!Jb(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:a,tickSize:u,mirror:c,tickMargin:d}=this.props,h,v,_,T,E,S,w=c?-1:1,x=e.tickSize||u,N=be(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":h=v=e.coordinate,T=r+ +!c*o,_=T-w*x,S=_-w*d,E=N;break;case"left":_=T=e.coordinate,v=n+ +!c*i,h=v-w*x,E=h-w*d,S=N;break;case"right":_=T=e.coordinate,v=n+ +c*i,h=v+w*x,E=h+w*d,S=N;break;default:h=v=e.coordinate,T=r+ +c*o,_=T+w*x,S=_+w*d,E=N;break}return{line:{x1:h,y1:_,x2:v,y2:T},tick:{x:E,y:S}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:u}=this.props,c=tn(tn(tn({},Et(this.props,!1)),Et(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var d=+(o==="top"&&!a||o==="bottom"&&a);c=tn(tn({},c),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var h=+(o==="left"&&!a||o==="right"&&a);c=tn(tn({},c),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return A.createElement("line",cu({},c,{className:vt("recharts-cartesian-axis-line",Ya(u,"className"))}))}static renderTickItem(e,n,r){var i,o=vt(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,tn(tn({},n),{},{className:o}));else if(typeof e=="function")i=e(tn(tn({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=vt(a,e.className)),i=A.createElement(FC,cu({},n,{className:a}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:a,tickFormatter:u,unit:c}=this.props,d=$C(tn(tn({},this.props),{},{ticks:r}),e,n),h=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),_=Et(this.props,!1),T=Et(a,!1),E=tn(tn({},_),{},{fill:"none"},Et(i,!1)),S=d.map((w,x)=>{var{line:N,tick:P}=this.getTickLineCoord(w),k=tn(tn(tn(tn({textAnchor:h,verticalAnchor:v},_),{},{stroke:"none",fill:o},T),P),{},{index:x,payload:w,visibleTicksCount:d.length,tickFormatter:u});return A.createElement(Bs,cu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},GB(this.props,w,x)),i&&A.createElement("line",cu({},E,N,{className:vt("recharts-cartesian-axis-tick-line",Ya(i,"className"))})),a&&Ys.renderTickItem(a,k,"".concat(typeof u=="function"?u(w.value,x):w.value).concat(c||"")))});return S.length>0?A.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:a}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:A.createElement(Bs,{className:vt("recharts-cartesian-axis",i),ref:u=>{if(u){var c=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var d=c[0];if(d){var h=window.getComputedStyle(d).fontSize,v=window.getComputedStyle(d).letterSpacing;(h!==this.state.fontSize||v!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),Sr.renderCallByParent(this.props))}}zC(Ys,"displayName","CartesianAxis");zC(Ys,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Yye=["x1","y1","x2","y2","key"],Jye=["offset"],Xye=["xAxisId","yAxisId"],Zye=["xAxisId","yAxisId"];function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){Qye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qye(t,e,n){return(e=e_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e_e(t){var e=t_e(t,"string");return typeof e=="symbol"?e:e+""}function t_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(null,arguments)}function lg(t,e){if(t==null)return{};var n,r,i=n_e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function n_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var r_e=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:a,ry:u}=t;return A.createElement("rect",{x:r,y:i,ry:u,width:o,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function MV(t,e){var n;if(A.isValidElement(t))n=A.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:o,y2:a,key:u}=e,c=lg(e,Yye),d=Et(c,!1),{offset:h}=d,v=lg(d,Jye);n=A.createElement("line",Aa({},v,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:u}))}return n}function i_e(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,u=lg(t,Xye),c=i.map((d,h)=>{var v=Un(Un({},u),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(h),index:h});return MV(r,v)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function o_e(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=t,u=lg(t,Zye),c=i.map((d,h)=>{var v=Un(Un({},u),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(h),index:h});return MV(r,v)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function s_e(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:a,horizontalPoints:u,horizontal:c=!0}=t;if(!c||!e||!e.length)return null;var d=u.map(v=>Math.round(v+i-i)).sort((v,_)=>v-_);i!==d[0]&&d.unshift(0);var h=d.map((v,_)=>{var T=!d[_+1],E=T?i+a-v:d[_+1]-v;if(E<=0)return null;var S=_%e.length;return A.createElement("rect",{key:"react-".concat(_),y:v,x:r,height:E,width:o,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function a_e(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:a,height:u,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var d=c.map(v=>Math.round(v+i-i)).sort((v,_)=>v-_);i!==d[0]&&d.unshift(0);var h=d.map((v,_)=>{var T=!d[_+1],E=T?i+a-v:d[_+1]-v;if(E<=0)return null;var S=_%n.length;return A.createElement("rect",{key:"react-".concat(_),x:v,y:o,width:E,height:u,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var l_e=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return XF($C(Un(Un(Un({},Ys.defaultProps),n),{},{ticks:ZF(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},u_e=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return XF($C(Un(Un(Un({},Ys.defaultProps),n),{},{ticks:ZF(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},c_e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function kV(t){var e=qw(),n=$w(),r=Zd(),i=Un(Un({},sl(t,c_e)),{},{x:be(t.x)?t.x:r.left,y:be(t.y)?t.y:r.top,width:be(t.width)?t.width:r.width,height:be(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:a,x:u,y:c,width:d,height:h,syncWithTicks:v,horizontalValues:_,verticalValues:T}=i,E=cr(),S=Ce(G=>jO(G,"xAxis",o,E)),w=Ce(G=>jO(G,"yAxis",a,E));if(!be(d)||d<=0||!be(h)||h<=0||!be(u)||u!==+u||!be(c)||c!==+c)return null;var x=i.verticalCoordinatesGenerator||l_e,N=i.horizontalCoordinatesGenerator||u_e,{horizontalPoints:P,verticalPoints:k}=i;if((!P||!P.length)&&typeof N=="function"){var M=_&&_.length,L=N({yAxis:w?Un(Un({},w),{},{ticks:M?_:w.ticks}):void 0,width:e,height:n,offset:r},M?!0:v);Jf(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(P=L)}if((!k||!k.length)&&typeof x=="function"){var F=T&&T.length,X=x({xAxis:S?Un(Un({},S),{},{ticks:F?T:S.ticks}):void 0,width:e,height:n,offset:r},F?!0:v);Jf(Array.isArray(X),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof X,"]")),Array.isArray(X)&&(k=X)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(r_e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(s_e,Aa({},i,{horizontalPoints:P})),A.createElement(a_e,Aa({},i,{verticalPoints:k})),A.createElement(i_e,Aa({},i,{offset:r,horizontalPoints:P,xAxis:S,yAxis:w})),A.createElement(o_e,Aa({},i,{offset:r,verticalPoints:k,xAxis:S,yAxis:w})))}kV.displayName="CartesianGrid";var OV=(t,e,n,r)=>xv(t,"xAxis",e,r),DV=(t,e,n,r)=>q4(t,"xAxis",e,r),LV=(t,e,n,r)=>xv(t,"yAxis",n,r),UV=(t,e,n,r)=>q4(t,"yAxis",n,r),f_e=Z([Lt,OV,LV,DV,UV],(t,e,n,r,i)=>zs(t,"xAxis")?mE(e,r,!1):mE(n,i,!1)),d_e=(t,e,n,r,i)=>i,h_e=Z([h4,d_e],(t,e)=>{if(t.some(n=>n.type==="line"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),p_e=Z([Lt,OV,LV,DV,UV,h_e,f_e,G3],(t,e,n,r,i,o,a,u)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:h}=u;if(!(o==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{dataKey:v,data:_}=o,T;if(_!=null&&_.length>0?T=_:T=c==null?void 0:c.slice(d,h+1),T!=null)return k_e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:v,bandSize:a,displayedData:T})}}),m_e=["type","layout","connectNulls","needClip"],g_e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function BV(t,e){if(t==null)return{};var n,r,i=v_e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function v_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(r){Pv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pv(t,e,n){return(e=y_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y_e(t){var e=__e(t,"string");return typeof e=="symbol"?e:e+""}function __e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(null,arguments)}var b_e=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:QF(n,e),payload:t}]};function T_e(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:u,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:QF(a,e),hide:u,type:t.tooltipType,color:t.stroke,unit:c}}}var FV=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function E_e(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var S_e=(t,e,n)=>{var r=n.reduce((v,_)=>v+_);if(!r)return FV(e,t);for(var i=Math.floor(t/r),o=t%r,a=e-t,u=[],c=0,d=0;c<n.length;d+=n[c],++c)if(d+n[c]>o){u=[...n.slice(0,c),o-d];break}var h=u.length%2===0?[0,a]:[a];return[...E_e(n,i),...u,...h].map(v=>"".concat(v,"px")).join(", ")};function w_e(t,e){var n;if(A.isValidElement(t))n=A.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=vt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=A.createElement(_V,Hu({},e,{className:r}))}return n}function C_e(t,e){return t==null?!1:e?!0:t.length===1}function x_e(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:o,needClip:a}=r;if(!C_e(n,i))return null;var u=KB(i),c=Et(r,!1),d=Et(i,!0),h=n.map((_,T)=>{var E=pi(pi(pi({key:"dot-".concat(T),r:3},c),d),{},{index:T,cx:_.x,cy:_.y,dataKey:o,value:_.value,payload:_.payload,points:n});return w_e(i,E)}),v={clipPath:a?"url(#clipPath-".concat(u?"":"dots-").concat(e,")"):null};return A.createElement(Bs,Hu({className:"recharts-line-dots",key:"dots"},v),h)}function qE(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:o,showLabels:a}=t,{type:u,layout:c,connectNulls:d,needClip:h}=o,v=BV(o,m_e),_=pi(pi({},Et(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):null,points:r,type:u,layout:c,connectNulls:d,strokeDasharray:i??o.strokeDasharray});return A.createElement(A.Fragment,null,(r==null?void 0:r.length)>1&&A.createElement(i3,Hu({},_,{pathRef:n})),A.createElement(x_e,{points:r,clipPathId:e,props:o}),a&&La.renderCallByParent(o,r))}function A_e(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function I_e(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=t,{points:a,strokeDasharray:u,isAnimationActive:c,animationBegin:d,animationDuration:h,animationEasing:v,animateNewValues:_,width:T,height:E,onAnimationEnd:S,onAnimationStart:w}=n,x=i.current,N=Zve(n,"recharts-line-"),[P,k]=A.useState(!1),M=A.useCallback(()=>{typeof S=="function"&&S(),k(!1)},[S]),L=A.useCallback(()=>{typeof w=="function"&&w(),k(!0)},[w]),F=A_e(r.current),X=o.current;return A.createElement(Gm,{begin:d,duration:h,isActive:c,easing:v,from:{t:0},to:{t:1},onAnimationEnd:M,onAnimationStart:L,key:N},G=>{var{t:ae}=G,Q=wf(X,F+X),W=Math.min(Q(ae),F),Ae;if(u){var ke="".concat(u).split(/[,\s]+/gim).map(te=>parseFloat(te));Ae=S_e(W,F,ke)}else Ae=FV(F,W);if(x){var Ee=x.length/a.length,$=ae===1?a:a.map((te,he)=>{var Ie=Math.floor(he*Ee);if(x[Ie]){var D=x[Ie],K=wf(D.x,te.x),Y=wf(D.y,te.y);return pi(pi({},te),{},{x:K(ae),y:Y(ae)})}if(_){var ie=wf(T*2,te.x),ve=wf(E/2,te.y);return pi(pi({},te),{},{x:ie(ae),y:ve(ae)})}return pi(pi({},te),{},{x:te.x,y:te.y})});return i.current=$,A.createElement(qE,{props:n,points:$,clipPathId:e,pathRef:r,showLabels:!P,strokeDasharray:Ae})}return ae>0&&F>0&&(i.current=a,o.current=W),A.createElement(qE,{props:n,points:a,clipPathId:e,pathRef:r,showLabels:!P,strokeDasharray:Ae})})}function R_e(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,o=A.useRef(null),a=A.useRef(0),u=A.useRef(null),c=o.current;return i&&r&&r.length&&c!==r?A.createElement(I_e,{props:n,clipPathId:e,previousPointsRef:o,longestAnimatedLengthRef:a,pathRef:u}):A.createElement(qE,{props:n,points:r,clipPathId:e,pathRef:u,showLabels:!0})}var P_e=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Ir(t.payload,e)});class N_e extends A.Component{constructor(){super(...arguments),Pv(this,"id",bd("recharts-line-"))}render(){var e,{hide:n,dot:r,points:i,className:o,xAxisId:a,yAxisId:u,top:c,left:d,width:h,height:v,id:_,needClip:T,layout:E}=this.props;if(n)return null;var S=vt("recharts-line",o),w=Ht(_)?this.id:_,{r:x=3,strokeWidth:N=2}=(e=Et(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},P=KB(r),k=x*2+N;return A.createElement(A.Fragment,null,A.createElement(Bs,{className:S},T&&A.createElement("defs",null,A.createElement(Sye,{clipPathId:w,xAxisId:a,yAxisId:u}),!P&&A.createElement("clipPath",{id:"clipPath-dots-".concat(w)},A.createElement("rect",{x:d-k/2,y:c-k/2,width:h+k,height:v+k}))),A.createElement(R_e,{props:this.props,clipPathId:w}),A.createElement(Tye,{direction:E==="horizontal"?"y":"x"},A.createElement(lye,{xAxisId:a,yAxisId:u,data:i,dataPointFormatter:P_e,errorBarOffset:0},this.props.children))),A.createElement(rye,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var VV={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Qd.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function M_e(t){var e=sl(t,VV),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:u,dot:c,hide:d,isAnimationActive:h,label:v,legendType:_,xAxisId:T,yAxisId:E}=e,S=BV(e,g_e),{needClip:w}=IV(T,E),{height:x,width:N,left:P,top:k}=Zd(),M=zw(),L=cr(),F=A.useMemo(()=>({dataKey:t.dataKey,data:t.data}),[t.dataKey,t.data]),X=Ce(G=>p_e(G,T,E,L,F));return M!=="horizontal"&&M!=="vertical"?null:A.createElement(N_e,Hu({},S,{connectNulls:u,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,isAnimationActive:h,hide:d,label:v,legendType:_,xAxisId:T,yAxisId:E,points:X,layout:M,height:x,width:N,left:P,top:k,needClip:w}))}function k_e(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:a,bandSize:u,displayedData:c}=t;return c.map((d,h)=>{var v=Ir(d,a);return e==="horizontal"?{x:Ak({axis:n,ticks:i,bandSize:u,entry:d,index:h}),y:Ht(v)?null:r.scale(v),value:v,payload:d}:{x:Ht(v)?null:n.scale(v),y:Ak({axis:r,ticks:o,bandSize:u,entry:d,index:h}),value:v,payload:d}})}class Zf extends A.PureComponent{render(){return A.createElement(cye,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},A.createElement(Xve,{legendPayload:b_e(this.props)}),A.createElement(Yve,{fn:T_e,args:this.props}),A.createElement(M_e,this.props))}}Pv(Zf,"displayName","Line");Pv(Zf,"defaultProps",VV);function BD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(n),!0).forEach(function(r){O_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O_e(t,e,n){return(e=D_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D_e(t){var e=L_e(t,"string");return typeof e=="symbol"?e:e+""}function L_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U_e={xAxis:{},yAxis:{},zAxis:{}},qV=li({name:"cartesianAxis",initialState:U_e,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=FD(FD({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:B_e,removeXAxis:F_e,addYAxis:V_e,removeYAxis:q_e,addZAxis:hTe,removeZAxis:pTe,updateYAxisWidth:$_e}=qV.actions,z_e=qV.reducer,H_e=["children"],G_e=["dangerouslySetInnerHTML","ticks"];function $V(t,e,n){return(e=j_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j_e(t){var e=W_e(t,"string");return typeof e=="symbol"?e:e+""}function W_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(null,arguments)}function zV(t,e){if(t==null)return{};var n,r,i=K_e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function K_e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Y_e(t){var e=Mn(),n=A.useMemo(()=>{var{children:o}=t,a=zV(t,H_e);return a},[t]),r=Ce(o=>Vo(o,n.id)),i=n===r;return A.useEffect(()=>(e(B_e(n)),()=>{e(F_e(n))}),[n,e]),i?t.children:null}var J_e=t=>{var{xAxisId:e,className:n}=t,r=Ce(t3),i=cr(),o="xAxis",a=Ce(T=>fc(T,o,e,i)),u=Ce(T=>V4(T,o,e,i)),c=Ce(T=>Wpe(T,e)),d=Ce(T=>Zpe(T,e));if(c==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:v}=t,_=zV(t,G_e);return A.createElement(Ys,$E({},_,{scale:a,x:d.x,y:d.y,width:c.width,height:c.height,className:vt("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},X_e=t=>{var e,n,r,i,o;return A.createElement(Y_e,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},A.createElement(J_e,t))};class HC extends A.Component{render(){return A.createElement(X_e,this.props)}}$V(HC,"displayName","XAxis");$V(HC,"defaultProps",{allowDataOverflow:_r.allowDataOverflow,allowDecimals:_r.allowDecimals,allowDuplicatedCategory:_r.allowDuplicatedCategory,height:_r.height,hide:!1,mirror:_r.mirror,orientation:_r.orientation,padding:_r.padding,reversed:_r.reversed,scale:_r.scale,tickCount:_r.tickCount,type:_r.type,xAxisId:0});var Z_e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,a=0;if(e){e.forEach(h=>{if(h){var v=h.getBoundingClientRect();v.width>a&&(a=v.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+o,d=a+c+u+(n?r:0);return Math.round(d)}return 0},Q_e=["dangerouslySetInnerHTML","ticks"];function HV(t,e,n){return(e=e0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e0e(t){var e=t0e(t,"string");return typeof e=="symbol"?e:e+""}function t0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zE.apply(null,arguments)}function n0e(t,e){if(t==null)return{};var n,r,i=r0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function r0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function i0e(t){var e=Mn();return A.useEffect(()=>(e(V_e(t)),()=>{e(q_e(t))}),[t,e]),null}var o0e=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,a=A.useRef(null),u=A.useRef(null),c=Ce(t3),d=cr(),h=Mn(),v="yAxis",_=Ce(P=>fc(P,v,n,d)),T=Ce(P=>eme(P,n)),E=Ce(P=>Qpe(P,n)),S=Ce(P=>V4(P,v,n,d));if(A.useLayoutEffect(()=>{var P;if(!(i!=="auto"||!T||VC(o)||A.isValidElement(o))){var k=a.current,M=k==null||(P=k.tickRefs)===null||P===void 0?void 0:P.current,{tickSize:L,tickMargin:F}=k.props,X=Z_e({ticks:M,label:u.current,labelGapWithTick:5,tickSize:L,tickMargin:F});Math.round(T.width)!==Math.round(X)&&h($_e({id:n,width:X}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,T==null?void 0:T.width,T,h,o,n,i]),T==null||E==null)return null;var{dangerouslySetInnerHTML:w,ticks:x}=t,N=n0e(t,Q_e);return A.createElement(Ys,zE({},N,{ref:a,labelRef:u,scale:_,x:E.x,y:E.y,width:T.width,height:T.height,className:vt("recharts-".concat(v," ").concat(v),r),viewBox:c,ticks:S}))},s0e=t=>{var e,n,r,i,o;return A.createElement(A.Fragment,null,A.createElement(i0e,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),A.createElement(o0e,t))},a0e={allowDataOverflow:br.allowDataOverflow,allowDecimals:br.allowDecimals,allowDuplicatedCategory:br.allowDuplicatedCategory,hide:!1,mirror:br.mirror,orientation:br.orientation,padding:br.padding,reversed:br.reversed,scale:br.scale,tickCount:br.tickCount,type:br.type,width:br.width,yAxisId:0};class ug extends A.Component{render(){return A.createElement(s0e,this.props)}}HV(ug,"displayName","YAxis");HV(ug,"defaultProps",a0e);var Xb={exports:{}},Zb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VD;function l0e(){if(VD)return Zb;VD=1;var t=Gu();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,u=t.useDebugValue;return Zb.useSyncExternalStoreWithSelector=function(c,d,h,v,_){var T=i(null);if(T.current===null){var E={hasValue:!1,value:null};T.current=E}else E=T.current;T=a(function(){function w(M){if(!x){if(x=!0,N=M,M=v(M),_!==void 0&&E.hasValue){var L=E.value;if(_(L,M))return P=L}return P=M}if(L=P,n(N,M))return L;var F=v(M);return _!==void 0&&_(L,F)?(N=M,L):(N=M,P=F)}var x=!1,N,P,k=h===void 0?null:h;return[function(){return w(d())},k===null?void 0:function(){return w(k())}]},[d,h,v,_]);var S=r(c,T[0],T[1]);return o(function(){E.hasValue=!0,E.value=S},[S]),u(S),S},Zb}var qD;function u0e(){return qD||(qD=1,Xb.exports=l0e()),Xb.exports}u0e();function c0e(t){t()}function f0e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){c0e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var $D={notify(){},get:()=>[]};function d0e(t,e){let n,r=$D,i=0,o=!1;function a(S){h();const w=r.subscribe(S);let x=!1;return()=>{x||(x=!0,w(),v())}}function u(){r.notify()}function c(){E.onStateChange&&E.onStateChange()}function d(){return o}function h(){i++,n||(n=t.subscribe(c),r=f0e())}function v(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=$D)}function _(){o||(o=!0,h())}function T(){o&&(o=!1,v())}const E={addNestedSub:a,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:_,tryUnsubscribe:T,getListeners:()=>r};return E}var h0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p0e=h0e(),m0e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",g0e=m0e(),v0e=()=>p0e||g0e?A.useLayoutEffect:A.useEffect,y0e=v0e(),Qb=Symbol.for("react-redux-context"),eT=typeof globalThis<"u"?globalThis:{};function _0e(){if(!A.createContext)return{};const t=eT[Qb]??(eT[Qb]=new Map);let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var b0e=_0e();function T0e(t){const{children:e,context:n,serverState:r,store:i}=t,o=A.useMemo(()=>{const c=d0e(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=A.useMemo(()=>i.getState(),[i]);y0e(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const u=n||b0e;return A.createElement(u.Provider,{value:o},e)}var E0e=T0e,S0e=(t,e)=>e,GC=Z([S0e,Lt,upe,bn,eV,qo,ege,qn],age),jC=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},GV=ii("mouseClick"),jV=Xd();jV.startListening({actionCreator:GV,effect:(t,e)=>{var n=t.payload,r=GC(e.getState(),jC(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(dme({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var HE=ii("mouseMove"),WV=Xd();WV.startListening({actionCreator:HE,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=NC(r,r.tooltip.settings.shared),o=GC(r,jC(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(K4({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(W4()))}});function w0e(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var zD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},KV=li({name:"rootProps",initialState:zD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:zD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),C0e=KV.reducer,{updateOptions:x0e}=KV.actions,YV=li({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:mTe}=YV.actions,A0e=YV.reducer,JV=ii("keyDown"),XV=ii("focus"),WC=Xd();WC.startListening({actionCreator:JV,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=Number(MC(i,cl(n))),u=qo(n);if(o==="Enter"){var c=og(n,"axis","hover",String(i.index));e.dispatch(DE({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var d=ime(n),h=d==="left-to-right"?1:-1,v=o==="ArrowRight"?1:-1,_=a+v*h;if(!(u==null||_>=u.length||_<0)){var T=og(n,"axis","hover",String(_));e.dispatch(DE({active:!0,activeIndex:_.toString(),activeDataKey:void 0,activeCoordinate:T}))}}}}});WC.startListening({actionCreator:XV,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=og(n,"axis","hover",String(o));e.dispatch(DE({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var jr=ii("externalEvent"),ZV=Xd();ZV.startListening({actionCreator:jr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:zme(n),activeDataKey:Vme(n),activeIndex:ig(n),activeLabel:iV(n),activeTooltipIndex:ig(n),isTooltipActive:Hme(n)};t.payload.handler(r,t.payload.reactEvent)}}});var I0e=Z([dc],t=>t.tooltipItemPayloads),R0e=Z([I0e,Av,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=e(o,n);return a}}}),QV=ii("touchMove"),eq=Xd();eq.startListening({actionCreator:QV,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=NC(r,r.tooltip.settings.shared);if(i==="axis"){var o=GC(r,jC({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(K4({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,u=n.touches[0],c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(Tue),h=(a=c.getAttribute(Eue))!==null&&a!==void 0?a:void 0,v=R0e(e.getState(),d,h);e.dispatch(fme({activeDataKey:h,activeIndex:d,activeCoordinate:v}))}}});var P0e=IF({brush:Cye,cartesianAxis:z_e,chartData:wge,graphicalItems:Hve,layout:jle,legend:Lue,options:_ge,polarAxis:Vve,polarOptions:A0e,referenceElements:Mye,rootProps:C0e,tooltip:hme}),N0e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return vle({reducer:P0e,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([jV.middleware,WV.middleware,WC.middleware,ZV.middleware,eq.middleware]),devTools:{serialize:{replacer:w0e},name:"recharts-".concat(n)}})};function M0e(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=cr(),o=A.useRef(null);if(i)return n;o.current==null&&(o.current=N0e(e,r));var a=Mw;return A.createElement(E0e,{context:a,store:o.current},n)}function k0e(t){var{layout:e,width:n,height:r,margin:i}=t,o=Mn(),a=cr();return A.useEffect(()=>{a||(o(zle(e)),o(Hle({width:n,height:r})),o($le(i)))},[o,a,e,n,r,i]),null}function O0e(t){var e=Mn();return A.useEffect(()=>{e(x0e(t))},[e,t]),null}var D0e=["children"];function L0e(t,e){if(t==null)return{};var n,r,i=U0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function U0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(null,arguments)}var B0e={width:"100%",height:"100%"},F0e=A.forwardRef((t,e)=>{var n=qw(),r=$w(),i=r3();if(!$m(n)||!$m(r))return null;var{children:o,otherAttributes:a,title:u,desc:c}=t,d,h;return typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?h=a.role:h=i?"application":void 0,A.createElement(Tw,cg({},a,{title:u,desc:c,role:h,tabIndex:d,width:n,height:r,style:B0e,ref:e}),o)}),V0e=t=>{var{children:e}=t,n=Ce(uv);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return A.createElement(Tw,{width:r,height:i,x:a,y:o},e)},HD=A.forwardRef((t,e)=>{var{children:n}=t,r=L0e(t,D0e),i=cr();return i?A.createElement(V0e,null,n):A.createElement(F0e,cg({ref:e},r),n)});function q0e(){var t=Mn(),[e,n]=A.useState(null),r=Ce(bue);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Ti(o)&&o!==r&&t(Gle(o))}},[e,t,r]),n}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){z0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z0e(t,e,n){return(e=H0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H0e(t){var e=G0e(t,"string");return typeof e=="symbol"?e:e+""}function G0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j0e=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:u,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:v,onMouseUp:_,onTouchEnd:T,onTouchMove:E,onTouchStart:S,style:w,width:x}=t,N=Mn(),[P,k]=A.useState(null),[M,L]=A.useState(null);Age();var F=q0e(),X=A.useCallback(Y=>{F(Y),typeof e=="function"&&e(Y),k(Y),L(Y)},[F,e,k,L]),G=A.useCallback(Y=>{N(GV(Y)),N(jr({handler:o,reactEvent:Y}))},[N,o]),ae=A.useCallback(Y=>{N(HE(Y)),N(jr({handler:d,reactEvent:Y}))},[N,d]),Q=A.useCallback(Y=>{N(W4()),N(jr({handler:h,reactEvent:Y}))},[N,h]),W=A.useCallback(Y=>{N(HE(Y)),N(jr({handler:v,reactEvent:Y}))},[N,v]),Ae=A.useCallback(()=>{N(XV())},[N]),ke=A.useCallback(Y=>{N(JV(Y.key))},[N]),Ee=A.useCallback(Y=>{N(jr({handler:a,reactEvent:Y}))},[N,a]),$=A.useCallback(Y=>{N(jr({handler:u,reactEvent:Y}))},[N,u]),te=A.useCallback(Y=>{N(jr({handler:c,reactEvent:Y}))},[N,c]),he=A.useCallback(Y=>{N(jr({handler:_,reactEvent:Y}))},[N,_]),Ie=A.useCallback(Y=>{N(jr({handler:S,reactEvent:Y}))},[N,S]),D=A.useCallback(Y=>{N(QV(Y)),N(jr({handler:E,reactEvent:Y}))},[N,E]),K=A.useCallback(Y=>{N(jr({handler:T,reactEvent:Y}))},[N,T]);return A.createElement(cV.Provider,{value:P},A.createElement(JB.Provider,{value:M},A.createElement("div",{className:vt("recharts-wrapper",r),style:$0e({position:"relative",cursor:"default",width:x,height:i},w),role:"application",onClick:G,onContextMenu:Ee,onDoubleClick:$,onFocus:Ae,onKeyDown:ke,onMouseDown:te,onMouseEnter:ae,onMouseLeave:Q,onMouseMove:W,onMouseUp:he,onTouchEnd:K,onTouchMove:D,onTouchStart:Ie,ref:X},n)))}),W0e=["children","className","width","height","style","compact","title","desc"];function K0e(t,e){if(t==null)return{};var n,r,i=Y0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Y0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var J0e=A.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:a,compact:u,title:c,desc:d}=t,h=K0e(t,W0e),v=Et(h,!1);return u?A.createElement(HD,{otherAttributes:v,title:c,desc:d},n):A.createElement(j0e,{className:r,style:a,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(HD,{otherAttributes:v,title:c,desc:d,ref:e},A.createElement(Oye,null,n)))}),X0e=["width","height"];function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(null,arguments)}function Z0e(t,e){if(t==null)return{};var n,r,i=Q0e(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Q0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ebe={top:5,right:5,bottom:5,left:5},tbe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ebe,reverseStackOrder:!1,syncMethod:"index"},nbe=A.forwardRef(function(e,n){var r,i=sl(e.categoricalChartProps,tbe),{width:o,height:a}=i,u=Z0e(i,X0e);if(!$m(o)||!$m(a))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:v,categoricalChartProps:_}=e,T={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:v,eventEmitter:void 0};return A.createElement(M0e,{preloadedState:{options:T},reduxStoreName:(r=_.id)!==null&&r!==void 0?r:c},A.createElement(wye,{chartData:_.data}),A.createElement(k0e,{width:o,height:a,layout:i.layout,margin:i.margin}),A.createElement(O0e,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),A.createElement(J0e,GE({},u,{width:o,height:a,ref:n})))}),rbe=["axis"],ibe=A.forwardRef((t,e)=>A.createElement(nbe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rbe,tooltipPayloadSearcher:vge,categoricalChartProps:t,ref:e}));const obe=({data:t})=>I.jsx(Gge,{width:"100%",height:250,children:I.jsxs(ibe,{data:t,margin:{top:5,right:20,left:-10,bottom:5},children:[I.jsx(kV,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.2)"}),I.jsx(HC,{dataKey:"time",stroke:"gray",fontSize:12}),I.jsx(ug,{yAxisId:"left",stroke:"#e74c3c",fontSize:12}),I.jsx(ug,{yAxisId:"right",orientation:"right",stroke:"#27ae60",fontSize:12}),I.jsx(Dge,{contentStyle:{backgroundColor:"rgba(30, 41, 59, 0.9)",borderColor:"#475569",borderRadius:"0.5rem"},labelStyle:{color:"#f1f5f9"}}),I.jsx(cv,{}),I.jsx(Zf,{yAxisId:"left",type:"monotone",dataKey:"Temperature",stroke:"#e74c3c",strokeWidth:2,dot:!1}),I.jsx(Zf,{yAxisId:"left",type:"monotone",dataKey:"Humidity",stroke:"#3498db",strokeWidth:2,dot:!1}),I.jsx(Zf,{yAxisId:"right",type:"monotone",dataKey:"Soil Moisture",stroke:"#27ae60",strokeWidth:2,dot:!1})]})}),sbe=({steps:t,currentStepIndex:e,onNext:n,onPrev:r,onClose:i})=>{const[o,a]=A.useState(null),[u,c]=A.useState({}),d=t[e];A.useLayoutEffect(()=>{if(!d){a(null);return}const _=()=>{const T=document.querySelector(d.selector);if(T){const E=T.getBoundingClientRect(),S={width:E.width+16,height:E.height+16,top:E.top-8,left:E.left-8};a(S);const w={},x=150,N=320;if(d.position==="center")w.top="50%",w.left="50%",w.transform="translate(-50%, -50%)";else{let P,k;switch(d.position){case"bottom":P=E.bottom+15,k=E.left+E.width/2-N/2;break;case"top":P=E.top-x-15,k=E.left+E.width/2-N/2;break;case"left":P=E.top+E.height/2-x/2,k=E.left-N-15;break;case"right":P=E.top+E.height/2-x/2,k=E.right+15;break;default:P=E.bottom+15,k=E.left+E.width/2-N/2;break}k<10&&(k=10),P<10&&(P=10),k+N>window.innerWidth-10&&(k=window.innerWidth-N-10),P+x>window.innerHeight-10&&(P=window.innerHeight-x-10),w.top=`${P}px`,w.left=`${k}px`}c(w)}else d.selector==="body"?(a({width:0,height:0,top:0,left:0}),c({top:"50%",left:"50%",transform:"translate(-50%, -50%)"})):a(null)};return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[d]);const h=e===0,v=e===t.length-1;return d?I.jsxs("div",{className:"fixed inset-0 z-[100]",children:[I.jsx("div",{className:"absolute inset-0 bg-black/60 transition-all duration-300",style:o?{clipPath:`path('M0 0 H ${window.innerWidth} V ${window.innerHeight} H 0 Z M${o.left} ${o.top} H ${o.left+o.width} V ${o.top+o.height} H ${o.left} Z')`}:{}}),I.jsxs("div",{className:"fixed bg-light-panel dark:bg-dark-panel rounded-lg shadow-2xl p-4 w-80 animate-fadeInUp",style:u,children:[I.jsx("h4",{className:"font-bold text-lg mb-2 text-primary",children:d.title}),I.jsx("p",{className:"text-sm mb-4",children:d.content}),I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("button",{onClick:i,className:"text-xs hover:underline",children:"튜토리얼 종료"}),I.jsxs("div",{className:"flex gap-2",children:[!h&&I.jsx("button",{onClick:r,className:"btn-secondary text-sm py-1 px-3",children:"이전"}),v?I.jsx("button",{onClick:i,className:"btn-primary text-sm py-1 px-3",children:"완료!"}):I.jsx("button",{onClick:n,className:"btn-primary text-sm py-1 px-3",children:"다음"})]})]}),I.jsxs("div",{className:"text-center text-xs mt-2 text-gray-500",children:[e+1," / ",t.length]})]})]}):null},abe=({className:t})=>I.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("circle",{cx:"12",cy:"12",r:"5"}),I.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),I.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),I.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),I.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),I.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),I.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),I.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),I.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),lbe=({className:t})=>I.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:I.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),ube=({className:t})=>I.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("circle",{cx:"12",cy:"12",r:"3"}),I.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),cbe=({className:t})=>I.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("polyline",{points:"16 18 22 12 16 6"}),I.jsx("polyline",{points:"8 6 2 12 8 18"})]}),fbe=({className:t})=>I.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("path",{d:"M12 2a10 10 0 0 0-2.4 19.62"}),I.jsx("path",{d:"M12 2a10 10 0 0 1 8 4"}),I.jsx("path",{d:"M12 2a10 10 0 0 0-8 4"}),I.jsx("path",{d:"M20 6a10 10 0 0 1-8 16"}),I.jsx("path",{d:"M4 6a10 10 0 0 0 8 16"}),I.jsx("path",{d:"M12 2a10 10 0 0 1-2.4 19.62"}),I.jsx("circle",{cx:"12",cy:"12",r:"3"}),I.jsx("circle",{cx:"18",cy:"8",r:"1"}),I.jsx("circle",{cx:"6",cy:"8",r:"1"}),I.jsx("circle",{cx:"12",cy:"4",r:"1"}),I.jsx("circle",{cx:"12",cy:"20",r:"1"}),I.jsx("circle",{cx:"19.5",cy:"15",r:"1"}),I.jsx("circle",{cx:"4.5",cy:"15",r:"1"}),I.jsx("path",{d:"M12 6v4m0 4v4"}),I.jsx("path",{d:"m15.5 10.5 2.5 3.5"}),I.jsx("path",{d:"m8.5 10.5-2.5 3.5"}),I.jsx("path",{d:"m15.5 13.5-2.5-3.5"}),I.jsx("path",{d:"m8.5 13.5 2.5-3.5"})]}),dbe=({className:t})=>I.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),I.jsx("polyline",{points:"16 17 21 12 16 7"}),I.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),hbe=({className:t})=>I.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:[I.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),I.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),I.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),I.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 1.94 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),pbe=({className:t})=>I.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("circle",{cx:"12",cy:"12",r:"10"}),I.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),I.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),mbe=({className:t})=>I.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("path",{d:"M12 3a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6z"}),I.jsx("path",{d:"M5 3v4"}),I.jsx("path",{d:"M19 3v4"}),I.jsx("path",{d:"M3 5h4"}),I.jsx("path",{d:"M17 5h4"}),I.jsx("path",{d:"M8 17l-4 4"}),I.jsx("path",{d:"M16 17l4 4"})]}),gbe=({className:t})=>I.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("circle",{cx:"12",cy:"8",r:"7"}),I.jsx("polyline",{points:"8.21 13.89 7 23 12 17 17 23 15.79 13.88"})]}),vbe=({className:t})=>I.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("path",{d:"M17 19a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v1h18v-1a4 4 0 0 0-4-4Z"}),I.jsx("path",{d:"M12 15a3 3 0 0 0 3-3V5a3 3 0 0 0-6 0v7a3 3 0 0 0 3 3Z"})]}),Qf=({className:t})=>I.jsxs("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("circle",{cx:"12",cy:"12",r:"8"}),I.jsx("path",{d:"M12 18V6"}),I.jsx("path",{d:"M15 9h-3a2 2 0 1 0 0 6h3"})]}),ybe=({className:t})=>I.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("path",{d:"M6 6l3.5 12h5L18 6"}),I.jsx("path",{d:"M5 10h14"}),I.jsx("path",{d:"M5 14h14"})]}),_be=({user:t,profile:e})=>{var a;const n=bm.find(u=>u.id===e.currentCrop),r=OT(e.level),i=e.currentCrop?e.xp/r*100:0,o=(a=e.activeBoosts)==null?void 0:a.xpMultiplier;return I.jsxs("div",{className:"card",children:[I.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[(t==null?void 0:t.photoURL)&&I.jsx("img",{src:t.photoURL,alt:"User",className:"w-14 h-14 rounded-full"}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-xl font-bold",children:(t==null?void 0:t.displayName)||"게스트 농부"}),I.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"나의 농장 현황"})]})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[I.jsx(gbe,{className:"w-5 h-5 text-yellow-500"}),I.jsx("span",{children:"레벨"})]}),I.jsx("span",{className:"font-bold text-lg text-primary",children:e.level})]}),I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[I.jsx(Qf,{className:"w-5 h-5 text-amber-500"}),I.jsx("span",{children:"코인"})]}),I.jsx("span",{className:"font-bold text-lg text-primary",children:e.coins})]}),I.jsxs("div",{children:[I.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:"font-semibold",children:"경험치 (XP)"}),o&&I.jsxs("span",{className:"bg-orange-500 text-white text-xs font-bold px-2 py-0.5 rounded-full animate-pulse",children:["XP x",o.multiplier,"!"]})]}),I.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[e.xp," / ",r]})]}),I.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:I.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-500",style:{width:`${i}%`}})}),o&&I.jsxs("p",{className:"text-xs text-right mt-1 text-orange-600 dark:text-orange-400",children:["부스터 남은 횟수: ",o.remaining,"회"]})]}),I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[I.jsx(vbe,{className:"w-5 h-5 text-green-500"}),I.jsx("span",{children:"재배 중인 작물"})]}),I.jsx("span",{className:"font-bold text-lg text-primary",children:n?`${n.emoji} ${n.name}`:"선택 대기중..."})]})]})]})},bbe=()=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 inline-block mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:I.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),Tbe=({onClose:t,profile:e,onSave:n,isInitialSelection:r=!1})=>{const[i,o]=A.useState(null),[a,u]=A.useState(!1),c=()=>{!i||a||(u(!0),n(i))},d=()=>{!r&&!a&&t()};return I.jsx("div",{className:"fixed inset-0 bg-black/70 z-[101] flex items-center justify-center p-4",onClick:d,children:I.jsxs("div",{className:"bg-light-panel dark:bg-dark-panel rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col animate-fadeInUp",onClick:h=>h.stopPropagation(),children:[I.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-light-border dark:border-dark-border",children:[I.jsx("h3",{className:"text-xl font-bold",children:"🌱 첫 작물 선택하기"}),!r&&I.jsx("button",{onClick:t,disabled:a,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition text-2xl",children:"×"})]}),I.jsxs("div",{className:"p-6 overflow-y-auto",children:[I.jsx("p",{className:"text-center mb-6 text-gray-600 dark:text-gray-300",children:"팜코딩에 오신 것을 환영합니다! 당신의 코딩 여정과 함께할 첫 작물을 선택해주세요."}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:bm.map(h=>{const v=e.level>=h.unlockLevel,_=i===h.id;return I.jsxs("div",{onClick:()=>v&&!a&&o(h.id),className:`p-4 rounded-lg border-2 transition-all duration-200 relative overflow-hidden ${v?_?"border-primary bg-primary/10 ring-2 ring-primary":"border-light-border dark:border-dark-border hover:border-primary/50 cursor-pointer":"bg-gray-100 dark:bg-gray-800/50 opacity-60 cursor-not-allowed"}`,children:[!v&&I.jsxs("div",{className:"absolute top-2 right-2 bg-gray-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center",children:[I.jsx(bbe,{})," 잠김"]}),I.jsx("div",{className:"text-5xl mb-3",children:h.emoji}),I.jsx("h4",{className:"text-xl font-bold mb-1",children:h.name}),I.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 h-16 mb-2",children:h.description}),I.jsxs("div",{className:"text-xs space-y-1 font-medium text-gray-500 dark:text-gray-400",children:[I.jsxs("p",{children:[I.jsx("strong",{children:"필요 레벨:"})," ",I.jsx("span",{className:v?"text-green-500 font-bold":"text-red-500 font-bold",children:h.unlockLevel})]}),I.jsxs("p",{children:[I.jsx("strong",{children:"예상 수확:"})," ",I.jsx("span",{className:"font-bold",children:h.harvestTime})]})]})]},h.id)})})]}),I.jsxs("footer",{className:"p-4 border-t border-light-border dark:border-dark-border mt-auto text-center",children:[I.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"작물 선택은 관리자 승인 후 완료되며, 이후 변경할 수 없습니다."}),I.jsx("button",{onClick:c,className:"btn-primary w-full max-w-sm mx-auto",disabled:!i||a,children:a?"승인 대기 중...":"이 작물로 재배 신청하기"})]})]})})},Ebe=({onClose:t,profile:e,onPurchase:n})=>{const[r,i]=A.useState("game");return I.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:t,children:I.jsxs("div",{className:"bg-light-panel dark:bg-dark-panel rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col animate-fadeInUp",onClick:o=>o.stopPropagation(),children:[I.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-light-border dark:border-dark-border",children:[I.jsx("h3",{className:"text-xl font-bold",children:"🛒 상점"}),I.jsxs("div",{className:"flex items-center gap-2 font-semibold bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300 px-3 py-1 rounded-full",children:[I.jsx(Qf,{className:"w-5 h-5"}),I.jsx("span",{children:e.coins})]})]}),I.jsxs("div",{className:"flex border-b border-light-border dark:border-dark-border",children:[I.jsx("button",{onClick:()=>i("game"),className:`py-3 px-6 font-semibold transition-colors ${r==="game"?"text-primary border-b-2 border-primary":"text-gray-500 hover:text-primary"}`,children:"🎮 게임 아이템"}),I.jsx("button",{onClick:()=>i("physical"),className:`py-3 px-6 font-semibold transition-colors ${r==="physical"?"text-primary border-b-2 border-primary":"text-gray-500 hover:text-primary"}`,children:"🛍️ 실물 상품"})]}),I.jsx("div",{className:"p-6 overflow-y-auto",children:r==="game"?I.jsxs(I.Fragment,{children:[I.jsx("p",{className:"text-center mb-6 text-gray-600 dark:text-gray-300",children:"도전과제를 완료하고 얻은 코인으로 농장 성장에 도움이 되는 아이템을 구매해보세요!"}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:oB.map(o=>{var c;const a=e.coins>=o.price,u=o.effect.type==="XP_BOOST"&&!!((c=e.activeBoosts)!=null&&c.xpMultiplier);return I.jsxs("div",{className:"p-4 rounded-lg border border-light-border dark:border-dark-border flex flex-col bg-light-bg/50 dark:bg-dark-bg/50",children:[I.jsx("div",{className:"text-5xl mb-3 text-center",children:o.emoji}),I.jsx("h4",{className:"text-xl font-bold mb-1 text-center",children:o.name}),I.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center flex-grow mb-4",children:o.description}),I.jsxs("button",{onClick:()=>n(o.id),disabled:!a||u,className:"btn-primary w-full mt-auto flex items-center justify-center gap-2",children:[I.jsx(Qf,{className:"w-5 h-5"}),u&&o.effect.type==="XP_BOOST"?"부스터 활성 중":`${o.price} 코인`]}),!a&&I.jsx("p",{className:"text-xs text-red-500 text-center mt-2",children:"코인이 부족합니다."})]},o.id)})})]}):I.jsxs(I.Fragment,{children:[I.jsx("p",{className:"text-center mb-6 text-gray-600 dark:text-gray-300",children:"실제 스마트팜 상품을 코인으로 저렴하게 구매 신청하거나, 현금가 정보를 확인해보세요."}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:sB.map(o=>{const a=e.coins>=o.coinPrice;return I.jsxs("div",{className:"p-4 rounded-lg border border-light-border dark:border-dark-border flex flex-col bg-light-bg/50 dark:bg-dark-bg/50 relative",children:[I.jsx("div",{className:"absolute top-2 right-2 bg-emerald-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"코인 특별가"}),I.jsx("img",{src:o.image,alt:o.name,className:"w-full h-32 object-cover rounded-md mb-4"}),I.jsxs("h4",{className:"text-xl font-bold mb-1",children:[o.emoji," ",o.name]}),I.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex-grow mb-4",children:o.description}),I.jsxs("div",{className:"mt-auto space-y-2",children:[I.jsxs("div",{className:"text-center bg-gray-100 dark:bg-gray-700 rounded-md py-2 flex items-center justify-center gap-2",children:[I.jsx(ybe,{className:"w-5 h-5"}),I.jsx("span",{className:"text-lg font-bold text-light-text dark:text-dark-text",children:o.price})]}),I.jsxs("button",{onClick:()=>n(o.id),disabled:!a,className:"btn-primary w-full flex items-center justify-center gap-2",children:[I.jsx(Qf,{className:"w-5 h-5"}),o.coinPrice," 코인으로 구매 신청"]}),!a&&I.jsx("p",{className:"text-xs text-red-500 text-center mt-2",children:"코인이 부족합니다."})]})]},o.id)})})]})}),I.jsx("footer",{className:"p-4 border-t border-light-border dark:border-dark-border mt-auto",children:I.jsx("button",{onClick:t,className:"btn-secondary w-full max-w-sm mx-auto",children:"나가기"})})]})})},Sbe=XY.apiKey!=="YOUR_API_KEY";let jD;const wbe=[{selector:"body",title:"🌱 팜코딩에 오신 것을 환영합니다!",content:'AI와 블록코딩으로 스마트팜을 제어하는 방법을 단계별로 안내해 드릴게요. "다음"을 눌러 시작하세요.',position:"center"},{selector:"#control-panel-card",title:"👆 제어판",content:"여기에서 펌프, LED 같은 장치를 수동으로 제어하거나, AI 농부에게 질문하고, 도전과제를 확인할 수 있습니다.",position:"left"},{selector:"#blockly-editor-wrapper",title:"🤖 블록 코딩",content:"이곳은 코딩 작업 공간입니다. 왼쪽의 블록들을 조합해서 나만의 자동화 규칙을 만들어 보세요.",position:"right"},{selector:"#ai-block-generator-button",title:"✨ AI 블록 생성",content:"코딩이 어렵게 느껴진다면 이 버튼을 눌러보세요. 원하는 동작을 문장으로 입력하면 AI가 코드를 만들어줍니다!",position:"bottom"},{selector:"#run-code-button",title:"🚀 코드 실행",content:"만든 코드를 실행하려면 이 버튼을 누르세요. 블록들이 순서대로 작동하며 농장을 제어합니다.",position:"top"},{selector:"#event-log-container",title:"📰 이벤트 로그",content:"코드 실행 결과나 중요한 알림이 여기에 표시됩니다. 농장에서 일어나는 일들을 확인할 수 있어요.",position:"top"},{selector:"#missions-button",title:"🏆 도전과제",content:"코딩이 익숙해졌다면 도전과제를 통해 실력을 키워보세요. 마지막으로 이 버튼을 눌러 어떤 과제가 있는지 확인해보세요!",position:"top"}],Cbe=()=>{const[t,e]=A.useState("light"),[n,r]=A.useState(null),[i,o]=A.useState({message:"",type:"info",show:!1}),[a,u]=A.useState(null),[c,d]=A.useState(!1),[h,v]=A.useState(!0),[_,T]=A.useState({}),[E,S]=A.useState([]),[w,x]=A.useState({}),[N,P]=A.useState("위치 확인 중..."),[k,M]=A.useState(new Date),[L,F]=A.useState({highTemp:30,lowTemp:10}),[X,G]=A.useState([]),[ae,Q]=A.useState(!1),[W,Ae]=A.useState(null),[ke,Ee]=A.useState(null),$=A.useRef(null),[te,he]=A.useState(""),[Ie,D]=A.useState(!1),[K,Y]=A.useState(!1),[ie,ve]=A.useState(0),Se=A.useRef({temperature:24.5,humidity:65,soil_moisture:750,pump_status:"OFF",led_status:"OFF"}),ue=A.useCallback((ce,fe)=>{const we={id:new Date().toISOString(),message:ce,icon:fe,time:new Date().toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};G(Ut=>[we,...Ut.slice(0,19)])},[]),De=A.useCallback((ce,fe)=>{o({message:ce,type:fe,show:!0}),setTimeout(()=>o(we=>({...we,show:!1})),5e3)},[]),ot=()=>{ve(0),Y(!0)};A.useEffect(()=>{const ce=localStorage.getItem("farmcoding_theme");if(ce)e(ce);else{const we=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;e(we?"dark":"light")}localStorage.getItem("farmcoding_tutorial_seen")||setTimeout(()=>{ot(),localStorage.setItem("farmcoding_tutorial_seen","true")},1e3),ue("팜코딩 시스템 시작됨","🚀")},[ue]),A.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark"),localStorage.setItem("farmcoding_theme",t)},[t]);const le=A.useCallback(ce=>{Ae(fe=>{if(!fe)return null;const we={...fe,...ce,activeBoosts:{...fe.activeBoosts||{},...ce.activeBoosts||{}}};return c&&localStorage.setItem("farmcoding_profile_react",JSON.stringify(we)),we})},[a,jD,c]),Le=A.useCallback((ce,fe="item")=>{if(!W)return;let we=ce;const Ut={},st=JSON.parse(JSON.stringify(W.activeBoosts||{}));if(fe==="mission"&&(Ut.coins=(W.coins||0)+CP,st.xpMultiplier)){const Sn=st.xpMultiplier;we*=Sn.multiplier,De(`✨ XP 부스터! ${Sn.multiplier}배 보너스!`,"success");const hl=Sn.remaining-1;hl>0?Sn.remaining=hl:(delete st.xpMultiplier,ue("XP 부스터 효과가 종료되었습니다.","✨")),Ut.activeBoosts=st}let Jn=W.xp+we,It=W.level,kr=[...W.unlockedCrops];const Yi=fe==="mission"?`+${we} XP & +${CP} 코인!`:`+${we} XP!`;De(Yi,"success"),ue(`${we} XP를 획득했습니다.`,"⭐");let $o=OT(It);for(;Jn>=$o;){Jn-=$o,It++,De(`레벨 업! 🎉 레벨 ${It} 달성!`,"success"),ue(`레벨 ${It}으로 올랐습니다!`,"🏆");const Sn=bm.find(hl=>hl.unlockLevel===It);Sn&&!kr.includes(Sn.id)&&(kr.push(Sn.id),De(`새로운 작물 해제: ${Sn.name} ${Sn.emoji}`,"success"),ue(`${Sn.name}을 재배할 수 있게 되었습니다.`,"🌱")),$o=OT(It)}Ut.xp=Jn,Ut.level=It,Ut.unlockedCrops=kr,le(Ut)},[W,le,De,ue]),Ve=A.useCallback(()=>{if(!W)return;const ce=new Date().toISOString().split("T")[0];if(W.lastCheckIn!==ce){ue("오늘 처음 방문하셨군요! 출석 보너스를 드립니다.","🎁"),Le(KY,"checkin");const fe=(W.coins||0)+xP;le({lastCheckIn:ce,coins:fe}),De(`+${xP} 코인 획득! (출석 보너스)`,"success")}},[W,Le,ue,le,De]);A.useEffect(()=>{W&&W.hasSelectedInitialCrop&&(a||c)&&Ve()},[W,a,c,Ve]),A.useEffect(()=>{{v(!1);return}},[ue,De]),A.useEffect(()=>{{T(Se.current);const ce=setInterval(()=>{const fe=Date.now(),we=Math.sin(fe/6e4)*5,Ut=Math.cos(fe/75e3)*10;let st=Se.current.soil_moisture??750;Se.current.pump_status==="ON"?st=Math.max(200,st-15):st=Math.min(1023,st+1),Se.current={...Se.current,temperature:parseFloat((25+we).toFixed(1)),humidity:Math.round(60+Ut),soil_moisture:Math.round(st)},T({...Se.current})},2e3);return()=>clearInterval(ce)}},[a,c,jD]),A.useEffect(()=>{const fe={time:new Date().toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),Temperature:_.temperature??null,Humidity:_.humidity??null,"Soil Moisture":_.soil_moisture??null};S(we=>[...we.slice(-29),fe]),_.temperature!==void 0&&(_.temperature>L.highTemp?De(`🔥 고온 경고! ${_.temperature}°C`,"danger"):_.temperature<L.lowTemp&&De(`❄️ 저온 경고! ${_.temperature}°C`,"info")),ke&&ke.check(_)&&(De(`🎉 도전과제 성공: ${ke.title}`,"success"),ue(`도전과제 성공: ${ke.title}`,"🎉"),Le(WY,"mission"),Ee(null))},[_,L,ke,ue,De,Le]),A.useEffect(()=>{const ce=async(we,Ut)=>{try{const[st,Jn]=await Promise.allSettled([fetch(`https://api.open-meteo.com/v1/forecast?latitude=${we}&longitude=${Ut}&current=temperature_2m,relative_humidity_2m,weather_code&timezone=Asia%2FSeoul`),fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${we}&longitude=${Ut}&localityLanguage=ko`)]);if(Jn.status==="fulfilled"&&Jn.value.ok){const It=await Jn.value.json();P(It.city||It.principalSubdivision||"위치 정보 없음")}else P("위치 정보 로드 실패");if(st.status==="fulfilled"&&st.value.ok){const kr=(await st.value.json()).current;x({temperature:kr.temperature_2m,humidity:kr.relative_humidity_2m,description:jY[kr.weather_code]||"정보 없음"})}else x({})}catch(st){console.error("Error processing API responses:",st),P("정보 처리 중 오류 발생"),x({})}};let fe=null;return navigator.geolocation?fe=navigator.geolocation.watchPosition(we=>ce(we.coords.latitude,we.coords.longitude),()=>ce(37.57,126.98),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):ce(37.57,126.98),()=>{fe!==null&&navigator.geolocation.clearWatch(fe)}},[]),A.useEffect(()=>{const ce=setInterval(()=>M(new Date),1e3);return()=>clearInterval(ce)},[]);const re=()=>e(ce=>ce==="light"?"dark":"light"),Gt=async()=>{{De("Firebase is not configured for authentication.","danger");return}},Xe=async()=>{},Tn=()=>{d(!0),ue("게스트 모드로 실행합니다.","👤");const ce=localStorage.getItem("farmcoding_settings_react");ce&&F(JSON.parse(ce));const fe=localStorage.getItem("farmcoding_profile_react");Ae(fe?JSON.parse(fe):YY);const we=localStorage.getItem("farmcoding_ota_enabled_react")==="true";Q(we),De("게스트 모드로 시작합니다. 작업 내용은 브라우저에만 저장됩니다.","info")},En=()=>{d(!1),ue("게스트 모드를 종료합니다. 로그인 화면으로 이동합니다.","🚪"),De("로그인하여 작업을 클라우드에 저장하세요.","info")},jt=ce=>{F(ce),localStorage.setItem("farmcoding_settings_react",JSON.stringify(ce)),r(null),ue("설정 저장됨","⚙️"),De("설정이 저장되었습니다.","success")},fl=ce=>{Q(ce),localStorage.setItem("farmcoding_ota_enabled_react",String(ce))},lh=ce=>{setTimeout(()=>{const fe=bm.find(we=>we.id===ce);ue("✅ 관리자 승인 완료!",`자, 이제 ${fe==null?void 0:fe.name} 재배를 시작해볼까요?`),De(`재배가 시작되었습니다: ${fe==null?void 0:fe.name} ${fe==null?void 0:fe.emoji}`,"success"),le({currentCrop:ce,hasSelectedInitialCrop:!0})},2500)},uh=ce=>{var Ut;if(!W)return;const fe=oB.find(st=>st.id===ce);if(fe){if(W.coins<fe.price){De("코인이 부족합니다.","danger");return}if(fe.effect.type==="XP_BOOST"&&((Ut=W.activeBoosts)!=null&&Ut.xpMultiplier)){De("이미 XP 부스터가 활성화되어 있습니다.","info");return}const Jn={coins:W.coins-fe.price};switch(fe.effect.type){case"INSTANT_XP":le(Jn),Le(fe.effect.value,"item");break;case"XP_BOOST":Jn.activeBoosts={...W.activeBoosts,xpMultiplier:{multiplier:fe.effect.value,remaining:fe.effect.duration||1}},ue(`XP 부스터(${fe.effect.value}배)가 활성화되었습니다!`,"✨"),le(Jn);break}De(`${fe.name} 구매 완료!`,"success");return}const we=sB.find(st=>st.id===ce);if(we){if(W.coins<we.coinPrice){De("코인이 부족합니다.","danger");return}const st=W.coins-we.coinPrice;le({coins:st}),De(`'${we.name}' 구매 신청 완료! 관리자에게 문의하여 상품을 수령하세요.`,"success"),ue(`[실물상품] ${we.name} 구매 신청`,"🛍️");return}De("알 수 없는 아이템입니다.","danger")},dl=()=>{if(!$.current)return;const ce=$.current.getXml();localStorage.setItem("farmcoding_blockly_xml_react",ce),ue("블록 임시 저장됨","💾"),De("게스트 모드에서는 블록을 브라우저에 임시 저장합니다.","info")},Nv=async()=>{if($.current){const ce=localStorage.getItem("farmcoding_blockly_xml_react");ce?($.current.loadXml(ce),ue("임시 저장된 블록 불러옴","📂"),De("브라우저에서 임시 저장된 블록을 불러왔습니다.","success")):De("저장된 블록이 없습니다.","info")}},mc=ce=>{{const[we,Ut]=ce.split("_");if(we==="pump"||we==="led"){const st=`${we}_status`;Se.current[st]=Ut.toUpperCase(),T({...Se.current})}}let fe;ce==="pump_on"?fe="펌프 켬":ce==="pump_off"?fe="펌프 끔":ce==="led_on"?fe="LED 켬":ce==="led_off"&&(fe="LED 끔"),fe&&ue(fe,"🕹️")},Mv=async()=>{if(!$.current)return;const ce=$.current.getJsCode();ue("블록코드 실행 시작","🤖");try{const fe={..._},we=It=>fe[It]??0,Ut=It=>L[It],st=It=>ue(typeof It=="string"?It:JSON.stringify(It),"💬");await new Function("uploadCodeToFirebase","getSensorValue","getSettingValue","addLog",`return (async () => { ${ce} })();`)(mc,we,Ut,st),De("블록코드 실행 완료!","success"),ue("블록코드 실행 완료","✅")}catch(fe){console.error("Blockly code execution error:",fe),De(`코드 실행 오류: ${fe.message}`,"danger"),ue("블록코드 실행 오류","❌")}},kv=async ce=>{if($.current){D(!0),ue("AI가 블록을 생성하고 있습니다...","✨");try{const fe=await zoe(ce);$.current.loadXml(fe),r(null),De("AI가 블록을 성공적으로 생성했습니다!","success"),ue("AI 블록 생성 완료!","🤖")}catch(fe){De(fe.message||"AI 블록 생성에 실패했습니다.","danger"),ue("AI 블록 생성 실패","❌")}finally{D(!1)}}};if(h)return I.jsx(xbe,{});if(!a&&!c)return I.jsx(Abe,{onLogin:Gt,onGuestMode:Tn,isFirebaseConfigured:Sbe});const Js=W&&!W.hasSelectedInitialCrop;return I.jsxs("div",{className:"min-h-screen transition-colors duration-300",children:[K&&I.jsx(sbe,{steps:wbe,currentStepIndex:ie,onNext:()=>ve(ce=>ce+1),onPrev:()=>ve(ce=>ce-1),onClose:()=>Y(!1)}),I.jsxs("header",{className:"bg-gradient-to-r from-primary to-green-400 dark:from-green-700 dark:to-green-600 text-white p-6 text-center shadow-md relative",children:[I.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-4",children:[a&&I.jsx(Ibe,{user:a,onLogout:Xe}),c&&I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:"text-sm bg-white/20 px-3 py-1 rounded-full hidden sm:block",children:"게스트 모드"}),I.jsx("button",{onClick:En,className:"text-sm font-bold text-white bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded-full transition-colors",title:"로그인 또는 회원가입",children:"로그인/가입"})]}),I.jsx("button",{onClick:re,className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:t==="light"?I.jsx(lbe,{className:"w-6 h-6"}):I.jsx(abe,{className:"w-6 h-6"})})]}),I.jsx("h1",{className:"text-4xl font-bold text-shadow",children:"🌱 팜코딩 (FARMCODING)"}),I.jsx("p",{className:"mt-1 opacity-90",children:"AI와 블록코딩으로 나만의 스마트팜 만들기"})]}),I.jsx(Rbe,{status:_,weather:w,location:N,time:k}),I.jsx(Pbe,{message:i.message,show:i.show,type:i.type}),I.jsxs("main",{className:"p-4 md:p-6 max-w-[1800px] mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[I.jsx("div",{className:"lg:col-span-2 min-h-[600px] animate-fadeInUp",children:I.jsxs("div",{id:"blockly-editor-wrapper",className:"bg-light-panel dark:bg-dark-panel rounded-xl shadow-lg h-full p-4 flex flex-col",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[I.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[I.jsx(cbe,{className:"w-6 h-6 text-primary"})," 블록 코딩"]}),I.jsxs("div",{className:"flex gap-2 flex-wrap justify-end",children:[I.jsxs("button",{id:"ai-block-generator-button",onClick:()=>r("ai-block"),className:"btn-primary flex items-center gap-2",children:[I.jsx(mbe,{className:"w-5 h-5"})," AI로 만들기"]}),I.jsx("button",{onClick:()=>r("code"),className:"btn-secondary",children:"코드 보기"}),I.jsx("button",{onClick:dl,className:"btn-secondary",children:"저장"}),I.jsx("button",{onClick:Nv,className:"btn-secondary",children:"불러오기"})]})]}),I.jsx("div",{className:"flex-grow rounded-lg overflow-hidden",children:I.jsx(joe,{ref:$,onCodeChange:he})})]})}),I.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-6 animate-fadeInUp",style:{animationDelay:"0.2s"},children:[W&&I.jsx(_be,{user:a,profile:W}),I.jsx(Nbe,{onCommand:mc,onRunCode:Mv,onOpenModal:r,onStartTutorial:ot,latestStatus:_,eventLogs:X}),I.jsxs("div",{className:"card",children:[I.jsx("h3",{className:"card-title",children:"📈 실시간 데이터"}),I.jsx(obe,{data:E})]}),ae&&I.jsx(Mbe,{addEventLog:ue,showAlert:De})]})]}),n==="cctv"&&I.jsx(kbe,{onClose:()=>r(null)}),n==="settings"&&I.jsx(Obe,{onClose:()=>r(null),onSave:jt,currentSettings:L,onToggleOta:fl,isOtaEnabled:ae}),n==="code"&&I.jsx(Dbe,{code:te,onClose:()=>r(null)}),n==="mission"&&I.jsx(Lbe,{onClose:()=>r(null),onStartMission:ce=>{Ee(ce),r(null),ue(`도전과제 시작: ${ce.title}`,"🏆")}}),n==="ai"&&I.jsx(Ube,{status:_,onClose:()=>r(null)}),n==="ai-block"&&I.jsx(Bbe,{onClose:()=>r(null),onGenerate:kv,isLoading:Ie}),n==="store"&&W&&I.jsx(Ebe,{onClose:()=>r(null),profile:W,onPurchase:uh}),Js&&W&&I.jsx(Tbe,{onClose:()=>{},profile:W,onSave:lh,isInitialSelection:!0})]})},xbe=()=>I.jsx("div",{className:"w-full h-screen flex flex-col items-center justify-center bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text",children:I.jsxs("div",{className:"text-center animate-fadeInUp",children:[I.jsx("h1",{className:"text-4xl font-bold text-shadow text-primary mb-4",children:"🌱 팜코딩"}),I.jsx("p",{className:"text-lg",children:"로딩 중입니다. 잠시만 기다려주세요..."}),I.jsx("div",{className:"mt-8 border-4 border-gray-200 border-t-primary rounded-full w-12 h-12 animate-spin mx-auto"})]})}),Abe=({onLogin:t,onGuestMode:e,isFirebaseConfigured:n})=>I.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-light-bg dark:bg-dark-bg p-4",children:I.jsxs("div",{className:"w-full max-w-md text-center card animate-fadeInUp",children:[I.jsx("h1",{className:"text-4xl font-bold text-shadow text-primary",children:"🌱 팜코딩"}),I.jsx("p",{className:"mt-2 mb-8 text-light-text dark:text-dark-text opacity-80",children:"AI와 블록코딩으로 나만의 스마트팜 만들기"}),n?I.jsx("p",{className:"mb-6",children:"시작하려면 구글 계정으로 로그인하세요. 작업 내용은 클라우드에 안전하게 저장됩니다."}):I.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 border-l-4 border-yellow-500 text-yellow-700 dark:text-yellow-200 p-4 mb-6 text-left rounded",role:"alert",children:[I.jsx("p",{className:"font-bold",children:"⚠️ 설정 안내"}),I.jsx("p",{className:"text-sm mt-1",children:"로그인 및 클라우드 저장 기능을 사용하려면 Firebase 설정이 필요합니다. 게스트 모드로 계속할 수 있으며, 이 경우 작업 내용은 브라우저에 임시 저장됩니다."})]}),I.jsxs("button",{onClick:t,disabled:!n,className:"btn-primary w-full flex items-center justify-center gap-3",children:[I.jsx(hbe,{className:"w-6 h-6"}),"Google 계정으로 로그인"]}),I.jsx("button",{onClick:e,className:"btn-secondary w-full mt-3",children:"게스트 모드로 계속하기"})]})}),Ibe=({user:t,onLogout:e})=>{const[n,r]=A.useState(!1),i=A.useRef(null);return A.useEffect(()=>{const o=a=>{i.current&&!i.current.contains(a.target)&&r(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]),I.jsxs("div",{className:"relative",ref:i,children:[I.jsx("button",{onClick:()=>r(o=>!o),className:"flex items-center gap-2",children:I.jsx("img",{src:t.photoURL||void 0,alt:"User",className:"w-8 h-8 rounded-full"})}),n&&I.jsxs("div",{className:"absolute top-12 right-0 bg-light-panel dark:bg-dark-panel rounded-lg shadow-lg w-48 z-10 py-2 animate-fadeInDown",children:[I.jsxs("div",{className:"px-4 py-2 border-b border-light-border dark:border-dark-border",children:[I.jsx("p",{className:"font-semibold truncate",children:t.displayName}),I.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.email})]}),I.jsxs("button",{onClick:()=>{e(),r(!1)},className:"w-full text-left px-4 py-2 text-sm flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:[I.jsx(dbe,{className:"w-4 h-4"})," 로그아웃"]})]})]})},Rbe=({status:t,weather:e,location:n,time:r})=>{const[i,o]=A.useState(0),a=[{icon:"🌡️",label:"외부 온도",value:e.temperature?`${e.temperature}°C`:"..."},{icon:"💧",label:"외부 습도",value:e.humidity?`${e.humidity}%`:"..."},{icon:"🌤️",label:"날씨",value:e.description||"..."},{icon:"🌡️",label:"내부 온도",value:t.temperature!==void 0?`${t.temperature}°C`:"..."},{icon:"💧",label:"내부 습도",value:t.humidity!==void 0?`${t.humidity}%`:"..."},{icon:"🌱",label:"토양 습도",value:t.soil_moisture!==void 0?`${t.soil_moisture}`:"..."}];return A.useEffect(()=>{const u=setInterval(()=>o(c=>(c+1)%a.length),4e3);return()=>clearInterval(u)},[a.length]),I.jsxs("div",{className:"bg-light-panel dark:bg-dark-panel shadow-md p-3 px-6 flex justify-between items-center flex-wrap gap-4 animate-fadeInDown",children:[I.jsxs("div",{className:"flex gap-6 items-center text-sm md:text-base",children:[I.jsxs("div",{children:["📍 ",I.jsx("span",{className:"font-semibold",children:"지역:"})," ",I.jsx("span",{className:"text-primary",children:n})]}),I.jsxs("div",{children:["⏰ ",I.jsx("span",{className:"font-semibold",children:"시간:"})," ",I.jsx("span",{className:"text-primary",children:r.toLocaleTimeString("ko-KR")})]})]}),I.jsxs("div",{className:"text-sm md:text-base min-w-[200px] text-right transition-opacity duration-300",children:[a[i].icon," ",I.jsxs("span",{className:"font-semibold",children:[a[i].label,":"]})," ",I.jsx("span",{className:"text-primary font-bold",children:a[i].value})]})]})},Pbe=({message:t,show:e,type:n})=>{const r={danger:"bg-red-500",info:"bg-blue-500",success:"bg-green-500"}[n],i={danger:"🚨",info:"ℹ️",success:"✅"}[n];return I.jsxs("div",{className:`fixed top-5 left-1/2 -translate-x-1/2 ${r} text-white py-3 px-6 rounded-lg shadow-xl transition-all duration-500 z-50 flex items-center gap-3 ${e?"opacity-100 translate-y-0":"opacity-0 -translate-y-20"}`,children:[I.jsx("span",{children:i}),I.jsx("span",{children:t})]})},Nbe=({onCommand:t,onRunCode:e,onOpenModal:n,onStartTutorial:r,latestStatus:i,eventLogs:o})=>{const a=i.pump_status==="ON",u=i.led_status==="ON";return I.jsxs("div",{id:"control-panel-card",className:"card",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsx("h3",{className:"card-title",children:"👆 제어판"}),I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition",title:"튜토리얼 시작",children:I.jsx(pbe,{className:"w-6 h-6"})}),I.jsx("button",{onClick:()=>n("settings"),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition",children:I.jsx(ube,{className:"w-6 h-6"})})]})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[I.jsxs("button",{onClick:()=>n("ai"),className:"btn-primary col-span-2 flex items-center justify-center gap-2",children:[I.jsx(fbe,{className:"w-5 h-5"})," AI 농부"]}),I.jsx("button",{id:"missions-button",onClick:()=>n("mission"),className:"btn-primary col-span-2",children:"🏆 도전과제"}),I.jsxs("button",{onClick:()=>n("store"),className:"btn-primary col-span-2 flex items-center justify-center gap-2",children:[I.jsx(Qf,{className:"w-5 h-5"})," 🛒 상점"]}),I.jsx("button",{id:"run-code-button",onClick:e,className:"btn-primary col-span-2",children:"🤖 코드 실행"}),I.jsx("button",{onClick:()=>t(a?"pump_off":"pump_on"),className:`${a?"btn-danger":"btn-secondary"}`,children:a?"🛑 펌프 끄기":"💧 펌프 켜기"}),I.jsx("button",{onClick:()=>t(u?"led_off":"led_on"),className:`${u?"btn-danger":"btn-secondary"}`,children:u?"🔌 LED 끄기":"💡 LED 켜기"}),I.jsx("button",{onClick:()=>n("cctv"),className:"btn-secondary col-span-2",children:"📹 CCTV 보기"})]}),I.jsxs("div",{id:"event-log-container",className:"mt-4 pt-4 border-t border-light-border dark:border-dark-border",children:[I.jsx("h4",{className:"font-bold mb-2",children:"이벤트 로그"}),I.jsx("div",{className:"h-32 overflow-y-auto text-sm space-y-1 pr-2",children:o.length>0?o.map(c=>I.jsxs("div",{className:"flex justify-between items-center opacity-80",children:[I.jsxs("span",{children:[c.icon," ",c.message]}),I.jsx("span",{className:"text-xs",children:c.time})]},c.id)):I.jsx("p",{className:"text-center text-gray-400 mt-8",children:"이벤트가 없습니다."})})]})]})},Mbe=({addEventLog:t,showAlert:e})=>{const[n,r]=A.useState(null),[i,o]=A.useState(0),[a,u]=A.useState(!1),c=()=>{if(!n){e("펌웨어(.bin) 파일을 선택해주세요.","info");return}u(!0),o(0);{t("펌웨어 업로드 시작 (목)","🛰️");const d=setInterval(()=>o(h=>{const v=h+10;return v>=100?(clearInterval(d),setTimeout(()=>{e("펌웨어 업로드 성공! (목 모드)","success"),t("펌웨어 업로드 완료 (목)","🛰️"),u(!1),r(null),o(0)},500),100):v}),200)}};return I.jsxs("div",{className:"card",children:[I.jsx("h3",{className:"card-title",children:"🛰️ 펌웨어 원격 업데이트 (OTA)"}),I.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-2 mb-3",children:"새 펌웨어(.bin) 파일을 선택하세요."}),I.jsx("input",{type:"file",accept:".bin",onChange:d=>r(d.target.files?d.target.files[0]:null),className:"file-input",disabled:a}),I.jsx("button",{onClick:c,disabled:!n||a,className:"btn-primary w-full mt-3",children:"🚀 업데이트 시작"}),a&&I.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 mt-3 overflow-hidden",children:I.jsxs("div",{className:"bg-primary h-4 rounded-full text-center text-white text-xs leading-4 transition-all duration-300",style:{width:`${i}%`},children:[Math.round(i),"%"]})})]})},pc=({onClose:t,title:e,children:n})=>I.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:t,children:I.jsxs("div",{className:"bg-light-panel dark:bg-dark-panel rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col animate-fadeInUp",onClick:r=>r.stopPropagation(),children:[I.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-light-border dark:border-dark-border",children:[I.jsx("h3",{className:"text-xl font-bold",children:e}),I.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition text-2xl",children:"×"})]}),I.jsx("div",{className:"p-6 overflow-y-auto",children:n})]})}),kbe=({onClose:t})=>{const[e,n]=A.useState(!0);return I.jsx(pc,{onClose:t,title:"📹 실시간 스마트팜 CCTV",children:I.jsxs("div",{className:"aspect-video bg-black rounded-lg overflow-hidden relative",children:[e&&I.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:"로딩 중..."}),I.jsx("iframe",{className:"w-full h-full",src:"https://www.youtube.com/embed/-JhoMGoAfFc?autoplay=1&mute=1&loop=1&playlist=-JhoMGoAfFc&controls=0",title:"Live Cam",allow:"autoplay; encrypted-media",allowFullScreen:!0,onLoad:()=>n(!1)})]})})},Obe=({onClose:t,onSave:e,currentSettings:n,onToggleOta:r,isOtaEnabled:i})=>{const[o,a]=A.useState(n);return I.jsxs(pc,{onClose:t,title:"⚙️ 설정",children:[I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("label",{htmlFor:"high-temp",className:"font-semibold",children:"고온 경고 기준 (°C)"}),I.jsx("input",{type:"number",id:"high-temp",value:o.highTemp,onChange:u=>a(c=>({...c,highTemp:+u.target.value})),className:"form-input w-24"})]}),I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("label",{htmlFor:"low-temp",className:"font-semibold",children:"저온 경고 기준 (°C)"}),I.jsx("input",{type:"number",id:"low-temp",value:o.lowTemp,onChange:u=>a(c=>({...c,lowTemp:+u.target.value})),className:"form-input w-24"})]}),I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("label",{htmlFor:"ota-toggle",className:"font-semibold",children:"펌웨어 업데이트 메뉴 표시"}),I.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[I.jsx("input",{type:"checkbox",id:"ota-toggle",className:"sr-only peer",checked:i,onChange:u=>r(u.target.checked)}),I.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"})]})]})]}),I.jsx("button",{onClick:()=>e(o),className:"btn-primary w-full mt-6",children:"저장"})]})},Dbe=({onClose:t,code:e})=>I.jsx(pc,{onClose:t,title:"</> JavaScript 코드 보기",children:I.jsx("textarea",{readOnly:!0,value:e,className:"w-full h-96 bg-gray-100 dark:bg-gray-800 rounded-md p-3 font-mono text-sm border border-light-border dark:border-dark-border focus:ring-primary focus:border-primary"})}),Lbe=({onClose:t,onStartMission:e})=>I.jsx(pc,{onClose:t,title:"🏆 도전과제",children:I.jsx("div",{className:"space-y-4",children:JY.map(n=>I.jsxs("div",{className:"p-4 rounded-lg border border-light-border dark:border-dark-border",children:[I.jsx("h4",{className:"font-bold text-lg",children:n.title}),I.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 my-1",children:n.desc}),I.jsx("button",{onClick:()=>e(n),className:"btn-secondary text-sm mt-2",children:"도전 시작"})]},n.id))})}),Ube=({onClose:t,status:e})=>{const[n,r]=A.useState(""),[i,o]=A.useState(!1),[a,u]=A.useState(""),c=A.useRef(null),d=async h=>{if(h.preventDefault(),!n||i)return;o(!0),u("");const v=await $oe(n,e);u(v),o(!1),r("")};return A.useEffect(()=>{var h;(h=c.current)==null||h.scrollIntoView({behavior:"smooth"})},[a,i]),I.jsx(pc,{onClose:t,title:"🤖 AI 농부",children:I.jsxs("div",{className:"flex flex-col h-[60vh]",children:[I.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 mb-4 space-y-4",children:[I.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg",children:[I.jsx("p",{className:"font-semibold text-primary",children:"AI 농부"}),I.jsx("p",{children:"안녕하세요! 스마트팜에 대해 궁금한 점이 있으신가요? 현재 센서 데이터를 바탕으로 답변해 드릴게요."})]}),a&&I.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg",children:[I.jsx("p",{className:"font-semibold text-primary",children:"AI 농부"}),I.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:a.replace(/\n/g,"<br />")}})]}),i&&I.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg animate-pulse",children:[I.jsx("p",{className:"font-semibold text-primary",children:"AI 농부"}),I.jsx("p",{children:"생각 중..."})]}),I.jsx("div",{ref:c})]}),I.jsxs("form",{onSubmit:d,className:"flex gap-2",children:[I.jsx("input",{type:"text",value:n,onChange:h=>r(h.target.value),placeholder:"예: 토마토 키우기 좋은 온도는?",className:"form-input flex-grow",disabled:i}),I.jsx("button",{type:"submit",className:"btn-primary",disabled:i||!n,children:i?"전송중...":"전송"})]})]})})},Bbe=({onClose:t,onGenerate:e,isLoading:n})=>{const[r,i]=A.useState(""),o=a=>{a.preventDefault(),!(!r||n)&&e(r)};return I.jsxs(pc,{onClose:t,title:"✨ AI로 블록 만들기",children:[I.jsxs("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-300",children:["원하는 자동화 규칙을 자연스러운 문장으로 입력해보세요. AI가 블록 코드로 변환해 드립니다.",I.jsx("br",{}),I.jsx("span",{className:"font-semibold",children:"예:"}),' "온도가 30도보다 높으면 LED를 끄고, 토양 습도가 800 이상이면 펌프를 켜줘."']}),I.jsxs("form",{onSubmit:o,className:"space-y-4",children:[I.jsx("textarea",{value:r,onChange:a=>i(a.target.value),placeholder:"원하는 동작을 입력하세요...",className:"form-input w-full h-24",disabled:n}),I.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:n||!r,children:n?"🧠 생성 중...":"블록 생성하기"})]})]})},tq=document.getElementById("root");if(!tq)throw new Error("Could not find root element to mount to");const Fbe=x$.createRoot(tq);Fbe.render(I.jsx(_$.StrictMode,{children:I.jsx(Cbe,{})}));
